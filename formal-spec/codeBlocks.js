!function(){let e=null,t=null;function n(e){const t=e.currentTarget,n=t.closest("pre.Agda");if(!n)return;const s=n.querySelector(".code-content");if(!s)return;const o=Array.from(s.querySelectorAll(".code-line")).map((e=>e.textContent)).join("\n"),i=document.createElement("textarea");i.value=o,i.style.position="absolute",i.style.left="-9999px",document.body.appendChild(i),i.select();try{document.execCommand("copy"),t.classList.add("copy-success"),setTimeout((()=>{t.classList.remove("copy-success")}),2e3)}catch(l){console.error("Failed to copy code: ",l)}document.body.removeChild(i)}function s(e,t,n){t>n&&([t,n]=[n,t]),o();for(let s=t;s<=n;s++){const o=`${e}-L${s}`,i=`${e}-LC${s}`,l=document.getElementById(o),c=document.getElementById(i);l&&(l.classList.add("highlighted"),t===n?l.classList.add("range-single"):s===t?l.classList.add("range-start"):s===n?l.classList.add("range-end"):l.classList.add("range-middle")),c&&(c.classList.add("highlighted"),t===n?c.classList.add("range-single"):s===t?c.classList.add("range-start"):s===n?c.classList.add("range-end"):c.classList.add("range-middle"))}}function o(){document.querySelectorAll(".code-line.highlighted").forEach((e=>{e.classList.remove("highlighted","range-start","range-middle","range-end","range-single")})),document.querySelectorAll(".line-number.highlighted").forEach((e=>{e.classList.remove("highlighted","range-start","range-middle","range-end","range-single")}))}function i(){o();const n=window.location.hash;if(n){const o=n.match(/#(B\d+)-L(\d+)-(\d+)$/);if(o){const n=o[1],i=parseInt(o[2]),l=parseInt(o[3]);s(n,i,l);const c=`${n}-LC${i}`,a=document.getElementById(c);return a&&setTimeout((()=>{a.scrollIntoView({behavior:"smooth",block:"center"})}),100),e=l,void(t=n)}const i=n.match(/#(B\d+)-L(\d+)$/);if(i){const n=i[1],s=parseInt(i[2]),o=`${n}-L${s}`,l=`${n}-LC${s}`,c=document.getElementById(l),a=document.getElementById(o);c&&(c.classList.add("highlighted","range-single"),a&&a.classList.add("highlighted","range-single"),setTimeout((()=>{c.scrollIntoView({behavior:"smooth",block:"center"})}),100),e=s,t=n)}else if(n.startsWith("#L")){const s=parseInt(n.substring(2)),o="B1",i=`${o}-LC${s}`,l=`${o}-L${s}`,c=document.getElementById(i),a=document.getElementById(l);c&&(c.classList.add("highlighted","range-single"),a&&a.classList.add("highlighted","range-single"),setTimeout((()=>{c.scrollIntoView({behavior:"smooth",block:"center"})}),100),e=s,t=o)}}}document.querySelectorAll(".copy-code-button").forEach((e=>{e.addEventListener("click",n)})),document.querySelectorAll(".line-number").forEach((n=>{n.addEventListener("click",(function(n){n.preventDefault();const i=parseInt(this.getAttribute("data-line-number")),l=this.getAttribute("data-block-id")||"block-1";if(i)if(n.shiftKey&&e&&t===l){const t=Math.min(e,i),n=Math.max(e,i);s(l,t,n);const o=window.location.pathname+window.location.search+`#${l}-L${t}-${n}`;history.pushState(null,"",o);const c=`${l}-LC${t}`,a=document.getElementById(c);a&&a.scrollIntoView({behavior:"smooth",block:"center"})}else{o(),this.classList.add("highlighted","range-single");const n=`${l}-LC${i}`,s=document.getElementById(n);if(s){s.classList.add("highlighted","range-single");const e=`${l}-L${i}`,t=window.location.pathname+window.location.search+"#"+e;history.pushState(null,"",t),s.scrollIntoView({behavior:"smooth",block:"center"})}e=i,t=l}}))})),i(),window.addEventListener("hashchange",i)}();
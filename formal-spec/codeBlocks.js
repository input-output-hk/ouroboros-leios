!function(){function e(e){const t=e.currentTarget,o=t.closest("pre.Agda");if(!o)return;const c=o.querySelector(".code-content");if(!c)return;const i=Array.from(c.querySelectorAll(".code-line")).map((e=>e.textContent)).join("\n"),l=document.createElement("textarea");l.value=i,l.style.position="absolute",l.style.left="-9999px",document.body.appendChild(l),l.select();try{document.execCommand("copy"),t.classList.add("copy-success"),setTimeout((()=>{t.classList.remove("copy-success")}),2e3)}catch(n){console.error("Failed to copy code: ",n)}document.body.removeChild(l)}function t(){document.querySelectorAll(".code-line.highlighted").forEach((e=>{e.classList.remove("highlighted")})),document.querySelectorAll(".line-number.highlighted").forEach((e=>{e.classList.remove("highlighted")}));const e=window.location.hash;if(e){const t=e.match(/#(B\d+)-L(\d+)$/);if(t){const e=t[1],o=t[2],c=`${e}-L${o}`,i=`${e}-LC${o}`,l=document.getElementById(i),n=document.getElementById(c);l&&(l.classList.add("highlighted"),n&&n.classList.add("highlighted"),setTimeout((()=>{l.scrollIntoView({behavior:"smooth",block:"center"})}),100))}else if(e.startsWith("#L")){const t=e.substring(2),o="B1",c=`${o}-LC${t}`,i=`${o}-L${t}`,l=document.getElementById(c),n=document.getElementById(i);l&&(l.classList.add("highlighted"),n&&n.classList.add("highlighted"),setTimeout((()=>{l.scrollIntoView({behavior:"smooth",block:"center"})}),100))}}}document.querySelectorAll(".copy-code-button").forEach((t=>{t.addEventListener("click",e)})),document.querySelectorAll(".line-number").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".code-line.highlighted").forEach((e=>{e.classList.remove("highlighted")})),document.querySelectorAll(".line-number.highlighted").forEach((e=>{e.classList.remove("highlighted")}));const t=this.getAttribute("data-line-number"),o=this.getAttribute("data-block-id")||"block-1";if(!t)return;this.classList.add("highlighted");const c=`${o}-LC${t}`,i=document.getElementById(c);if(i){i.classList.add("highlighted");const e=`${o}-L${t}`,c=window.location.pathname+window.location.search+"#"+e;history.pushState(null,"",c),i.scrollIntoView({behavior:"smooth",block:"center"})}}))})),t(),window.addEventListener("hashchange",t)}();
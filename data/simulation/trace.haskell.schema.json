{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "BaseBlockEvent": {
      "properties": {
        "id": {
          "type": "string"
        },
        "node": {
          "type": "string"
        },
        "slot": {
          "type": "number"
        },
        "type": {
          "enum": [
            "EBEnteredState",
            "EBGenerated",
            "IBEnteredState",
            "IBGenerated",
            "RBEnteredState",
            "RBGenerated",
            "VTEnteredState",
            "VTGenerated"
          ],
          "type": "string"
        }
      },
      "type": "object"
    },
    "BlockKind": {
      "enum": ["EB", "IB", "RB", "VT"],
      "type": "string"
    },
    "GeneratedEndorserBlock": {
      "properties": {
        "id": {
          "type": "string"
        },
        "input_blocks": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "node": {
          "type": "string"
        },
        "size_bytes": {
          "type": "number"
        },
        "slot": {
          "type": "number"
        },
        "type": {
          "enum": [
            "EBEnteredState",
            "EBGenerated",
            "IBEnteredState",
            "IBGenerated",
            "RBEnteredState",
            "RBGenerated",
            "VTEnteredState",
            "VTGenerated"
          ],
          "type": "string"
        }
      },
      "type": "object"
    },
    "GeneratedInputBlock": {
      "properties": {
        "id": {
          "type": "string"
        },
        "node": {
          "type": "string"
        },
        "payload_bytes": {
          "type": "number"
        },
        "rb_ref": {
          "type": "string"
        },
        "size_bytes": {
          "type": "number"
        },
        "slot": {
          "type": "number"
        },
        "type": {
          "enum": [
            "EBEnteredState",
            "EBGenerated",
            "IBEnteredState",
            "IBGenerated",
            "RBEnteredState",
            "RBGenerated",
            "VTEnteredState",
            "VTGenerated"
          ],
          "type": "string"
        }
      },
      "type": "object"
    },
    "GeneratedRankingBlock": {
      "properties": {
        "endorse_blocks": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "id": {
          "type": "string"
        },
        "node": {
          "type": "string"
        },
        "payload_bytes": {
          "type": "number"
        },
        "size_bytes": {
          "type": "number"
        },
        "slot": {
          "type": "number"
        },
        "type": {
          "enum": [
            "EBEnteredState",
            "EBGenerated",
            "IBEnteredState",
            "IBGenerated",
            "RBEnteredState",
            "RBGenerated",
            "VTEnteredState",
            "VTGenerated"
          ],
          "type": "string"
        }
      },
      "type": "object"
    },
    "GeneratedVote": {
      "properties": {
        "endorse_blocks": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "id": {
          "type": "string"
        },
        "node": {
          "type": "string"
        },
        "size_bytes": {
          "type": "number"
        },
        "slot": {
          "type": "number"
        },
        "type": {
          "enum": [
            "EBEnteredState",
            "EBGenerated",
            "IBEnteredState",
            "IBGenerated",
            "RBEnteredState",
            "RBGenerated",
            "VTEnteredState",
            "VTGenerated"
          ],
          "type": "string"
        },
        "votes": {
          "type": "number"
        }
      },
      "type": "object"
    },
    "HaskellCpuEvent": {
      "properties": {
        "cpu_time_s": {
          "type": "number"
        },
        "node": {
          "type": "string"
        },
        "task_label": {
          "type": "string"
        },
        "type": {
          "const": "Cpu",
          "type": "string"
        }
      },
      "type": "object"
    },
    "HaskellEvent": {
      "anyOf": [
        {
          "$ref": "#/definitions/HaskellCpuEvent"
        },
        {
          "$ref": "#/definitions/GeneratedInputBlock"
        },
        {
          "$ref": "#/definitions/BaseBlockEvent"
        },
        {
          "$ref": "#/definitions/GeneratedEndorserBlock"
        },
        {
          "$ref": "#/definitions/GeneratedRankingBlock"
        },
        {
          "$ref": "#/definitions/GeneratedVote"
        },
        {
          "$ref": "#/definitions/HaskellNetworkEvent"
        }
      ]
    },
    "HaskellNetworkEvent": {
      "properties": {
        "action": {
          "enum": ["Received", "Sent"],
          "type": "string"
        },
        "block_kind": {
          "$ref": "#/definitions/BlockKind"
        },
        "ids": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "msg_size_bytes": {
          "type": "number"
        },
        "recipient": {
          "type": "string"
        },
        "sender": {
          "type": "string"
        },
        "sending_s": {
          "type": "number"
        },
        "type": {
          "const": "NetworkMessage",
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "description": "Haskell simulation trace format",
  "properties": {
    "event": {
      "$ref": "#/definitions/HaskellEvent"
    },
    "time_s": {
      "type": "number"
    }
  },
  "type": "object"
}

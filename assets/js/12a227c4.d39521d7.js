"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[5791],{2015:(e,s,i)=>{i.r(s),i.d(s,{default:()=>z});var r=i(6540);const t="container_x1OL",a="sidebarOpen_QMeC",n="controls_vDGE",o="controlGroup_xqhI",l="control_EVj7",d="calculationBreakdown_I_Bb",c="breakdownGrid_EJb7",h="calculationSection_hGuK",x="calculationTitle_XjRO",m="calculationCode_W3Nk",j="breakdownItem_LZId",u="calculationNote_aMXD",b="tableContainer_n97K",v="table_qY85",g="sortable_g9UN",p="note_BWfQ",y="noteTitle__BQh",f="noteContent_qOXH",N="sidebarToggle_cVyc",B="visible_S_KZ",S="sidebar_GuRO",C="open_c15x",k="sidebarControls_C4Zm",w="sidebarHeader_Hi9C",P="closeButton_BqoZ";var T=i(4848);const M=[{name:"Google Cloud",egressCost:.12,freeAllowance:"0"},{name:"Railway",egressCost:.1,freeAllowance:"0"},{name:"AWS",egressCost:.09,freeAllowance:"100"},{name:"Microsoft Azure",egressCost:.087,freeAllowance:"100"},{name:"Alibaba Cloud",egressCost:.074,freeAllowance:"10"},{name:"DigitalOcean",egressCost:.01,freeAllowance:"100\u201310,000"},{name:"Oracle Cloud",egressCost:.0085,freeAllowance:"10,240"},{name:"Linode",egressCost:.005,freeAllowance:"1,024\u201320,480"},{name:"Hetzner",egressCost:.00108,freeAllowance:"1,024"},{name:"UpCloud",egressCost:0,freeAllowance:"1,024\u201324,576"}],L=[1,5,10,20,30],A=2592e3,F={ib:{header:304,body:98304},eb:{header:240,body:32},rb:{header:1024,body:90112},vote:{size:150,countPerPipeline:900}},I=.155381,_=43946e-9,E=1400,$=()=>{const[e,s]=(0,r.useState)(20),[i,$]=(0,r.useState)(100),[R,z]=(0,r.useState)(25),[D,H]=(0,r.useState)(100),[G,O]=(0,r.useState)(.5),[U,q]=(0,r.useState)(1e4),[V,K]=(0,r.useState)(20),[W,Z]=(0,r.useState)({key:"egressCost",direction:"desc"}),[Q,X]=(0,r.useState)(!1),[J,Y]=(0,r.useState)(!1),ee=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=()=>{if(ee.current){const e=ee.current.getBoundingClientRect().bottom;Y(e<0)}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const se=s=>{const r=s*A,t=129600,a=129600,n=Math.round(e*(i/100)),o=Math.round(e*(R/100)),l={ib:{headers:r*F.ib.header*n,bodies:r*F.ib.body*(D/100)*o},eb:{headers:s*F.eb.header*1.5*n*t,bodies:s*F.eb.body*1.5*o*t},rb:{headers:a*F.rb.header*n,bodies:a*F.rb.body*o},votes:{votes:194400*F.vote.size*F.vote.countPerPipeline*n}},d=Object.values(l).reduce(((e,s)=>"votes"in s?e+s.votes:e+s.headers+s.bodies),0),c=r*Math.floor(F.ib.body*(D/100)/E);return{traffic:l,totalTraffic:d,txFeeADA:c*(I+_*E),totalTxs:c}},ie=(e,s)=>{const i=parseInt(s.freeAllowance.split("\u2013")[0]);return Math.max(0,e-i)*s.egressCost},re=e=>{Z((s=>({key:e,direction:s.key===e&&"asc"===s.direction?"desc":"asc"})))},te=(0,r.useMemo)((()=>[...M].sort(((e,s)=>{if("name"===W.key)return"asc"===W.direction?e.name.localeCompare(s.name):s.name.localeCompare(e.name);if("egressCost"===W.key)return"asc"===W.direction?e.egressCost-s.egressCost:s.egressCost-e.egressCost;if("freeAllowance"===W.key){const i=parseInt(e.freeAllowance.split("\u2013")[0]),r=parseInt(s.freeAllowance.split("\u2013")[0]);return"asc"===W.direction?i-r:r-i}if(W.key.startsWith("ib_")){const i=parseInt(W.key.split("_")[1]),{totalTraffic:r}=se(i),{totalTraffic:t}=se(i),a=ie(r/1e9,e),n=ie(t/1e9,s);return"asc"===W.direction?a-n:n-a}return 0}))),[W]),ae=e=>W.key!==e?"\u2195\ufe0f":"asc"===W.direction?"\u2191":"\u2193",ne=e=>e>=1099511627776?(e/1099511627776).toFixed(2)+" TiB":e>=1073741824?(e/1073741824).toFixed(2)+" GiB":e>=1048576?(e/1048576).toFixed(2)+" MiB":(e/1024).toFixed(2)+" KiB",oe=r=>{let{idPrefix:t=""}=r;return(0,T.jsxs)("div",{className:n,children:[(0,T.jsxs)("div",{className:o,children:[(0,T.jsx)("h4",{children:"Network Parameters"}),(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("label",{htmlFor:`${t}numPeers`,children:"Number of Peers:"}),(0,T.jsx)("input",{type:"number",id:`${t}numPeers`,value:e,onChange:e=>s(parseInt(e.target.value)),min:"1"})]}),(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("label",{htmlFor:`${t}totalNodes`,children:"Total Network Nodes:"}),(0,T.jsx)("input",{type:"number",id:`${t}totalNodes`,value:U,onChange:e=>q(parseInt(e.target.value)),min:"1"})]})]}),(0,T.jsxs)("div",{className:o,children:[(0,T.jsx)("h4",{children:"Block Parameters"}),(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("label",{htmlFor:`${t}headerPropagation`,children:"Header Propagation (% of peers):"}),(0,T.jsx)("input",{type:"number",id:`${t}headerPropagation`,value:i,onChange:e=>$(parseInt(e.target.value)),min:"0",max:"100"})]}),(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("label",{htmlFor:`${t}bodyRequest`,children:"Body Request (% of peers):"}),(0,T.jsx)("input",{type:"number",id:`${t}bodyRequest`,value:R,onChange:e=>z(parseInt(e.target.value)),min:"0",max:"100"})]}),(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("label",{htmlFor:`${t}blockUtilization`,children:"Input Block Utilization (%):"}),(0,T.jsx)("input",{type:"number",id:`${t}blockUtilization`,value:D,onChange:e=>H(parseInt(e.target.value)),min:"0",max:"100"})]})]}),(0,T.jsxs)("div",{className:o,children:[(0,T.jsx)("h4",{children:"Economic Parameters"}),(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("label",{htmlFor:`${t}adaToUsd`,children:"ADA/USD Price:"}),(0,T.jsx)("input",{type:"number",id:`${t}adaToUsd`,value:G,onChange:e=>O(parseFloat(e.target.value)),min:"0",step:"0.01"})]}),(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("label",{htmlFor:`${t}treasuryTaxRate`,children:"Treasury Tax Rate (%):"}),(0,T.jsx)("input",{type:"number",id:`${t}treasuryTaxRate`,value:V,onChange:e=>K(parseInt(e.target.value)),min:"0",max:"100"})]})]})]})};return(0,T.jsxs)("div",{className:`${t} ${Q?a:""}`,children:[(0,T.jsx)("div",{ref:ee,children:(0,T.jsx)(oe,{idPrefix:"top-"})}),(0,T.jsx)("button",{className:`${N} ${J?B:""}`,onClick:()=>X(!Q),children:Q?"Hide Parameters":"Show Parameters"}),(0,T.jsxs)("div",{className:`${S} ${Q?C:""}`,children:[(0,T.jsxs)("div",{className:w,children:[(0,T.jsx)("h3",{children:"Parameters"}),(0,T.jsx)("button",{className:P,onClick:()=>X(!1),children:"\xd7"})]}),(0,T.jsx)("div",{className:k,children:(0,T.jsx)(oe,{idPrefix:"sidebar-"})})]}),(0,T.jsxs)("div",{className:d,children:[(0,T.jsx)("h3",{children:"Calculation Breakdown"}),(0,T.jsxs)("div",{className:c,children:[(0,T.jsxs)("div",{className:j,children:[(0,T.jsx)("h4",{children:"General Parameters"}),(0,T.jsxs)("div",{className:h,children:[(0,T.jsx)("div",{className:x,children:"Time Period"}),(0,T.jsxs)("div",{className:m,children:["Seconds/Month ="," ",A.toLocaleString()]}),(0,T.jsx)("div",{className:x,children:"Peer Distribution"}),(0,T.jsxs)("div",{className:m,children:["Header Peers = ",e," \xd7"," ",i,"% = ",Math.round(e*(i/100)),"\n","Body Peers = ",e," \xd7"," ",R,"% = ",Math.round(e*(R/100))]}),(0,T.jsx)("div",{className:x,children:"Transaction Parameters"}),(0,T.jsxs)("div",{className:m,children:["Avg Tx Size = ",E," bytes","\n","Base Fee = ",I," \u20b3","\n","Fee/Byte = ",_," \u20b3","\n","Txs/IB = ",Math.floor(F.ib.body*(D/100)/E)," Txs","\n","Fee/Tx = ",(I+_*E).toFixed(6)," \u20b3"]})]})]}),(0,T.jsxs)("div",{className:j,children:[(0,T.jsx)("h4",{children:"Block Timing"}),(0,T.jsxs)("div",{className:h,children:[(0,T.jsx)("div",{className:x,children:"Endorsement Blocks (EB)"}),(0,T.jsxs)("div",{className:m,children:["Stage Length = 20 secs","\n","Stages/Month ="," ",129600..toLocaleString()," ","stages","\n","EBs/Stage = 1.5","\n","EBs/Month ="," ",194400..toLocaleString()," EBs"]}),(0,T.jsx)("div",{className:x,children:"Ranking Blocks (RB)"}),(0,T.jsxs)("div",{className:m,children:["RB/sec = 0.05","\n","RBs/month ="," ",129600..toLocaleString()," ","RBs"]})]})]}),(0,T.jsxs)("div",{className:j,children:[(0,T.jsx)("h4",{children:"Block Sizes"}),(0,T.jsxs)("div",{className:h,children:[(0,T.jsx)("div",{className:x,children:"Input Blocks (IB)"}),(0,T.jsxs)("div",{className:m,children:["Header Size = ",F.ib.header," bytes"," ","\n","Body Size ="," ",F.ib.body.toLocaleString()," bytes"]}),(0,T.jsx)("div",{className:x,children:"Endorsement Blocks (EB)"}),(0,T.jsxs)("div",{className:m,children:["Header Size = ",F.eb.header," bytes"," ","\n","Body Size = ",F.eb.body," ","bytes/IB ref"]}),(0,T.jsx)("div",{className:x,children:"Votes"}),(0,T.jsxs)("div",{className:m,children:["Vote Size = ",F.vote.size," bytes"," ","\n","Votes per Pipeline ="," ",F.vote.countPerPipeline," ","votes (600 votes \xd7 1.5 EBs)"]}),(0,T.jsx)("div",{className:x,children:"Ranking Blocks (RB)"}),(0,T.jsxs)("div",{className:m,children:["Header Size = ",F.rb.header," bytes"," ","\n","Body Size ="," ",F.rb.body.toLocaleString()," bytes"]})]})]})]}),(0,T.jsxs)("div",{className:u,children:[(0,T.jsx)("p",{children:"Example calculation for 1 IB/s:"}),(0,T.jsxs)("ul",{children:[(0,T.jsxs)("li",{children:["IB Headers: ",A.toLocaleString()," ","secs \xd7 ",F.ib.header," bytes \xd7 ",Math.round(e*(i/100))," peers = ",ne(A*F.ib.header*Math.round(e*(i/100)))]}),(0,T.jsxs)("li",{children:["IB Bodies: ",A.toLocaleString()," ","secs \xd7 ",F.ib.body.toLocaleString()," bytes \xd7"," ",D,"% utilization \xd7"," ",Math.round(e*(R/100))," ","peers = ",ne(A*F.ib.body*(D/100)*Math.round(e*(R/100)))]}),(0,T.jsxs)("li",{children:["EB Headers:"," ",194400..toLocaleString()," ","seconds \xd7 ",F.eb.header," bytes \xd7"," ",Math.round(e*(i/100))," peers = ",ne(194400*F.eb.header*Math.round(e*(i/100)))]}),(0,T.jsxs)("li",{children:["EB Bodies: 1 IB/s \xd7 ",F.eb.body," ","bytes \xd7 1.5 EBs \xd7"," ",Math.round(e*(R/100))," ","peers \xd7 ",129600..toLocaleString()," ","stages = ",ne(1*F.eb.body*1.5*Math.round(e*(R/100))*129600)]}),(0,T.jsxs)("li",{children:["Votes:"," ",194400..toLocaleString()," ","seconds \xd7 ",F.vote.size," bytes \xd7"," ",F.vote.countPerPipeline," votes \xd7"," ",Math.round(e*(i/100))," peers = ",ne(194400*F.vote.size*F.vote.countPerPipeline*Math.round(e*(i/100)))]}),(0,T.jsxs)("li",{children:["RB Headers:"," ",129600..toLocaleString()," ","seconds \xd7 ",F.rb.header," bytes \xd7"," ",Math.round(e*(i/100))," peers = ",ne(129600*F.rb.header*Math.round(e*(i/100)))]}),(0,T.jsxs)("li",{children:["RB Bodies:"," ",129600..toLocaleString()," ","seconds \xd7 ",F.rb.body.toLocaleString()," ","bytes \xd7"," ",Math.round(e*(R/100))," ","peers = ",ne(129600*F.rb.body*Math.round(e*(R/100)))]}),(0,T.jsxs)("li",{children:["Transactions per IB:"," ",F.ib.body.toLocaleString()," bytes \xd7"," ",D,"% utilization \xf7"," ",E," bytes/tx = ",Math.floor(F.ib.body*(D/100)/E)," txs"]}),(0,T.jsxs)("li",{children:["Monthly Transactions: ",Math.floor(F.ib.body*(D/100)/E)," txs/block \xd7 ",A.toLocaleString()," ","blocks = ",(A*Math.floor(F.ib.body*(D/100)/E)).toLocaleString()," txs"]}),(0,T.jsxs)("li",{children:["Fee per Transaction: ",I," ","\u20b3 + (",_," \u20b3/byte \xd7"," ",E," bytes) ="," ",(I+_*E).toFixed(6)," \u20b3"]}),(0,T.jsxs)("li",{children:["Monthly Network Fee Revenue: ",(A*Math.floor(F.ib.body*(D/100)/E)).toLocaleString()," txs \xd7 ",(I+_*E).toFixed(6)," \u20b3 = ",(A*Math.floor(F.ib.body*(D/100)/E)*(I+_*E)).toLocaleString()," \u20b3"]})]})]})]}),(0,T.jsx)("h3",{children:"Monthly Traffic and Network Fees"}),(0,T.jsx)("div",{className:b,children:(0,T.jsxs)("table",{className:v,children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{children:"IB/s"}),(0,T.jsx)("th",{children:"IB Headers"}),(0,T.jsx)("th",{children:"IB Bodies"}),(0,T.jsx)("th",{children:"EB Headers"}),(0,T.jsx)("th",{children:"EB Bodies"}),(0,T.jsx)("th",{children:"Votes"}),(0,T.jsx)("th",{children:"RB Headers"}),(0,T.jsx)("th",{children:"RB Bodies"}),(0,T.jsx)("th",{children:"Total Traffic"}),(0,T.jsx)("th",{children:"Total Txs"})]})}),(0,T.jsx)("tbody",{children:L.map((e=>{const{traffic:s,totalTraffic:i,totalTxs:r}=se(e);return(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:e}),(0,T.jsx)("td",{children:ne(s.ib.headers)}),(0,T.jsx)("td",{children:ne(s.ib.bodies)}),(0,T.jsx)("td",{children:ne(s.eb.headers)}),(0,T.jsx)("td",{children:ne(s.eb.bodies)}),(0,T.jsx)("td",{children:ne(s.votes.votes)}),(0,T.jsx)("td",{children:ne(s.rb.headers)}),(0,T.jsx)("td",{children:ne(s.rb.bodies)}),(0,T.jsx)("td",{children:ne(i)}),(0,T.jsx)("td",{children:r.toLocaleString()})]},e)}))})]})}),(0,T.jsx)("h3",{children:"Monthly Node Egress Cost by Cloud Provider ($)"}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsxs)("table",{className:v,children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsxs)("th",{onClick:()=>re("name"),className:g,children:["Provider ",ae("name")]}),(0,T.jsxs)("th",{onClick:()=>re("egressCost"),className:g,children:["Price/GiB ",ae("egressCost")]}),(0,T.jsxs)("th",{onClick:()=>re("freeAllowance"),className:g,children:["Free Allowance (GiB)"," ",ae("freeAllowance")]}),L.map((e=>(0,T.jsxs)("th",{onClick:()=>re(`ib_${e}`),className:g,children:[e," IB/s ",ae(`ib_${e}`)]},e)))]})}),(0,T.jsx)("tbody",{children:te.map((e=>(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:e.name}),(0,T.jsxs)("td",{children:["$",e.egressCost.toFixed(3)]}),(0,T.jsx)("td",{children:e.freeAllowance}),L.map((s=>{const{totalTraffic:i}=se(s),r=ie(i/1e9,e);return(0,T.jsxs)("td",{children:["$",r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]},s)}))]},e.name)))})]}),(0,T.jsxs)("div",{className:p,children:[(0,T.jsx)("div",{className:y,children:"Cloud Provider Selection"}),(0,T.jsxs)("div",{className:f,children:["This cost comparison is for informational purposes only. Beyond cost, consider:",(0,T.jsxs)("ul",{children:[(0,T.jsx)("li",{children:"Geographic availability and latency"}),(0,T.jsx)("li",{children:"Service reliability and support"}),(0,T.jsx)("li",{children:"Security and compliance features"}),(0,T.jsx)("li",{children:"Network performance and scalability"})]}),"Hyperscale providers may offer advantages that justify higher costs for production operations."]})]})]}),(0,T.jsx)("h3",{children:"Estimated Monthly Node Income*"}),(0,T.jsxs)("div",{className:b,children:[(0,T.jsxs)("table",{className:v,children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{children:"IB/s"}),(0,T.jsx)("th",{children:"Total Txs"}),(0,T.jsx)("th",{children:"Gross Network Revenue (\u20b3)"}),(0,T.jsx)("th",{children:"After Treasury Tax (\u20b3)"}),(0,T.jsx)("th",{children:"Per Node (\u20b3)"}),(0,T.jsx)("th",{children:"Per Node (USD)"})]})}),(0,T.jsx)("tbody",{children:L.map((e=>{const{txFeeADA:s,totalTxs:i}=se(e),r=s*(1-V/100),t=r/U;return(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:e}),(0,T.jsx)("td",{children:i.toLocaleString()}),(0,T.jsxs)("td",{children:[s.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:6}).replace(/\.?0+$/,"")," \u20b3"]}),(0,T.jsxs)("td",{children:[r.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:6}).replace(/\.?0+$/,"")," \u20b3"]}),(0,T.jsxs)("td",{children:[t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:6}).replace(/\.?0+$/,"")," \u20b3"]}),(0,T.jsxs)("td",{children:["$",(t*G).toLocaleString(void 0,{minimumFractionDigits:2})]})]},e)}))})]}),(0,T.jsxs)("div",{className:p,children:[(0,T.jsx)("div",{className:y,children:"Estimated Node Income Disclaimer"}),(0,T.jsxs)("div",{className:f,children:["These estimates are based on ",(0,T.jsx)("b",{children:"several assumptions"}),":",(0,T.jsxs)("ul",{children:[(0,T.jsx)("li",{children:"Equal distribution of rewards across all nodes"}),(0,T.jsx)("li",{children:"No additional operational costs"}),(0,T.jsx)("li",{children:"No pool fees or other deductions"}),(0,T.jsx)("li",{children:"Constant ADA/USD price"}),(0,T.jsxs)("li",{children:["Network topology: Based on current mainnet (~3,000 BP nodes), we estimate ~10,000 total nodes to account for:",(0,T.jsxs)("ul",{children:[(0,T.jsx)("li",{children:"BP nodes (behind relays)"}),(0,T.jsx)("li",{children:"Relay nodes (typically 2+ per BP node)"}),(0,T.jsx)("li",{children:"Additional relays for dApps and infrastructure"}),(0,T.jsx)("li",{children:"Full node wallets"})]}),"SPOs can multiply the per-node income by their total number of nodes (BP + relays) to estimate their total income."]}),(0,T.jsx)("li",{children:"Transaction fee calculation parameters (base fee and per-byte fee) remain constant, though these may be adjusted through governance"})]})]})]})]})]})};var R=i(6065);function z(){return(0,T.jsx)(R.A,{title:"Traffic Estimator",description:"Estimate network traffic for Ouroboros Leios nodes",children:(0,T.jsx)("main",{className:"container margin-vert--lg",children:(0,T.jsx)("div",{className:"row",children:(0,T.jsxs)("div",{className:"col col--12",children:[(0,T.jsx)("h1",{children:"Leios Node Traffic Estimator"}),(0,T.jsx)("p",{children:"Use this calculator to estimate monthly egress traffic and costs for running an Ouroboros Leios node. Based on the default configuration with a stage length of 20 slots, each stage (pipeline) generates 1.5 Endorsement Blocks (EBs) that reference Input Blocks (IBs) from that stage. Adjust the number of peers and propagation parameters to see how they affect your monthly traffic."}),(0,T.jsx)($,{})]})})})})}}}]);
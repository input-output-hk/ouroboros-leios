## Leios.Blocks

This module defines the block structures used in the Leios protocol.
It provides implementations for Endorser Blocks, Votes,
and defines a Freshest First Delivery (FFD) for Leios Blocks.
<!--
<pre class="Agda"><a id="218" class="Symbol">{-#</a> <a id="222" class="Keyword">OPTIONS</a> <a id="230" class="Pragma">--safe</a> <a id="237" class="Symbol">#-}</a>
</pre>-->
<pre class="Agda"><a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Leios.Prelude.html" class="Module">Leios.Prelude</a>
<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Leios.Abstract.html" class="Module">Leios.Abstract</a>
<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="Leios.FFD.html" class="Module">Leios.FFD</a>
<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>

<a id="393" class="Keyword">module</a> <a id="400" href="Leios.Blocks.html" class="Module">Leios.Blocks</a> <a id="413" class="Symbol">(</a><a id="414" href="Leios.Blocks.html#414" class="Bound">a</a> <a id="416" class="Symbol">:</a> <a id="418" href="Leios.Abstract.html#452" class="Record">LeiosAbstract</a><a id="431" class="Symbol">)</a> <a id="433" class="Symbol">(</a><a id="434" class="Keyword">let</a> <a id="438" class="Keyword">open</a> <a id="443" href="Leios.Abstract.html#452" class="Module">LeiosAbstract</a> <a id="457" href="Leios.Blocks.html#414" class="Bound">a</a><a id="458" class="Symbol">)</a> <a id="460" class="Keyword">where</a>

<a id="467" class="Comment">-- IsBlock typeclass (could do a closed-world approach instead)</a>
<a id="531" class="Comment">-- Q: should votes have an instance of this class?</a>
<a id="582" class="Keyword">record</a> <a id="IsBlock"></a><a id="589" href="Leios.Blocks.html#589" class="Record">IsBlock</a> <a id="597" class="Symbol">(</a><a id="598" href="Leios.Blocks.html#598" class="Bound">B</a> <a id="600" class="Symbol">:</a> <a id="602" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="606" class="Symbol">)</a> <a id="608" class="Symbol">:</a> <a id="610" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="615" class="Keyword">where</a>
  <a id="623" class="Keyword">field</a> <a id="IsBlock.slotNumber"></a><a id="629" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="640" class="Symbol">:</a> <a id="642" href="Leios.Blocks.html#598" class="Bound">B</a> <a id="644" class="Symbol">→</a> <a id="646" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="IsBlock.producerID"></a><a id="656" href="Leios.Blocks.html#656" class="Field">producerID</a> <a id="667" class="Symbol">:</a> <a id="669" href="Leios.Blocks.html#598" class="Bound">B</a> <a id="671" class="Symbol">→</a> <a id="673" href="Leios.Abstract.html#512" class="Field">PoolID</a>
        <a id="IsBlock.lotteryPf"></a><a id="688" href="Leios.Blocks.html#688" class="Field">lotteryPf</a>  <a id="699" class="Symbol">:</a> <a id="701" href="Leios.Blocks.html#598" class="Bound">B</a> <a id="703" class="Symbol">→</a> <a id="705" href="Leios.Abstract.html#560" class="Field">VrfPf</a>
        <a id="IsBlock.signature"></a><a id="719" href="Leios.Blocks.html#719" class="Field">signature</a>  <a id="730" class="Symbol">:</a> <a id="732" href="Leios.Blocks.html#598" class="Bound">B</a> <a id="734" class="Symbol">→</a> <a id="736" href="Leios.Abstract.html#608" class="Field">Sig</a>

  <a id="743" class="Keyword">infix</a> <a id="749" class="Number">4</a> <a id="751" href="Leios.Blocks.html#759" class="Function Operator">_∈ᴮ_</a>

  <a id="IsBlock._∈ᴮ_"></a><a id="759" href="Leios.Blocks.html#759" class="Function Operator">_∈ᴮ_</a> <a id="764" class="Symbol">:</a> <a id="766" href="Leios.Blocks.html#598" class="Bound">B</a> <a id="768" class="Symbol">→</a> <a id="770" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="772" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="774" class="Symbol">→</a> <a id="776" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="783" href="Leios.Blocks.html#783" class="Bound">b</a> <a id="785" href="Leios.Blocks.html#759" class="Function Operator">∈ᴮ</a> <a id="788" href="Leios.Blocks.html#788" class="Bound">X</a> <a id="790" class="Symbol">=</a> <a id="792" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="803" href="Leios.Blocks.html#783" class="Bound">b</a> <a id="805" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="807" href="Leios.Blocks.html#788" class="Bound">X</a>

  <a id="IsBlock.areEquivocated"></a><a id="812" href="Leios.Blocks.html#812" class="Function">areEquivocated</a> <a id="827" class="Symbol">:</a> <a id="829" href="Leios.Blocks.html#598" class="Bound">B</a> <a id="831" class="Symbol">→</a> <a id="833" href="Leios.Blocks.html#598" class="Bound">B</a> <a id="835" class="Symbol">→</a> <a id="837" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="844" href="Leios.Blocks.html#812" class="Function">areEquivocated</a> <a id="859" href="Leios.Blocks.html#859" class="Bound">b</a> <a id="861" href="Leios.Blocks.html#861" class="Bound">b&#39;</a> <a id="864" class="Symbol">=</a> <a id="866" href="Leios.Blocks.html#859" class="Bound">b</a> <a id="868" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">≢</a> <a id="870" href="Leios.Blocks.html#861" class="Bound">b&#39;</a>
                      <a id="895" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="897" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="908" href="Leios.Blocks.html#859" class="Bound">b</a> <a id="910" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="912" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="923" href="Leios.Blocks.html#861" class="Bound">b&#39;</a>
                      <a id="948" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="950" href="Leios.Blocks.html#656" class="Field">producerID</a> <a id="961" href="Leios.Blocks.html#859" class="Bound">b</a> <a id="963" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="965" href="Leios.Blocks.html#656" class="Field">producerID</a> <a id="976" href="Leios.Blocks.html#861" class="Bound">b&#39;</a>

<a id="980" class="Keyword">open</a> <a id="985" href="Leios.Blocks.html#589" class="Module">IsBlock</a> <a id="993" class="Symbol">⦃...⦄</a> <a id="999" class="Keyword">public</a>

<a id="EBRef"></a><a id="1007" href="Leios.Blocks.html#1007" class="Function">EBRef</a> <a id="1013" class="Symbol">=</a> <a id="1015" href="Leios.Abstract.html#632" class="Field">Hash</a>
</pre>### Endorser Blocks
<pre class="Agda"><a id="1052" class="Keyword">record</a> <a id="EndorserBlockOSig"></a><a id="1059" href="Leios.Blocks.html#1059" class="Record">EndorserBlockOSig</a> <a id="1077" class="Symbol">(</a><a id="1078" href="Leios.Blocks.html#1078" class="Bound">sig</a> <a id="1082" class="Symbol">:</a> <a id="1084" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1088" class="Symbol">)</a> <a id="1090" class="Symbol">:</a> <a id="1092" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1097" class="Keyword">where</a>
  <a id="1105" class="Keyword">field</a> <a id="EndorserBlockOSig.slotNumber"></a><a id="1111" href="Leios.Blocks.html#1111" class="Field">slotNumber</a> <a id="1122" class="Symbol">:</a> <a id="1124" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
        <a id="EndorserBlockOSig.producerID"></a><a id="1134" href="Leios.Blocks.html#1134" class="Field">producerID</a> <a id="1145" class="Symbol">:</a> <a id="1147" href="Leios.Abstract.html#512" class="Field">PoolID</a>
        <a id="EndorserBlockOSig.lotteryPf"></a><a id="1162" href="Leios.Blocks.html#1162" class="Field">lotteryPf</a>  <a id="1173" class="Symbol">:</a> <a id="1175" href="Leios.Abstract.html#560" class="Field">VrfPf</a>
        <a id="EndorserBlockOSig.txs"></a><a id="1189" href="Leios.Blocks.html#1189" class="Field">txs</a>        <a id="1200" class="Symbol">:</a> <a id="1202" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1207" href="Leios.Abstract.html#488" class="Field">Tx</a>
        <a id="EndorserBlockOSig.signature"></a><a id="1218" href="Leios.Blocks.html#1218" class="Field">signature</a>  <a id="1229" class="Symbol">:</a> <a id="1231" href="Leios.Blocks.html#1078" class="Bound">sig</a>

<a id="EndorserBlock"></a><a id="1236" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a>    <a id="1253" class="Symbol">=</a> <a id="1255" href="Leios.Blocks.html#1059" class="Record">EndorserBlockOSig</a> <a id="1273" href="Leios.Abstract.html#608" class="Field">Sig</a>
<a id="PreEndorserBlock"></a><a id="1277" href="Leios.Blocks.html#1277" class="Function">PreEndorserBlock</a> <a id="1294" class="Symbol">=</a> <a id="1296" href="Leios.Blocks.html#1059" class="Record">EndorserBlockOSig</a> <a id="1314" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="1317" class="Keyword">instance</a>
  <a id="Hashable-EndorserBlock"></a><a id="1328" href="Leios.Blocks.html#1328" class="Function">Hashable-EndorserBlock</a> <a id="1351" class="Symbol">:</a> <a id="1353" class="Symbol">⦃</a> <a id="1355" href="Class.Hashable.html#120" class="Record">Hashable</a> <a id="1364" href="Leios.Blocks.html#1277" class="Function">PreEndorserBlock</a> <a id="1381" href="Leios.Abstract.html#632" class="Field">Hash</a> <a id="1386" class="Symbol">⦄</a> <a id="1388" class="Symbol">→</a> <a id="1390" href="Class.Hashable.html#120" class="Record">Hashable</a> <a id="1399" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a> <a id="1413" href="Leios.Abstract.html#632" class="Field">Hash</a>
  <a id="1420" href="Leios.Blocks.html#1328" class="Function">Hashable-EndorserBlock</a> <a id="1443" class="Symbol">.</a><a id="1444" href="Class.Hashable.html#167" class="Field">hash</a> <a id="1449" href="Leios.Blocks.html#1449" class="Bound">b</a> <a id="1451" class="Symbol">=</a> <a id="1453" href="Class.Hashable.html#167" class="Field">hash</a> <a id="1458" class="Symbol">{</a><a id="1459" class="Argument">T</a> <a id="1461" class="Symbol">=</a> <a id="1463" href="Leios.Blocks.html#1277" class="Function">PreEndorserBlock</a><a id="1479" class="Symbol">}</a>
    <a id="1485" class="Keyword">record</a> <a id="1492" class="Symbol">{</a> <a id="1494" href="Leios.Blocks.html#1494" class="Module">EndorserBlockOSig</a> <a id="1512" href="Leios.Blocks.html#1449" class="Bound">b</a> <a id="1514" class="Keyword">hiding</a> <a id="1521" class="Symbol">(</a><a id="1522" href="Leios.Blocks.html#1218" class="Field">signature</a><a id="1531" class="Symbol">)</a> <a id="1533" class="Symbol">;</a> <a id="1535" href="Leios.Blocks.html#1218" class="Field">signature</a> <a id="1545" class="Symbol">=</a> <a id="1547" class="Symbol">_</a> <a id="1549" class="Symbol">}</a>

  <a id="IsBlock-EndorserBlock"></a><a id="1554" href="Leios.Blocks.html#1554" class="Function">IsBlock-EndorserBlock</a> <a id="1576" class="Symbol">:</a> <a id="1578" href="Leios.Blocks.html#589" class="Record">IsBlock</a> <a id="1586" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a>
  <a id="1602" href="Leios.Blocks.html#1554" class="Function">IsBlock-EndorserBlock</a> <a id="1624" class="Symbol">=</a> <a id="1626" class="Keyword">record</a> <a id="1633" class="Symbol">{</a> <a id="1635" href="Leios.Blocks.html#1059" class="Module">EndorserBlockOSig</a> <a id="1653" class="Symbol">}</a>

<a id="1656" class="Keyword">unquoteDecl</a> <a id="DecEq-EndorserBlockOSig"></a><a id="1668" href="Leios.Blocks.html#1668" class="Function">DecEq-EndorserBlockOSig</a> <a id="1692" class="Symbol">=</a> <a id="1694" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1707" class="Symbol">((</a><a id="1709" class="Keyword">quote</a> <a id="1715" href="Leios.Blocks.html#1059" class="Record">EndorserBlockOSig</a> <a id="1733" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1735" href="Leios.Blocks.html#1668" class="Function">DecEq-EndorserBlockOSig</a><a id="1758" class="Symbol">)</a> <a id="1760" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1762" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1764" class="Symbol">)</a>

<a id="mkEB"></a><a id="1767" href="Leios.Blocks.html#1767" class="Function">mkEB</a> <a id="1772" class="Symbol">:</a> <a id="1774" class="Symbol">⦃</a> <a id="1776" href="Class.Hashable.html#120" class="Record">Hashable</a> <a id="1785" href="Leios.Blocks.html#1277" class="Function">PreEndorserBlock</a> <a id="1802" href="Leios.Abstract.html#632" class="Field">Hash</a> <a id="1807" class="Symbol">⦄</a> <a id="1809" class="Symbol">→</a> <a id="1811" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1813" class="Symbol">→</a> <a id="1815" href="Leios.Abstract.html#512" class="Field">PoolID</a> <a id="1822" class="Symbol">→</a> <a id="1824" href="Leios.Abstract.html#560" class="Field">VrfPf</a> <a id="1830" class="Symbol">→</a> <a id="1832" href="Leios.Abstract.html#584" class="Field">PrivKey</a> <a id="1840" class="Symbol">→</a> <a id="1842" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1847" href="Leios.Abstract.html#488" class="Field">Tx</a> <a id="1850" class="Symbol">→</a> <a id="1852" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a>
<a id="1866" href="Leios.Blocks.html#1767" class="Function">mkEB</a> <a id="1871" href="Leios.Blocks.html#1871" class="Bound">slot</a> <a id="1876" href="Leios.Blocks.html#1876" class="Bound">id</a> <a id="1879" href="Leios.Blocks.html#1879" class="Bound">π</a> <a id="1881" href="Leios.Blocks.html#1881" class="Bound">pKey</a> <a id="1886" href="Leios.Blocks.html#1886" class="Bound">txs</a> <a id="1890" class="Symbol">=</a> <a id="1892" class="Keyword">record</a> <a id="1899" class="Symbol">{</a> <a id="1901" href="Leios.Blocks.html#1218" class="Field">signature</a> <a id="1911" class="Symbol">=</a> <a id="1913" href="Leios.Abstract.html#758" class="Field">sign</a> <a id="1918" href="Leios.Blocks.html#1881" class="Bound">pKey</a> <a id="1923" class="Symbol">(</a><a id="1924" href="Class.Hashable.html#167" class="Field">hash</a> <a id="1929" href="Leios.Blocks.html#1968" class="Function">b</a><a id="1930" class="Symbol">)</a> <a id="1932" class="Symbol">;</a> <a id="1934" href="Leios.Blocks.html#1934" class="Module">EndorserBlockOSig</a> <a id="1952" href="Leios.Blocks.html#1968" class="Function">b</a> <a id="1954" class="Symbol">}</a>
  <a id="1958" class="Keyword">where</a>
    <a id="1968" href="Leios.Blocks.html#1968" class="Function">b</a> <a id="1970" class="Symbol">:</a> <a id="1972" href="Leios.Blocks.html#1277" class="Function">PreEndorserBlock</a>
    <a id="1993" href="Leios.Blocks.html#1968" class="Function">b</a> <a id="1995" class="Symbol">=</a> <a id="1997" class="Keyword">record</a> <a id="2004" class="Symbol">{</a> <a id="2006" href="Leios.Blocks.html#1111" class="Field">slotNumber</a> <a id="2017" class="Symbol">=</a> <a id="2019" href="Leios.Blocks.html#1871" class="Bound">slot</a>
               <a id="2039" class="Symbol">;</a> <a id="2041" href="Leios.Blocks.html#1134" class="Field">producerID</a> <a id="2052" class="Symbol">=</a> <a id="2054" href="Leios.Blocks.html#1876" class="Bound">id</a>
               <a id="2072" class="Symbol">;</a> <a id="2074" href="Leios.Blocks.html#1162" class="Field">lotteryPf</a>  <a id="2085" class="Symbol">=</a> <a id="2087" href="Leios.Blocks.html#1879" class="Bound">π</a>
               <a id="2104" class="Symbol">;</a> <a id="2106" href="Leios.Blocks.html#1189" class="Field">txs</a>        <a id="2117" class="Symbol">=</a> <a id="2119" href="Leios.Blocks.html#1886" class="Bound">txs</a>
               <a id="2138" class="Symbol">;</a> <a id="2140" href="Leios.Blocks.html#1218" class="Field">signature</a>  <a id="2151" class="Symbol">=</a> <a id="2153" class="Symbol">_</a>
               <a id="2170" class="Symbol">}</a>

<a id="getEBRef"></a><a id="2173" href="Leios.Blocks.html#2173" class="Function">getEBRef</a> <a id="2182" class="Symbol">:</a> <a id="2184" class="Symbol">⦃</a> <a id="2186" href="Class.Hashable.html#120" class="Record">Hashable</a> <a id="2195" href="Leios.Blocks.html#1277" class="Function">PreEndorserBlock</a> <a id="2212" href="Leios.Abstract.html#632" class="Field">Hash</a> <a id="2217" class="Symbol">⦄</a> <a id="2219" class="Symbol">→</a> <a id="2221" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a> <a id="2235" class="Symbol">→</a> <a id="2237" href="Leios.Blocks.html#1007" class="Function">EBRef</a>
<a id="2243" href="Leios.Blocks.html#2173" class="Function">getEBRef</a> <a id="2252" class="Symbol">=</a> <a id="2254" href="Class.Hashable.html#167" class="Field">hash</a>
</pre>### FFD for Leios Blocks
<pre class="Agda"><a id="2296" class="Keyword">module</a> <a id="GenFFD"></a><a id="2303" href="Leios.Blocks.html#2303" class="Module">GenFFD</a> <a id="2310" class="Symbol">⦃</a> <a id="2312" href="Leios.Blocks.html#2312" class="Bound">_</a> <a id="2314" class="Symbol">:</a> <a id="2316" href="Leios.Blocks.html#589" class="Record">IsBlock</a> <a id="2324" class="Symbol">(</a><a id="2325" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2330" href="Leios.Abstract.html#680" class="Field">Vote</a><a id="2334" class="Symbol">)</a> <a id="2336" class="Symbol">⦄</a> <a id="2338" class="Keyword">where</a>
  <a id="2346" class="Keyword">data</a> <a id="GenFFD.Header"></a><a id="2351" href="Leios.Blocks.html#2351" class="Datatype">Header</a> <a id="2358" class="Symbol">:</a> <a id="2360" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2365" class="Keyword">where</a>
    <a id="GenFFD.Header.ebHeader"></a><a id="2375" href="Leios.Blocks.html#2375" class="InductiveConstructor">ebHeader</a> <a id="2384" class="Symbol">:</a> <a id="2386" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a> <a id="2400" class="Symbol">→</a> <a id="2402" href="Leios.Blocks.html#2351" class="Datatype">Header</a>
    <a id="GenFFD.Header.vtHeader"></a><a id="2413" href="Leios.Blocks.html#2413" class="InductiveConstructor">vtHeader</a> <a id="2422" class="Symbol">:</a> <a id="2424" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2429" href="Leios.Abstract.html#680" class="Field">Vote</a> <a id="2434" class="Symbol">→</a> <a id="2436" href="Leios.Blocks.html#2351" class="Datatype">Header</a>

  <a id="GenFFD.Body"></a><a id="2446" href="Leios.Blocks.html#2446" class="Function">Body</a> <a id="2451" class="Symbol">=</a> <a id="2453" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

  <a id="2458" class="Keyword">unquoteDecl</a> <a id="GenFFD.DecEq-Header"></a><a id="2470" href="Leios.Blocks.html#2470" class="Function">DecEq-Header</a> <a id="2483" class="Symbol">=</a>
    <a id="2489" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="2502" class="Symbol">((</a><a id="2504" class="Keyword">quote</a> <a id="2510" href="Leios.Blocks.html#2351" class="Datatype">Header</a> <a id="2517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2519" href="Leios.Blocks.html#2470" class="Function">DecEq-Header</a><a id="2531" class="Symbol">)</a> <a id="2533" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2535" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2537" class="Symbol">)</a>

  <a id="GenFFD.ID"></a><a id="2542" href="Leios.Blocks.html#2542" class="Function">ID</a> <a id="2545" class="Symbol">:</a> <a id="2547" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2554" href="Leios.Blocks.html#2542" class="Function">ID</a> <a id="2557" class="Symbol">=</a> <a id="2559" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2561" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2563" href="Leios.Abstract.html#512" class="Field">PoolID</a>

  <a id="GenFFD.match"></a><a id="2573" href="Leios.Blocks.html#2573" class="Function">match</a> <a id="2579" class="Symbol">:</a> <a id="2581" href="Leios.Blocks.html#2351" class="Datatype">Header</a> <a id="2588" class="Symbol">→</a> <a id="2590" href="Leios.Blocks.html#2446" class="Function">Body</a> <a id="2595" class="Symbol">→</a> <a id="2597" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2604" href="Leios.Blocks.html#2573" class="Function">match</a> <a id="2610" class="Symbol">_</a> <a id="2612" class="Symbol">_</a> <a id="2614" class="Symbol">=</a> <a id="2616" href="Data.Empty.html#914" class="Function">⊥</a>

  <a id="2621" class="Comment">-- can we express uniqueness wrt pipelines as a property?</a>
  <a id="GenFFD.msgID"></a><a id="2681" href="Leios.Blocks.html#2681" class="Function">msgID</a> <a id="2687" class="Symbol">:</a> <a id="2689" href="Leios.Blocks.html#2351" class="Datatype">Header</a> <a id="2696" class="Symbol">→</a> <a id="2698" href="Leios.Blocks.html#2542" class="Function">ID</a>
  <a id="2703" href="Leios.Blocks.html#2681" class="Function">msgID</a> <a id="2709" class="Symbol">(</a><a id="2710" href="Leios.Blocks.html#2375" class="InductiveConstructor">ebHeader</a> <a id="2719" href="Leios.Blocks.html#2719" class="Bound">h</a><a id="2720" class="Symbol">)</a> <a id="2722" class="Symbol">=</a> <a id="2724" class="Symbol">(</a><a id="2725" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="2736" href="Leios.Blocks.html#2719" class="Bound">h</a> <a id="2738" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2740" href="Leios.Blocks.html#656" class="Field">producerID</a> <a id="2751" href="Leios.Blocks.html#2719" class="Bound">h</a><a id="2752" class="Symbol">)</a>
  <a id="2756" href="Leios.Blocks.html#2681" class="Function">msgID</a> <a id="2762" class="Symbol">(</a><a id="2763" href="Leios.Blocks.html#2413" class="InductiveConstructor">vtHeader</a>  <a id="2773" href="Leios.Blocks.html#2773" class="Bound">h</a><a id="2774" class="Symbol">)</a> <a id="2776" class="Symbol">=</a> <a id="2778" class="Symbol">(</a><a id="2779" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="2790" href="Leios.Blocks.html#2773" class="Bound">h</a> <a id="2792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2794" href="Leios.Blocks.html#656" class="Field">producerID</a> <a id="2805" href="Leios.Blocks.html#2773" class="Bound">h</a><a id="2806" class="Symbol">)</a>

<a id="ffdAbstract"></a><a id="2809" href="Leios.Blocks.html#2809" class="Function">ffdAbstract</a> <a id="2821" class="Symbol">:</a> <a id="2823" class="Symbol">⦃</a> <a id="2825" href="Leios.Blocks.html#2825" class="Bound">_</a> <a id="2827" class="Symbol">:</a> <a id="2829" href="Leios.Blocks.html#589" class="Record">IsBlock</a> <a id="2837" class="Symbol">(</a><a id="2838" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2843" href="Leios.Abstract.html#680" class="Field">Vote</a><a id="2847" class="Symbol">)</a> <a id="2849" class="Symbol">⦄</a> <a id="2851" class="Symbol">→</a> <a id="2853" href="Leios.FFD.html#142" class="Record">FFDAbstract</a>
<a id="2865" href="Leios.Blocks.html#2809" class="Function">ffdAbstract</a> <a id="2877" class="Symbol">=</a> <a id="2879" class="Keyword">record</a> <a id="2886" class="Symbol">{</a> <a id="2888" href="Leios.Blocks.html#2303" class="Module">GenFFD</a> <a id="2895" class="Symbol">}</a>
</pre>
## Linear Leios Trace Verifier
<!--
<pre class="Agda"><a id="45" class="Symbol">{-#</a> <a id="49" class="Keyword">OPTIONS</a> <a id="57" class="Pragma">--safe</a> <a id="64" class="Symbol">#-}</a>

<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="Leios.Prelude.html" class="Module">Leios.Prelude</a> <a id="95" class="Keyword">hiding</a> <a id="102" class="Symbol">(</a><a id="103" href="Function.Base.html#704" class="Function">id</a><a id="105" class="Symbol">;</a> <a id="107" href="Class.Monad.Core.html#337" class="Field Operator">_&gt;&gt;=_</a><a id="112" class="Symbol">;</a> <a id="114" href="Class.Monad.Core.html#316" class="Field">return</a><a id="120" class="Symbol">;</a> <a id="122" href="Class.Applicative.Core.html#506" class="Function Operator">_⊗_</a><a id="125" class="Symbol">)</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Leios.Config.html" class="Module">Leios.Config</a>
<a id="152" class="Keyword">open</a> <a id="157" class="Keyword">import</a> <a id="164" href="Leios.SpecStructure.html" class="Module">Leios.SpecStructure</a> <a id="184" class="Keyword">using</a> <a id="190" class="Symbol">(</a><a id="191" href="Leios.SpecStructure.html#348" class="Record">SpecStructure</a><a id="204" class="Symbol">)</a>

<a id="207" class="Keyword">open</a> <a id="212" class="Keyword">import</a> <a id="219" href="Prelude.Result.html" class="Module">Prelude.Result</a>
<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="CategoricalCrypto.html" class="Module">CategoricalCrypto</a> <a id="264" class="Keyword">hiding</a> <a id="271" class="Symbol">(</a><a id="272" href="CategoricalCrypto.Machine.Core.html#2179" class="Function">id</a><a id="274" class="Symbol">;</a> <a id="276" href="CategoricalCrypto.Machine.Core.html#4922" class="Function Operator">_∘_</a><a id="279" class="Symbol">)</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="CategoricalCrypto.Channel.Selection.html" class="Module">CategoricalCrypto.Channel.Selection</a>

<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Data.List.Properties.html" class="Module">Data.List.Properties</a>
<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Data.Maybe.Properties.html" class="Module">Data.Maybe.Properties</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a>
</pre>-->
<pre class="Agda"><a id="449" class="Keyword">module</a> <a id="456" href="Leios.Linear.Trace.Verifier.html" class="Module">Leios.Linear.Trace.Verifier</a> <a id="484" class="Symbol">(</a><a id="485" href="Leios.Linear.Trace.Verifier.html#485" class="Bound">⋯</a> <a id="487" class="Symbol">:</a> <a id="489" href="Leios.SpecStructure.html#348" class="Record">SpecStructure</a><a id="502" class="Symbol">)</a> <a id="504" class="Symbol">(</a><a id="505" class="Keyword">let</a> <a id="509" class="Keyword">open</a> <a id="514" href="Leios.SpecStructure.html#348" class="Module">SpecStructure</a> <a id="528" href="Leios.Linear.Trace.Verifier.html#485" class="Bound">⋯</a><a id="529" class="Symbol">)</a>
  <a id="533" class="Symbol">(</a><a id="534" href="Leios.Linear.Trace.Verifier.html#534" class="Bound">params</a> <a id="541" class="Symbol">:</a> <a id="543" href="Leios.Config.html#778" class="Record">Params</a><a id="549" class="Symbol">)</a>
  <a id="553" class="Symbol">(</a><a id="554" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="559" href="Leios.Linear.Trace.Verifier.html#559" class="Bound">Lvote</a> <a id="565" href="Leios.Linear.Trace.Verifier.html#565" class="Bound">Ldiff</a> <a id="571" class="Symbol">:</a> <a id="573" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="574" class="Symbol">)</a>
  <a id="578" class="Symbol">(</a><a id="579" href="Leios.Linear.Trace.Verifier.html#579" class="Bound">splitTxs</a> <a id="588" class="Symbol">:</a> <a id="590" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="595" href="Leios.Abstract.html#488" class="Function">Tx</a> <a id="598" class="Symbol">→</a> <a id="600" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="605" href="Leios.Abstract.html#488" class="Function">Tx</a> <a id="608" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="610" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="615" href="Leios.Abstract.html#488" class="Function">Tx</a><a id="617" class="Symbol">)</a>
  <a id="621" class="Symbol">(</a><a id="622" href="Leios.Linear.Trace.Verifier.html#622" class="Bound">validityCheckTime</a> <a id="640" class="Symbol">:</a> <a id="642" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a> <a id="656" class="Symbol">→</a> <a id="658" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="659" class="Symbol">)</a>
  <a id="663" class="Keyword">where</a>

<a id="670" class="Keyword">open</a> <a id="675" class="Keyword">import</a> <a id="682" href="Leios.Linear.html" class="Module">Leios.Linear</a> <a id="695" href="Leios.Linear.Trace.Verifier.html#485" class="Bound">⋯</a> <a id="697" href="Leios.Linear.Trace.Verifier.html#534" class="Bound">params</a> <a id="704" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="709" href="Leios.Linear.Trace.Verifier.html#559" class="Bound">Lvote</a> <a id="715" href="Leios.Linear.Trace.Verifier.html#565" class="Bound">Ldiff</a> <a id="721" href="Leios.Linear.Trace.Verifier.html#579" class="Bound">splitTxs</a> <a id="730" href="Leios.Linear.Trace.Verifier.html#622" class="Bound">validityCheckTime</a> <a id="748" class="Keyword">public</a>
<a id="755" class="Keyword">open</a> <a id="760" href="Leios.SpecStructure.html#1171" class="Module">FFD</a> <a id="764" class="Keyword">hiding</a> <a id="771" class="Symbol">(</a><a id="772" href="Leios.FFD.html#654" class="Function Operator">_-⟦_/_⟧⇀_</a><a id="781" class="Symbol">)</a>
<a id="783" class="Keyword">open</a> <a id="788" href="Leios.Blocks.html#2303" class="Module">GenFFD</a>
<a id="795" class="Keyword">open</a> <a id="800" href="Leios.Protocol.html#7592" class="Module">Types</a> <a id="806" href="Leios.Linear.Trace.Verifier.html#534" class="Bound">params</a>
<a id="813" class="Keyword">open</a> <a id="818" href="Leios.Base.html#704" class="Module">BaseAbstract</a> <a id="831" href="Leios.SpecStructure.html#856" class="Field">B&#39;</a>
</pre>An `Action` provides input to the relational semantics
<pre class="Agda"><a id="901" class="Keyword">data</a> <a id="Action"></a><a id="906" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a> <a id="913" class="Symbol">:</a> <a id="915" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="920" class="Keyword">where</a>
  <a id="Action.EB-Role-Action"></a><a id="928" href="Leios.Linear.Trace.Verifier.html#928" class="InductiveConstructor">EB-Role-Action</a>    <a id="946" class="Symbol">:</a> <a id="948" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="950" class="Symbol">→</a> <a id="952" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a> <a id="966" class="Symbol">→</a> <a id="968" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="Action.VT-Role-Action"></a><a id="977" href="Leios.Linear.Trace.Verifier.html#977" class="InductiveConstructor">VT-Role-Action</a>    <a id="995" class="Symbol">:</a> <a id="997" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="999" class="Symbol">→</a> <a id="1001" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a> <a id="1015" class="Symbol">→</a> <a id="1017" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1019" class="Symbol">→</a> <a id="1021" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="Action.Ftch-Action"></a><a id="1030" href="Leios.Linear.Trace.Verifier.html#1030" class="InductiveConstructor">Ftch-Action</a>       <a id="1048" class="Symbol">:</a> <a id="1050" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1052" class="Symbol">→</a> <a id="1054" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="Action.Slot₁-Action"></a><a id="1063" href="Leios.Linear.Trace.Verifier.html#1063" class="InductiveConstructor">Slot₁-Action</a>      <a id="1081" class="Symbol">:</a> <a id="1083" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1085" class="Symbol">→</a> <a id="1087" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="Action.Slot₂-Action"></a><a id="1096" href="Leios.Linear.Trace.Verifier.html#1096" class="InductiveConstructor">Slot₂-Action</a>      <a id="1114" class="Symbol">:</a> <a id="1116" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1118" class="Symbol">→</a> <a id="1120" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="Action.Base₁-Action"></a><a id="1129" href="Leios.Linear.Trace.Verifier.html#1129" class="InductiveConstructor">Base₁-Action</a>      <a id="1147" class="Symbol">:</a> <a id="1149" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1151" class="Symbol">→</a> <a id="1153" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="Action.Base₂-Action"></a><a id="1162" href="Leios.Linear.Trace.Verifier.html#1162" class="InductiveConstructor">Base₂-Action</a>      <a id="1180" class="Symbol">:</a> <a id="1182" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1184" class="Symbol">→</a> <a id="1186" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="Action.No-EB-Role-Action"></a><a id="1195" href="Leios.Linear.Trace.Verifier.html#1195" class="InductiveConstructor">No-EB-Role-Action</a> <a id="1213" class="Symbol">:</a> <a id="1215" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1217" class="Symbol">→</a> <a id="1219" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="Action.No-VT-Role-Action"></a><a id="1228" href="Leios.Linear.Trace.Verifier.html#1228" class="InductiveConstructor">No-VT-Role-Action</a> <a id="1246" class="Symbol">:</a> <a id="1248" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1250" class="Symbol">→</a> <a id="1252" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
</pre>A `TestTrace` is a list of actions togther with channels related to the other functionalities
<pre class="Agda"><a id="TestTrace"></a><a id="1365" href="Leios.Linear.Trace.Verifier.html#1365" class="Function">TestTrace</a> <a id="1375" class="Symbol">=</a> <a id="1377" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1382" class="Symbol">(</a><a id="1383" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a> <a id="1390" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1392" class="Symbol">(</a><a id="1393" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="1398" href="CategoricalCrypto.Channel.Core.html#430" class="InductiveConstructor">Out</a> <a id="1402" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1404" href="Leios.Base.html#1130" class="Datatype">BaseIOF</a> <a id="1412" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="1415" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1417" href="Leios.Protocol.html#7887" class="Datatype">IOT</a> <a id="1421" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a><a id="1423" class="Symbol">))</a>
</pre><pre class="Agda"><a id="1438" class="Keyword">private</a> <a id="1446" class="Keyword">variable</a>
  <a id="1457" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="1459" href="Leios.Linear.Trace.Verifier.html#1459" class="Generalizable">s′</a> <a id="1462" class="Symbol">:</a> <a id="1464" href="Leios.Protocol.html#1542" class="Record">LeiosState</a>
  <a id="1477" href="Leios.Linear.Trace.Verifier.html#1477" class="Generalizable">σ</a>    <a id="1482" class="Symbol">:</a> <a id="1484" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
  <a id="1493" href="Leios.Linear.Trace.Verifier.html#1493" class="Generalizable">σs</a>   <a id="1498" class="Symbol">:</a> <a id="1500" href="Leios.Linear.Trace.Verifier.html#1365" class="Function">TestTrace</a>
  <a id="1512" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a>   <a id="1517" class="Symbol">:</a> <a id="1519" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a>
  <a id="1535" href="Leios.Linear.Trace.Verifier.html#1535" class="Generalizable">ebs</a>  <a id="1540" class="Symbol">:</a> <a id="1542" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1547" href="Leios.Blocks.html#1236" class="Function">EndorserBlock</a>
  <a id="1563" href="Leios.Linear.Trace.Verifier.html#1563" class="Generalizable">vt</a>   <a id="1568" class="Symbol">:</a> <a id="1570" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1575" href="Leios.Abstract.html#680" class="Function">Vote</a>
  <a id="1582" href="Leios.Linear.Trace.Verifier.html#1582" class="Generalizable">i</a>    <a id="1587" class="Symbol">:</a> <a id="1589" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="1594" href="CategoricalCrypto.Channel.Core.html#430" class="InductiveConstructor">Out</a> <a id="1598" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1600" href="Leios.Base.html#1130" class="Datatype">BaseIOF</a> <a id="1608" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="1611" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1613" href="Leios.Protocol.html#7887" class="Datatype">IOT</a> <a id="1617" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a>
  <a id="1622" href="Leios.Linear.Trace.Verifier.html#1622" class="Generalizable">o</a>    <a id="1627" class="Symbol">:</a> <a id="1629" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="1634" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a>
</pre><pre class="Agda"><a id="getAction"></a><a id="1649" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="1659" class="Symbol">:</a> <a id="1661" class="Symbol">∀</a> <a id="1663" class="Symbol">{</a><a id="1664" href="Leios.Linear.Trace.Verifier.html#1664" class="Bound">i</a> <a id="1666" href="Leios.Linear.Trace.Verifier.html#1666" class="Bound">o</a><a id="1667" class="Symbol">}</a> <a id="1669" class="Symbol">→</a> <a id="1671" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="1673" href="Leios.Linear.html#5259" class="Datatype Operator">-⟦</a> <a id="1676" href="Leios.Linear.Trace.Verifier.html#1664" class="Bound">i</a> <a id="1678" href="Leios.Linear.html#5259" class="Datatype Operator">/</a> <a id="1680" href="Leios.Linear.Trace.Verifier.html#1666" class="Bound">o</a> <a id="1682" href="Leios.Linear.html#5259" class="Datatype Operator">⟧⇀</a> <a id="1685" href="Leios.Linear.Trace.Verifier.html#1459" class="Generalizable">s′</a> <a id="1688" class="Symbol">→</a> <a id="1690" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a>
<a id="1697" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="1707" class="Symbol">(</a><a id="1708" href="Leios.Linear.html#5364" class="InductiveConstructor">Slot₁</a> <a id="1714" class="Symbol">{</a><a id="1715" href="Leios.Linear.Trace.Verifier.html#1715" class="Bound">s</a><a id="1716" class="Symbol">}</a> <a id="1718" class="Symbol">_)</a>                                      <a id="1758" class="Symbol">=</a> <a id="1760" href="Leios.Linear.Trace.Verifier.html#1063" class="InductiveConstructor">Slot₁-Action</a> <a id="1773" class="Symbol">(</a><a id="1774" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="1790" href="Leios.Linear.Trace.Verifier.html#1715" class="Bound">s</a><a id="1791" class="Symbol">)</a>
<a id="1793" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="1803" class="Symbol">(</a><a id="1804" href="Leios.Linear.html#5722" class="InductiveConstructor">Slot₂</a> <a id="1810" class="Symbol">{</a><a id="1811" href="Leios.Linear.Trace.Verifier.html#1811" class="Bound">s</a><a id="1812" class="Symbol">})</a>                                        <a id="1854" class="Symbol">=</a> <a id="1856" href="Leios.Linear.Trace.Verifier.html#1096" class="InductiveConstructor">Slot₂-Action</a> <a id="1869" class="Symbol">(</a><a id="1870" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="1886" href="Leios.Linear.Trace.Verifier.html#1811" class="Bound">s</a><a id="1887" class="Symbol">)</a>
<a id="1889" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="1899" class="Symbol">(</a><a id="1900" href="Leios.Linear.html#5920" class="InductiveConstructor">Ftch</a> <a id="1905" class="Symbol">{</a><a id="1906" href="Leios.Linear.Trace.Verifier.html#1906" class="Bound">s</a><a id="1907" class="Symbol">})</a>                                         <a id="1950" class="Symbol">=</a> <a id="1952" href="Leios.Linear.Trace.Verifier.html#1030" class="InductiveConstructor">Ftch-Action</a> <a id="1964" class="Symbol">(</a><a id="1965" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="1981" href="Leios.Linear.Trace.Verifier.html#1906" class="Bound">s</a><a id="1982" class="Symbol">)</a>
<a id="1984" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="1994" class="Symbol">(</a><a id="1995" href="Leios.Linear.html#6312" class="InductiveConstructor">Base₁</a> <a id="2001" class="Symbol">{</a><a id="2002" href="Leios.Linear.Trace.Verifier.html#2002" class="Bound">s</a><a id="2003" class="Symbol">})</a>                                        <a id="2045" class="Symbol">=</a> <a id="2047" href="Leios.Linear.Trace.Verifier.html#1129" class="InductiveConstructor">Base₁-Action</a> <a id="2060" class="Symbol">(</a><a id="2061" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="2077" href="Leios.Linear.Trace.Verifier.html#2002" class="Bound">s</a><a id="2078" class="Symbol">)</a>
<a id="2080" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="2090" class="Symbol">(</a><a id="2091" href="Leios.Linear.html#6501" class="InductiveConstructor">Base₂</a> <a id="2097" class="Symbol">{</a><a id="2098" href="Leios.Linear.Trace.Verifier.html#2098" class="Bound">s</a><a id="2099" class="Symbol">}</a> <a id="2101" class="Symbol">_)</a>                                      <a id="2141" class="Symbol">=</a> <a id="2143" href="Leios.Linear.Trace.Verifier.html#1162" class="InductiveConstructor">Base₂-Action</a> <a id="2156" class="Symbol">(</a><a id="2157" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="2173" href="Leios.Linear.Trace.Verifier.html#2098" class="Bound">s</a><a id="2174" class="Symbol">)</a>
<a id="2176" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="2186" class="Symbol">(</a><a id="2187" href="Leios.Linear.html#7180" class="InductiveConstructor">Roles₁</a> <a id="2194" class="Symbol">(</a><a id="2195" href="Leios.Linear.html#3812" class="InductiveConstructor">EB-Role</a> <a id="2203" class="Symbol">{</a><a id="2204" href="Leios.Linear.Trace.Verifier.html#2204" class="Bound">s</a><a id="2205" class="Symbol">}</a> <a id="2207" class="Symbol">{</a><a id="2208" class="Argument">eb</a> <a id="2211" class="Symbol">=</a> <a id="2213" href="Leios.Linear.Trace.Verifier.html#2213" class="Bound">eb</a><a id="2215" class="Symbol">}</a> <a id="2217" class="Symbol">_))</a>                 <a id="2237" class="Symbol">=</a> <a id="2239" href="Leios.Linear.Trace.Verifier.html#928" class="InductiveConstructor">EB-Role-Action</a> <a id="2254" class="Symbol">(</a><a id="2255" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="2271" href="Leios.Linear.Trace.Verifier.html#2204" class="Bound">s</a><a id="2272" class="Symbol">)</a> <a id="2274" href="Leios.Linear.Trace.Verifier.html#2213" class="Bound">eb</a>
<a id="2277" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="2287" class="Symbol">(</a><a id="2288" href="Leios.Linear.html#7180" class="InductiveConstructor">Roles₁</a> <a id="2295" class="Symbol">(</a><a id="2296" href="Leios.Linear.html#4078" class="InductiveConstructor">VT-Role</a> <a id="2304" class="Symbol">{</a><a id="2305" href="Leios.Linear.Trace.Verifier.html#2305" class="Bound">s</a><a id="2306" class="Symbol">}</a> <a id="2308" class="Symbol">{</a><a id="2309" class="Argument">eb</a> <a id="2312" class="Symbol">=</a> <a id="2314" href="Leios.Linear.Trace.Verifier.html#2314" class="Bound">eb</a><a id="2316" class="Symbol">}</a> <a id="2318" class="Symbol">{</a><a id="2319" class="Argument">slot&#39;</a> <a id="2325" class="Symbol">=</a> <a id="2327" href="Leios.Linear.Trace.Verifier.html#2327" class="Bound">slot&#39;</a><a id="2332" class="Symbol">}</a> <a id="2334" class="Symbol">_))</a> <a id="2338" class="Symbol">=</a> <a id="2340" href="Leios.Linear.Trace.Verifier.html#977" class="InductiveConstructor">VT-Role-Action</a> <a id="2355" class="Symbol">(</a><a id="2356" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="2372" href="Leios.Linear.Trace.Verifier.html#2305" class="Bound">s</a><a id="2373" class="Symbol">)</a> <a id="2375" href="Leios.Linear.Trace.Verifier.html#2314" class="Bound">eb</a> <a id="2378" href="Leios.Linear.Trace.Verifier.html#2327" class="Bound">slot&#39;</a>
<a id="2384" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="2394" class="Symbol">(</a><a id="2395" href="Leios.Linear.html#7355" class="InductiveConstructor">Roles₂</a> <a id="2402" class="Symbol">{</a><a id="2403" class="Argument">u</a> <a id="2405" class="Symbol">=</a> <a id="2407" href="Leios.Linear.html#1447" class="InductiveConstructor">Base</a><a id="2411" class="Symbol">}</a> <a id="2413" class="Symbol">(_</a> <a id="2416" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2418" class="Symbol">_</a> <a id="2420" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2422" href="Leios.Linear.Trace.Verifier.html#2422" class="Bound">x</a><a id="2423" class="Symbol">))</a>                    <a id="2445" class="Symbol">=</a> <a id="2447" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="2454" class="Symbol">(</a><a id="2455" href="Leios.Linear.Trace.Verifier.html#2422" class="Bound">x</a> <a id="2457" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2461" class="Symbol">)</a> <a id="2463" class="Comment">-- Roles₂ excludes the `Base` role</a>
<a id="2498" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="2508" class="Symbol">(</a><a id="2509" href="Leios.Linear.html#7355" class="InductiveConstructor">Roles₂</a> <a id="2516" class="Symbol">{</a><a id="2517" href="Leios.Linear.Trace.Verifier.html#2517" class="Bound">s</a><a id="2518" class="Symbol">}</a> <a id="2520" class="Symbol">{</a><a id="2521" class="Argument">u</a> <a id="2523" class="Symbol">=</a> <a id="2525" href="Leios.Linear.html#1452" class="InductiveConstructor">EB-Role</a><a id="2532" class="Symbol">}</a> <a id="2534" class="Symbol">_)</a>                       <a id="2559" class="Symbol">=</a> <a id="2561" href="Leios.Linear.Trace.Verifier.html#1195" class="InductiveConstructor">No-EB-Role-Action</a> <a id="2579" class="Symbol">(</a><a id="2580" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="2596" href="Leios.Linear.Trace.Verifier.html#2517" class="Bound">s</a><a id="2597" class="Symbol">)</a>
<a id="2599" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="2609" class="Symbol">(</a><a id="2610" href="Leios.Linear.html#7355" class="InductiveConstructor">Roles₂</a> <a id="2617" class="Symbol">{</a><a id="2618" href="Leios.Linear.Trace.Verifier.html#2618" class="Bound">s</a><a id="2619" class="Symbol">}</a> <a id="2621" class="Symbol">{</a><a id="2622" class="Argument">u</a> <a id="2624" class="Symbol">=</a> <a id="2626" href="Leios.Linear.html#1460" class="InductiveConstructor">VT-Role</a><a id="2633" class="Symbol">}</a> <a id="2635" class="Symbol">_)</a>                       <a id="2660" class="Symbol">=</a> <a id="2662" href="Leios.Linear.Trace.Verifier.html#1228" class="InductiveConstructor">No-VT-Role-Action</a> <a id="2680" class="Symbol">(</a><a id="2681" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="2697" href="Leios.Linear.Trace.Verifier.html#2618" class="Bound">s</a><a id="2698" class="Symbol">)</a>
</pre><pre class="Agda"><a id="getSlot"></a><a id="2712" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2720" class="Symbol">:</a> <a id="2722" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a> <a id="2729" class="Symbol">→</a> <a id="2731" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="2733" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2741" class="Symbol">(</a><a id="2742" href="Leios.Linear.Trace.Verifier.html#928" class="InductiveConstructor">EB-Role-Action</a> <a id="2757" href="Leios.Linear.Trace.Verifier.html#2757" class="Bound">x</a> <a id="2759" class="Symbol">_)</a>   <a id="2764" class="Symbol">=</a> <a id="2766" href="Leios.Linear.Trace.Verifier.html#2757" class="Bound">x</a>
<a id="2768" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2776" class="Symbol">(</a><a id="2777" href="Leios.Linear.Trace.Verifier.html#977" class="InductiveConstructor">VT-Role-Action</a> <a id="2792" href="Leios.Linear.Trace.Verifier.html#2792" class="Bound">x</a> <a id="2794" class="Symbol">_</a> <a id="2796" class="Symbol">_)</a> <a id="2799" class="Symbol">=</a> <a id="2801" href="Leios.Linear.Trace.Verifier.html#2792" class="Bound">x</a>
<a id="2803" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2811" class="Symbol">(</a><a id="2812" href="Leios.Linear.Trace.Verifier.html#1195" class="InductiveConstructor">No-EB-Role-Action</a> <a id="2830" href="Leios.Linear.Trace.Verifier.html#2830" class="Bound">x</a><a id="2831" class="Symbol">)</a>  <a id="2834" class="Symbol">=</a> <a id="2836" href="Leios.Linear.Trace.Verifier.html#2830" class="Bound">x</a>
<a id="2838" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2846" class="Symbol">(</a><a id="2847" href="Leios.Linear.Trace.Verifier.html#1228" class="InductiveConstructor">No-VT-Role-Action</a> <a id="2865" href="Leios.Linear.Trace.Verifier.html#2865" class="Bound">x</a><a id="2866" class="Symbol">)</a>  <a id="2869" class="Symbol">=</a> <a id="2871" href="Leios.Linear.Trace.Verifier.html#2865" class="Bound">x</a>
<a id="2873" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2881" class="Symbol">(</a><a id="2882" href="Leios.Linear.Trace.Verifier.html#1030" class="InductiveConstructor">Ftch-Action</a> <a id="2894" href="Leios.Linear.Trace.Verifier.html#2894" class="Bound">x</a><a id="2895" class="Symbol">)</a>        <a id="2904" class="Symbol">=</a> <a id="2906" href="Leios.Linear.Trace.Verifier.html#2894" class="Bound">x</a>
<a id="2908" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2916" class="Symbol">(</a><a id="2917" href="Leios.Linear.Trace.Verifier.html#1063" class="InductiveConstructor">Slot₁-Action</a> <a id="2930" href="Leios.Linear.Trace.Verifier.html#2930" class="Bound">x</a><a id="2931" class="Symbol">)</a>       <a id="2939" class="Symbol">=</a> <a id="2941" href="Leios.Linear.Trace.Verifier.html#2930" class="Bound">x</a>
<a id="2943" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2951" class="Symbol">(</a><a id="2952" href="Leios.Linear.Trace.Verifier.html#1096" class="InductiveConstructor">Slot₂-Action</a> <a id="2965" href="Leios.Linear.Trace.Verifier.html#2965" class="Bound">x</a><a id="2966" class="Symbol">)</a>       <a id="2974" class="Symbol">=</a> <a id="2976" href="Leios.Linear.Trace.Verifier.html#2965" class="Bound">x</a>
<a id="2978" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="2986" class="Symbol">(</a><a id="2987" href="Leios.Linear.Trace.Verifier.html#1129" class="InductiveConstructor">Base₁-Action</a> <a id="3000" href="Leios.Linear.Trace.Verifier.html#3000" class="Bound">x</a><a id="3001" class="Symbol">)</a>       <a id="3009" class="Symbol">=</a> <a id="3011" href="Leios.Linear.Trace.Verifier.html#3000" class="Bound">x</a>
<a id="3013" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="3021" class="Symbol">(</a><a id="3022" href="Leios.Linear.Trace.Verifier.html#1162" class="InductiveConstructor">Base₂-Action</a> <a id="3035" href="Leios.Linear.Trace.Verifier.html#3035" class="Bound">x</a><a id="3036" class="Symbol">)</a>       <a id="3044" class="Symbol">=</a> <a id="3046" href="Leios.Linear.Trace.Verifier.html#3035" class="Bound">x</a>
</pre>NOTE: this goes backwards, from the current state to the initial state
<pre class="Agda"><a id="3131" class="Keyword">data</a> <a id="_—→_"></a><a id="3136" href="Leios.Linear.Trace.Verifier.html#3136" class="Datatype Operator">_—→_</a> <a id="3141" class="Symbol">:</a> <a id="3143" href="Leios.Protocol.html#1542" class="Record">LeiosState</a> <a id="3154" class="Symbol">→</a> <a id="3156" href="Leios.Protocol.html#1542" class="Record">LeiosState</a> <a id="3167" class="Symbol">→</a> <a id="3169" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3174" class="Keyword">where</a>

  <a id="_—→_.ActionStep"></a><a id="3183" href="Leios.Linear.Trace.Verifier.html#3183" class="InductiveConstructor">ActionStep</a> <a id="3194" class="Symbol">:</a> <a id="3196" class="Symbol">∀</a> <a id="3198" class="Symbol">{</a><a id="3199" href="Leios.Linear.Trace.Verifier.html#3199" class="Bound">s</a> <a id="3201" href="Leios.Linear.Trace.Verifier.html#3201" class="Bound">i</a> <a id="3203" href="Leios.Linear.Trace.Verifier.html#3203" class="Bound">o</a> <a id="3205" href="Leios.Linear.Trace.Verifier.html#3205" class="Bound">s′</a><a id="3207" class="Symbol">}</a> <a id="3209" class="Symbol">→</a>
    <a id="3215" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3217" href="Leios.Linear.Trace.Verifier.html#3199" class="Bound">s</a> <a id="3219" href="Leios.Linear.html#5259" class="Datatype Operator">-⟦</a> <a id="3222" href="Leios.Linear.Trace.Verifier.html#3201" class="Bound">i</a> <a id="3224" href="Leios.Linear.html#5259" class="Datatype Operator">/</a> <a id="3226" href="Leios.Linear.Trace.Verifier.html#3203" class="Bound">o</a> <a id="3228" href="Leios.Linear.html#5259" class="Datatype Operator">⟧⇀</a> <a id="3231" href="Leios.Linear.Trace.Verifier.html#3205" class="Bound">s′</a>
      <a id="3240" href="Prelude.InferenceRules.html#14097" class="Function Operator">───────────────────</a>
      <a id="3266" href="Leios.Linear.Trace.Verifier.html#3205" class="Bound">s′</a> <a id="3269" href="Leios.Linear.Trace.Verifier.html#3136" class="Datatype Operator">—→</a> <a id="3272" href="Leios.Linear.Trace.Verifier.html#3199" class="Bound">s</a>

<a id="3275" class="Keyword">open</a> <a id="3280" class="Keyword">import</a> <a id="3287" href="Prelude.Closures.html" class="Module">Prelude.Closures</a> <a id="3304" href="Leios.Linear.Trace.Verifier.html#3136" class="Datatype Operator">_—→_</a>
</pre><pre class="Agda"><a id="toRcvType"></a><a id="3321" href="Leios.Linear.Trace.Verifier.html#3321" class="Function">toRcvType</a> <a id="3331" class="Symbol">:</a> <a id="3333" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="3338" href="CategoricalCrypto.Channel.Core.html#430" class="InductiveConstructor">Out</a> <a id="3342" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3344" href="Leios.Base.html#1130" class="Datatype">BaseIOF</a> <a id="3352" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="3355" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3357" href="Leios.Protocol.html#7887" class="Datatype">IOT</a> <a id="3361" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="3364" class="Symbol">→</a> <a id="3366" href="CategoricalCrypto.Channel.Core.html#769" class="Field">Channel.inType</a> <a id="3381" class="Symbol">((</a><a id="3383" href="Leios.Protocol.html#8298" class="Function">FFD</a> <a id="3387" href="CategoricalCrypto.Channel.Core.html#3393" class="Function Operator">⊗</a> <a id="3389" href="Leios.Base.html#2974" class="Function">BaseIO</a><a id="3395" class="Symbol">)</a> <a id="3397" href="CategoricalCrypto.Channel.Core.html#3393" class="Function Operator">⊗</a> <a id="3399" class="Symbol">((</a><a id="3401" href="Leios.Protocol.html#8017" class="Function">IO</a> <a id="3404" href="CategoricalCrypto.Channel.Core.html#3393" class="Function Operator">⊗</a> <a id="3406" href="Leios.Protocol.html#8060" class="Function">Adv</a><a id="3409" class="Symbol">)</a> <a id="3411" href="CategoricalCrypto.Channel.Core.html#1145" class="Function Operator">ᵀ</a><a id="3412" class="Symbol">))</a>
<a id="3415" href="Leios.Linear.Trace.Verifier.html#3321" class="Function">toRcvType</a> <a id="3425" class="Symbol">(</a><a id="3426" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3431" href="Leios.Linear.Trace.Verifier.html#3431" class="Bound">i</a><a id="3432" class="Symbol">)</a> <a id="3434" class="Symbol">=</a> <a id="3436" class="Symbol">(</a><a id="3437" href="CategoricalCrypto.Channel.Selection.html#734" class="InductiveConstructor">ϵ</a> <a id="3439" href="CategoricalCrypto.Channel.Selection.html#767" class="InductiveConstructor Operator">⊗R</a><a id="3441" class="Symbol">)</a> <a id="3443" href="CategoricalCrypto.Channel.Selection.html#767" class="InductiveConstructor Operator">⊗R</a> <a id="3446" href="CategoricalCrypto.Channel.Selection.html#1281" class="Function Operator">↑ᵢ</a> <a id="3449" href="Leios.Linear.Trace.Verifier.html#3431" class="Bound">i</a>
<a id="3451" href="Leios.Linear.Trace.Verifier.html#3321" class="Function">toRcvType</a> <a id="3461" class="Symbol">(</a><a id="3462" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3467" class="Symbol">(</a><a id="3468" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3473" href="Leios.Linear.Trace.Verifier.html#3473" class="Bound">i</a><a id="3474" class="Symbol">))</a> <a id="3477" class="Symbol">=</a> <a id="3479" class="Symbol">(</a><a id="3480" href="CategoricalCrypto.Channel.Selection.html#834" class="InductiveConstructor Operator">L⊗</a> <a id="3483" href="CategoricalCrypto.Channel.Selection.html#734" class="InductiveConstructor">ϵ</a><a id="3484" class="Symbol">)</a> <a id="3486" href="CategoricalCrypto.Channel.Selection.html#767" class="InductiveConstructor Operator">⊗R</a> <a id="3489" href="CategoricalCrypto.Channel.Selection.html#1281" class="Function Operator">↑ᵢ</a> <a id="3492" href="Leios.Linear.Trace.Verifier.html#3473" class="Bound">i</a>
<a id="3494" href="Leios.Linear.Trace.Verifier.html#3321" class="Function">toRcvType</a> <a id="3504" class="Symbol">(</a><a id="3505" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3510" class="Symbol">(</a><a id="3511" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3516" href="Leios.Linear.Trace.Verifier.html#3516" class="Bound">i</a><a id="3517" class="Symbol">))</a> <a id="3520" class="Symbol">=</a> <a id="3522" href="CategoricalCrypto.Channel.Selection.html#834" class="InductiveConstructor Operator">L⊗</a> <a id="3525" class="Symbol">(</a><a id="3526" href="CategoricalCrypto.Channel.Selection.html#734" class="InductiveConstructor">ϵ</a> <a id="3528" href="CategoricalCrypto.Channel.Selection.html#901" class="InductiveConstructor Operator">ᵗ¹</a> <a id="3531" href="CategoricalCrypto.Channel.Selection.html#767" class="InductiveConstructor Operator">⊗R</a><a id="3533" class="Symbol">)</a> <a id="3535" href="CategoricalCrypto.Channel.Selection.html#901" class="InductiveConstructor Operator">ᵗ¹</a> <a id="3538" href="CategoricalCrypto.Channel.Selection.html#1281" class="Function Operator">↑ᵢ</a> <a id="3541" href="Leios.Linear.Trace.Verifier.html#3516" class="Bound">i</a>
</pre><pre class="Agda"><a id="3555" class="Keyword">infix</a> <a id="3561" class="Number">0</a> <a id="3563" href="Leios.Linear.Trace.Verifier.html#3929" class="Datatype Operator">_≈_</a> <a id="3567" href="Leios.Linear.Trace.Verifier.html#3578" class="Datatype Operator">_≈¹_</a>

<a id="3573" class="Keyword">data</a> <a id="_≈¹_"></a><a id="3578" href="Leios.Linear.Trace.Verifier.html#3578" class="Datatype Operator">_≈¹_</a> <a id="3583" class="Symbol">:</a> <a id="3585" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a> <a id="3592" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3594" class="Symbol">(</a><a id="3595" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="3600" href="CategoricalCrypto.Channel.Core.html#430" class="InductiveConstructor">Out</a> <a id="3604" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3606" href="Leios.Base.html#1130" class="Datatype">BaseIOF</a> <a id="3614" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="3617" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3619" href="Leios.Protocol.html#7887" class="Datatype">IOT</a> <a id="3623" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a><a id="3625" class="Symbol">)</a> <a id="3627" class="Symbol">→</a> <a id="3629" href="Leios.Linear.Trace.Verifier.html#1459" class="Generalizable">s′</a> <a id="3632" href="Leios.Linear.Trace.Verifier.html#3136" class="Datatype Operator">—→</a> <a id="3635" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="3637" class="Symbol">→</a> <a id="3639" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3644" class="Keyword">where</a>

  <a id="_≈¹_.FromAction"></a><a id="3653" href="Leios.Linear.Trace.Verifier.html#3653" class="InductiveConstructor">FromAction</a> <a id="3664" class="Symbol">:</a>
    <a id="3670" class="Symbol">∀</a> <a id="3672" href="Leios.Linear.Trace.Verifier.html#3672" class="Bound">i</a> <a id="3674" class="Symbol">{</a><a id="3675" href="Leios.Linear.Trace.Verifier.html#3675" class="Bound">s′</a> <a id="3678" href="Leios.Linear.Trace.Verifier.html#3678" class="Bound">o</a><a id="3679" class="Symbol">}</a>
      <a id="3687" class="Symbol">→</a> <a id="3689" class="Symbol">(</a><a id="3690" href="Leios.Linear.Trace.Verifier.html#3690" class="Bound">σ</a> <a id="3692" class="Symbol">:</a> <a id="3694" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="3696" href="Leios.Linear.html#5259" class="Datatype Operator">-⟦</a> <a id="3699" href="Leios.Linear.Trace.Verifier.html#3321" class="Function">toRcvType</a> <a id="3709" href="Leios.Linear.Trace.Verifier.html#3672" class="Bound">i</a> <a id="3711" href="Leios.Linear.html#5259" class="Datatype Operator">/</a> <a id="3713" href="Leios.Linear.Trace.Verifier.html#3678" class="Bound">o</a> <a id="3715" href="Leios.Linear.html#5259" class="Datatype Operator">⟧⇀</a> <a id="3718" href="Leios.Linear.Trace.Verifier.html#3675" class="Bound">s′</a><a id="3720" class="Symbol">)</a>
      <a id="3728" class="Symbol">→</a> <a id="3730" class="Symbol">(</a><a id="3731" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="3741" href="Leios.Linear.Trace.Verifier.html#3690" class="Bound">σ</a> <a id="3743" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3745" href="Leios.Linear.Trace.Verifier.html#3672" class="Bound">i</a><a id="3746" class="Symbol">)</a> <a id="3748" href="Leios.Linear.Trace.Verifier.html#3578" class="Datatype Operator">≈¹</a> <a id="3751" href="Leios.Linear.Trace.Verifier.html#3183" class="InductiveConstructor">ActionStep</a> <a id="3762" href="Leios.Linear.Trace.Verifier.html#3690" class="Bound">σ</a>

<a id="3765" class="Keyword">data</a> <a id="ValidStep"></a><a id="3770" href="Leios.Linear.Trace.Verifier.html#3770" class="Datatype">ValidStep</a> <a id="3780" class="Symbol">(</a><a id="3781" href="Leios.Linear.Trace.Verifier.html#3781" class="Bound">es</a> <a id="3784" class="Symbol">:</a> <a id="3786" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a> <a id="3793" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3795" class="Symbol">(</a><a id="3796" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="3801" href="CategoricalCrypto.Channel.Core.html#430" class="InductiveConstructor">Out</a> <a id="3805" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3807" href="Leios.Base.html#1130" class="Datatype">BaseIOF</a> <a id="3815" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="3818" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3820" href="Leios.Protocol.html#7887" class="Datatype">IOT</a> <a id="3824" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a><a id="3826" class="Symbol">))</a> <a id="3829" class="Symbol">(</a><a id="3830" href="Leios.Linear.Trace.Verifier.html#3830" class="Bound">s</a> <a id="3832" class="Symbol">:</a> <a id="3834" href="Leios.Protocol.html#1542" class="Record">LeiosState</a><a id="3844" class="Symbol">)</a> <a id="3846" class="Symbol">:</a> <a id="3848" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3853" class="Keyword">where</a>
  <a id="ValidStep.Valid"></a><a id="3861" href="Leios.Linear.Trace.Verifier.html#3861" class="InductiveConstructor">Valid</a> <a id="3867" class="Symbol">:</a> <a id="3869" class="Symbol">(</a><a id="3870" href="Leios.Linear.Trace.Verifier.html#3870" class="Bound">tr</a> <a id="3873" class="Symbol">:</a> <a id="3875" href="Leios.Linear.Trace.Verifier.html#1459" class="Generalizable">s′</a> <a id="3878" href="Leios.Linear.Trace.Verifier.html#3136" class="Datatype Operator">—→</a> <a id="3881" href="Leios.Linear.Trace.Verifier.html#3830" class="Bound">s</a><a id="3882" class="Symbol">)</a> <a id="3884" class="Symbol">→</a> <a id="3886" href="Leios.Linear.Trace.Verifier.html#3781" class="Bound">es</a> <a id="3889" href="Leios.Linear.Trace.Verifier.html#3578" class="Datatype Operator">≈¹</a> <a id="3892" href="Leios.Linear.Trace.Verifier.html#3870" class="Bound">tr</a> <a id="3895" class="Symbol">→</a> <a id="3897" href="Leios.Linear.Trace.Verifier.html#3770" class="Datatype">ValidStep</a> <a id="3907" href="Leios.Linear.Trace.Verifier.html#3781" class="Bound">es</a> <a id="3910" href="Leios.Linear.Trace.Verifier.html#3830" class="Bound">s</a>
</pre><pre class="Agda"><a id="3924" class="Keyword">data</a> <a id="_≈_"></a><a id="3929" href="Leios.Linear.Trace.Verifier.html#3929" class="Datatype Operator">_≈_</a> <a id="3933" class="Symbol">:</a> <a id="3935" href="Leios.Linear.Trace.Verifier.html#1365" class="Function">TestTrace</a> <a id="3945" class="Symbol">→</a> <a id="3947" href="Leios.Linear.Trace.Verifier.html#1459" class="Generalizable">s′</a> <a id="3950" href="Prelude.Closures.html#226" class="Datatype Operator">—↠</a> <a id="3953" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="3955" class="Symbol">→</a> <a id="3957" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3962" class="Keyword">where</a>

  <a id="_≈_.FromAction"></a><a id="3971" href="Leios.Linear.Trace.Verifier.html#3971" class="InductiveConstructor">FromAction</a> <a id="3982" class="Symbol">:</a>
    <a id="3988" class="Symbol">∀</a> <a id="3990" href="Leios.Linear.Trace.Verifier.html#3990" class="Bound">i</a> <a id="3992" class="Symbol">{</a><a id="3993" href="Leios.Linear.Trace.Verifier.html#3993" class="Bound">σs</a> <a id="3996" href="Leios.Linear.Trace.Verifier.html#3996" class="Bound">s′</a> <a id="3999" href="Leios.Linear.Trace.Verifier.html#3999" class="Bound">s₀</a> <a id="4002" href="Leios.Linear.Trace.Verifier.html#4002" class="Bound">o</a><a id="4003" class="Symbol">}</a> <a id="4005" class="Symbol">{</a><a id="4006" href="Leios.Linear.Trace.Verifier.html#4006" class="Bound">tr</a> <a id="4009" class="Symbol">:</a> <a id="4011" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="4013" href="Prelude.Closures.html#226" class="Datatype Operator">—↠</a> <a id="4016" href="Leios.Linear.Trace.Verifier.html#3999" class="Bound">s₀</a><a id="4018" class="Symbol">}</a>
      <a id="4026" class="Symbol">→</a> <a id="4028" href="Leios.Linear.Trace.Verifier.html#3993" class="Bound">σs</a> <a id="4031" href="Leios.Linear.Trace.Verifier.html#3929" class="Datatype Operator">≈</a> <a id="4033" href="Leios.Linear.Trace.Verifier.html#4006" class="Bound">tr</a>
      <a id="4042" class="Symbol">→</a> <a id="4044" class="Symbol">(</a><a id="4045" href="Leios.Linear.Trace.Verifier.html#4045" class="Bound">σ</a> <a id="4047" class="Symbol">:</a> <a id="4049" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="4051" href="Leios.Linear.html#5259" class="Datatype Operator">-⟦</a> <a id="4054" href="Leios.Linear.Trace.Verifier.html#3321" class="Function">toRcvType</a> <a id="4064" href="Leios.Linear.Trace.Verifier.html#3990" class="Bound">i</a> <a id="4066" href="Leios.Linear.html#5259" class="Datatype Operator">/</a> <a id="4068" href="Leios.Linear.Trace.Verifier.html#4002" class="Bound">o</a> <a id="4070" href="Leios.Linear.html#5259" class="Datatype Operator">⟧⇀</a> <a id="4073" href="Leios.Linear.Trace.Verifier.html#3996" class="Bound">s′</a><a id="4075" class="Symbol">)</a>
      <a id="4083" class="Symbol">→</a> <a id="4085" class="Symbol">(</a><a id="4086" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="4096" href="Leios.Linear.Trace.Verifier.html#4045" class="Bound">σ</a> <a id="4098" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4100" href="Leios.Linear.Trace.Verifier.html#3990" class="Bound">i</a><a id="4101" class="Symbol">)</a> <a id="4103" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4105" href="Leios.Linear.Trace.Verifier.html#3993" class="Bound">σs</a> <a id="4108" href="Leios.Linear.Trace.Verifier.html#3929" class="Datatype Operator">≈</a> <a id="4110" href="Leios.Linear.Trace.Verifier.html#3996" class="Bound">s′</a> <a id="4113" href="Prelude.Closures.html#269" class="InductiveConstructor Operator">—→⟨</a> <a id="4117" href="Leios.Linear.Trace.Verifier.html#3183" class="InductiveConstructor">ActionStep</a> <a id="4128" href="Leios.Linear.Trace.Verifier.html#4045" class="Bound">σ</a> <a id="4130" href="Prelude.Closures.html#269" class="InductiveConstructor Operator">⟩</a> <a id="4132" href="Leios.Linear.Trace.Verifier.html#4006" class="Bound">tr</a>

  <a id="_≈_.Done"></a><a id="4138" href="Leios.Linear.Trace.Verifier.html#4138" class="InductiveConstructor">Done</a> <a id="4143" class="Symbol">:</a> <a id="4145" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4148" href="Leios.Linear.Trace.Verifier.html#3929" class="Datatype Operator">≈</a> <a id="4150" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="4152" href="Prelude.Closures.html#249" class="InductiveConstructor Operator">∎</a>

<a id="4155" class="Keyword">data</a> <a id="ValidTrace"></a><a id="4160" href="Leios.Linear.Trace.Verifier.html#4160" class="Datatype">ValidTrace</a> <a id="4171" class="Symbol">(</a><a id="4172" href="Leios.Linear.Trace.Verifier.html#4172" class="Bound">es</a> <a id="4175" class="Symbol">:</a> <a id="4177" href="Leios.Linear.Trace.Verifier.html#1365" class="Function">TestTrace</a><a id="4186" class="Symbol">)</a> <a id="4188" class="Symbol">(</a><a id="4189" href="Leios.Linear.Trace.Verifier.html#4189" class="Bound">s</a> <a id="4191" class="Symbol">:</a> <a id="4193" href="Leios.Protocol.html#1542" class="Record">LeiosState</a><a id="4203" class="Symbol">)</a> <a id="4205" class="Symbol">:</a> <a id="4207" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4212" class="Keyword">where</a>
  <a id="ValidTrace.Valid"></a><a id="4220" href="Leios.Linear.Trace.Verifier.html#4220" class="InductiveConstructor">Valid</a> <a id="4226" class="Symbol">:</a> <a id="4228" class="Symbol">(</a><a id="4229" href="Leios.Linear.Trace.Verifier.html#4229" class="Bound">tr</a> <a id="4232" class="Symbol">:</a> <a id="4234" href="Leios.Linear.Trace.Verifier.html#1459" class="Generalizable">s′</a> <a id="4237" href="Prelude.Closures.html#226" class="Datatype Operator">—↠</a> <a id="4240" href="Leios.Linear.Trace.Verifier.html#4189" class="Bound">s</a><a id="4241" class="Symbol">)</a> <a id="4243" class="Symbol">→</a> <a id="4245" href="Leios.Linear.Trace.Verifier.html#4172" class="Bound">es</a> <a id="4248" href="Leios.Linear.Trace.Verifier.html#3929" class="Datatype Operator">≈</a> <a id="4250" href="Leios.Linear.Trace.Verifier.html#4229" class="Bound">tr</a> <a id="4253" class="Symbol">→</a> <a id="4255" href="Leios.Linear.Trace.Verifier.html#4160" class="Datatype">ValidTrace</a> <a id="4266" href="Leios.Linear.Trace.Verifier.html#4172" class="Bound">es</a> <a id="4269" href="Leios.Linear.Trace.Verifier.html#4189" class="Bound">s</a>
</pre>### Error handling
Errors that occur when verifying a step
<pre class="Agda"><a id="getNewState"></a><a id="4342" href="Leios.Linear.Trace.Verifier.html#4342" class="Function">getNewState</a> <a id="4354" class="Symbol">:</a> <a id="4356" class="Symbol">∀</a> <a id="4358" class="Symbol">{</a><a id="4359" href="Leios.Linear.Trace.Verifier.html#4359" class="Bound">es</a> <a id="4362" href="Leios.Linear.Trace.Verifier.html#4362" class="Bound">s</a><a id="4363" class="Symbol">}</a> <a id="4365" class="Symbol">→</a> <a id="4367" href="Leios.Linear.Trace.Verifier.html#4160" class="Datatype">ValidTrace</a> <a id="4378" href="Leios.Linear.Trace.Verifier.html#4359" class="Bound">es</a> <a id="4381" href="Leios.Linear.Trace.Verifier.html#4362" class="Bound">s</a> <a id="4383" class="Symbol">→</a> <a id="4385" href="Leios.Protocol.html#1542" class="Record">LeiosState</a>
<a id="4396" href="Leios.Linear.Trace.Verifier.html#4342" class="Function">getNewState</a> <a id="4408" class="Symbol">(</a><a id="4409" href="Leios.Linear.Trace.Verifier.html#4220" class="InductiveConstructor">Valid</a> <a id="4415" class="Symbol">{</a><a id="4416" class="Argument">s′</a> <a id="4419" class="Symbol">=</a> <a id="4421" href="Leios.Linear.Trace.Verifier.html#4421" class="Bound">s</a><a id="4422" class="Symbol">}</a> <a id="4424" class="Symbol">_</a> <a id="4426" class="Symbol">_)</a> <a id="4429" class="Symbol">=</a> <a id="4431" href="Leios.Linear.Trace.Verifier.html#4421" class="Bound">s</a>

<a id="4434" class="Keyword">data</a> <a id="Err-verifyStep"></a><a id="4439" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="4454" class="Symbol">(</a><a id="4455" href="Leios.Linear.Trace.Verifier.html#4455" class="Bound">σ</a> <a id="4457" class="Symbol">:</a> <a id="4459" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a><a id="4465" class="Symbol">)</a> <a id="4467" class="Symbol">(</a><a id="4468" href="Leios.Linear.Trace.Verifier.html#4468" class="Bound">i</a> <a id="4470" class="Symbol">:</a> <a id="4472" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="4477" href="CategoricalCrypto.Channel.Core.html#430" class="InductiveConstructor">Out</a> <a id="4481" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4483" href="Leios.Base.html#1130" class="Datatype">BaseIOF</a> <a id="4491" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="4494" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4496" href="Leios.Protocol.html#7887" class="Datatype">IOT</a> <a id="4500" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a><a id="4502" class="Symbol">)</a> <a id="4504" class="Symbol">(</a><a id="4505" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="4507" class="Symbol">:</a> <a id="4509" href="Leios.Protocol.html#1542" class="Record">LeiosState</a><a id="4519" class="Symbol">)</a> <a id="4521" class="Symbol">:</a> <a id="4523" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4528" class="Keyword">where</a>
  <a id="Err-verifyStep.Err-Slot"></a><a id="4536" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="4545" class="Symbol">:</a> <a id="4547" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="4555" href="Leios.Linear.Trace.Verifier.html#4455" class="Bound">σ</a> <a id="4557" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">≢</a> <a id="4559" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="4575" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="4577" class="Symbol">→</a> <a id="4579" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="4594" href="Leios.Linear.Trace.Verifier.html#4455" class="Bound">σ</a> <a id="4596" href="Leios.Linear.Trace.Verifier.html#4468" class="Bound">i</a> <a id="4598" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a>
  <a id="Err-verifyStep.Err-EB-Role-premises"></a><a id="4602" href="Leios.Linear.Trace.Verifier.html#4602" class="InductiveConstructor">Err-EB-Role-premises</a> <a id="4623" class="Symbol">:</a> <a id="4625" class="Symbol">∀</a> <a id="4627" class="Symbol">{</a><a id="4628" href="Leios.Linear.Trace.Verifier.html#4628" class="Bound">π</a><a id="4629" class="Symbol">}</a> <a id="4631" class="Symbol">→</a> <a id="4633" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="4635" class="Symbol">(</a>
    <a id="4641" href="Leios.Linear.html#2818" class="Function">toProposeEB</a> <a id="4653" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="4655" href="Leios.Linear.Trace.Verifier.html#4628" class="Bound">π</a> <a id="4657" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4659" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4664" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a> <a id="4667" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="4673" href="Leios.VRF.html#1847" class="Function">canProduceEB</a> <a id="4686" class="Symbol">(</a><a id="4687" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="4703" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a><a id="4704" class="Symbol">)</a> <a id="4706" href="Leios.SpecStructure.html#752" class="Field">sk-EB</a> <a id="4712" class="Symbol">(</a><a id="4713" href="Leios.Protocol.html#4500" class="Function">stake</a> <a id="4719" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a><a id="4720" class="Symbol">)</a> <a id="4722" href="Leios.Linear.Trace.Verifier.html#4628" class="Bound">π</a><a id="4723" class="Symbol">)</a> <a id="4725" class="Symbol">→</a>
    <a id="4731" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="4746" href="Leios.Linear.Trace.Verifier.html#4455" class="Bound">σ</a> <a id="4748" href="Leios.Linear.Trace.Verifier.html#4468" class="Bound">i</a> <a id="4750" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a>
  <a id="Err-verifyStep.Err-VT-Role-premises"></a><a id="4754" href="Leios.Linear.Trace.Verifier.html#4754" class="InductiveConstructor">Err-VT-Role-premises</a> <a id="4775" class="Symbol">:</a> <a id="4777" class="Symbol">∀</a> <a id="4779" class="Symbol">{</a><a id="4780" href="Leios.Linear.Trace.Verifier.html#4780" class="Bound">ebHash</a> <a id="4787" href="Leios.Linear.Trace.Verifier.html#4787" class="Bound">slot&#39;</a><a id="4792" class="Symbol">}</a> <a id="4794" class="Symbol">→</a> <a id="4796" class="Keyword">let</a> <a id="4800" class="Keyword">open</a> <a id="4805" href="Leios.Protocol.html#1542" class="Module">LeiosState</a> <a id="4816" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="4818" class="Keyword">in</a> <a id="4821" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="4823" class="Symbol">(</a>
    <a id="4829" href="Leios.Linear.html#3019" class="Function">getCurrentEBHash</a> <a id="4846" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="4848" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4850" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4855" href="Leios.Linear.Trace.Verifier.html#4780" class="Bound">ebHash</a> <a id="4862" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="4868" href="Data.List.Base.html#13327" class="Function">find</a> <a id="4873" class="Symbol">(λ</a> <a id="4876" class="Symbol">(_</a> <a id="4879" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4881" href="Leios.Linear.Trace.Verifier.html#4881" class="Bound">eb&#39;</a><a id="4884" class="Symbol">)</a> <a id="4886" class="Symbol">→</a> <a id="4888" href="Class.Hashable.html#167" class="Field">hash</a> <a id="4893" href="Leios.Linear.Trace.Verifier.html#4881" class="Bound">eb&#39;</a> <a id="4897" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="4899" href="Leios.Linear.Trace.Verifier.html#4780" class="Bound">ebHash</a><a id="4905" class="Symbol">)</a> <a id="4907" href="Leios.Protocol.html#1788" class="Function">EBs&#39;</a> <a id="4912" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4914" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4919" class="Symbol">(</a><a id="4920" href="Leios.Linear.Trace.Verifier.html#4787" class="Bound">slot&#39;</a> <a id="4926" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4928" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a><a id="4930" class="Symbol">)</a> <a id="4932" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="4938" href="Class.Hashable.html#167" class="Field">hash</a> <a id="4943" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a> <a id="4946" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4948" href="Leios.Protocol.html#1836" class="Function">VotedEBs</a> <a id="4957" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="4963" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="4965" href="Leios.Linear.html#3147" class="Function">isEquivocated</a> <a id="4979" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="4981" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a> <a id="4984" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="4990" href="Leios.Protocol.html#6161" class="Function">isValid</a> <a id="4998" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="5000" class="Symbol">(</a><a id="5001" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5006" class="Symbol">(</a><a id="5007" href="Leios.Blocks.html#2375" class="InductiveConstructor">ebHeader</a> <a id="5016" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a><a id="5018" class="Symbol">))</a> <a id="5021" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="5027" href="Leios.Linear.Trace.Verifier.html#4787" class="Bound">slot&#39;</a> <a id="5033" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="5035" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="5046" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a> <a id="5049" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="5051" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="5056" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="5062" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="5073" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a> <a id="5076" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="5078" class="Number">3</a> <a id="5080" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="5082" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="5087" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="5089" href="Leios.Protocol.html#1909" class="Function">slot</a> <a id="5094" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="5100" href="Leios.Protocol.html#1909" class="Function">slot</a> <a id="5105" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5107" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="5118" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a> <a id="5121" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="5123" class="Symbol">(</a><a id="5124" class="Number">3</a> <a id="5126" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="5128" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="5133" href="Data.Nat.Base.html#5485" class="Function Operator">⊔</a> <a id="5135" href="Leios.Linear.Trace.Verifier.html#622" class="Bound">validityCheckTime</a> <a id="5153" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a><a id="5155" class="Symbol">)</a> <a id="5157" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="5163" href="Leios.Linear.Trace.Verifier.html#622" class="Bound">validityCheckTime</a> <a id="5181" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a> <a id="5184" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="5186" class="Number">3</a> <a id="5188" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="5190" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="5195" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="5197" href="Leios.Linear.Trace.Verifier.html#559" class="Bound">Lvote</a> <a id="5203" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="5209" href="Leios.Blocks.html#1189" class="Field">EndorserBlockOSig.txs</a> <a id="5231" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a> <a id="5234" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">≢</a> <a id="5236" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5239" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="5245" href="Leios.Protocol.html#3018" class="Function">needsUpkeep</a> <a id="5257" href="Leios.Linear.html#1460" class="InductiveConstructor">VT-Role</a> <a id="5265" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
    <a id="5271" href="Leios.VRF.html#2451" class="Function">canProduceV</a> <a id="5283" class="Symbol">(</a><a id="5284" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="5295" href="Leios.Linear.Trace.Verifier.html#1512" class="Generalizable">eb</a><a id="5297" class="Symbol">)</a> <a id="5299" href="Leios.SpecStructure.html#758" class="Field">sk-VT</a> <a id="5305" class="Symbol">(</a><a id="5306" href="Leios.Protocol.html#4500" class="Function">stake</a> <a id="5312" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a><a id="5313" class="Symbol">))</a> <a id="5316" class="Symbol">→</a>
    <a id="5322" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="5337" href="Leios.Linear.Trace.Verifier.html#4455" class="Bound">σ</a> <a id="5339" href="Leios.Linear.Trace.Verifier.html#4468" class="Bound">i</a> <a id="5341" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a>
  <a id="Err-verifyStep.Err-AllDone"></a><a id="5345" href="Leios.Linear.Trace.Verifier.html#5345" class="InductiveConstructor">Err-AllDone</a> <a id="5357" class="Symbol">:</a> <a id="5359" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="5361" class="Symbol">(</a><a id="5362" href="Leios.Linear.html#5011" class="Function">allDone</a> <a id="5370" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a><a id="5371" class="Symbol">)</a> <a id="5373" class="Symbol">→</a> <a id="5375" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="5390" href="Leios.Linear.Trace.Verifier.html#4455" class="Bound">σ</a> <a id="5392" href="Leios.Linear.Trace.Verifier.html#4468" class="Bound">i</a> <a id="5394" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a>
  <a id="Err-verifyStep.Err-BaseUpkeep"></a><a id="5398" href="Leios.Linear.Trace.Verifier.html#5398" class="InductiveConstructor">Err-BaseUpkeep</a> <a id="5413" class="Symbol">:</a> <a id="5415" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="5417" class="Symbol">(</a><a id="5418" href="Leios.Protocol.html#3018" class="Function">LeiosState.needsUpkeep</a> <a id="5441" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="5443" href="Leios.Linear.html#1447" class="InductiveConstructor">Base</a><a id="5447" class="Symbol">)</a> <a id="5449" class="Symbol">→</a> <a id="5451" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="5466" href="Leios.Linear.Trace.Verifier.html#4455" class="Bound">σ</a> <a id="5468" href="Leios.Linear.Trace.Verifier.html#4468" class="Bound">i</a> <a id="5470" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a>
  <a id="Err-verifyStep.Err-Invalid"></a><a id="5474" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a> <a id="5486" class="Symbol">:</a> <a id="5488" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="5503" href="Leios.Linear.Trace.Verifier.html#4455" class="Bound">σ</a> <a id="5505" href="Leios.Linear.Trace.Verifier.html#4468" class="Bound">i</a> <a id="5507" href="Leios.Linear.Trace.Verifier.html#4505" class="Bound">s</a> <a id="5509" class="Comment">-- TODO: drop generic constructor</a>
</pre>Errors when verifying a trace
<pre class="Agda"><a id="5585" class="Keyword">data</a> <a id="Err-verifyTrace"></a><a id="5590" href="Leios.Linear.Trace.Verifier.html#5590" class="Datatype">Err-verifyTrace</a> <a id="5606" class="Symbol">:</a> <a id="5608" href="Leios.Linear.Trace.Verifier.html#1365" class="Function">TestTrace</a> <a id="5618" class="Symbol">→</a> <a id="5620" href="Leios.Protocol.html#1542" class="Record">LeiosState</a> <a id="5631" class="Symbol">→</a> <a id="5633" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5638" class="Keyword">where</a>
  <a id="Err-verifyTrace.Err-StepOk"></a><a id="5646" href="Leios.Linear.Trace.Verifier.html#5646" class="InductiveConstructor">Err-StepOk</a> <a id="5657" class="Symbol">:</a> <a id="5659" href="Leios.Linear.Trace.Verifier.html#5590" class="Datatype">Err-verifyTrace</a> <a id="5675" href="Leios.Linear.Trace.Verifier.html#1493" class="Generalizable">σs</a> <a id="5678" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a> <a id="5680" class="Symbol">→</a> <a id="5682" href="Leios.Linear.Trace.Verifier.html#5590" class="Datatype">Err-verifyTrace</a> <a id="5698" class="Symbol">((</a><a id="5700" href="Leios.Linear.Trace.Verifier.html#1477" class="Generalizable">σ</a> <a id="5702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5704" href="Leios.Linear.Trace.Verifier.html#1582" class="Generalizable">i</a><a id="5705" class="Symbol">)</a> <a id="5707" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5709" href="Leios.Linear.Trace.Verifier.html#1493" class="Generalizable">σs</a><a id="5711" class="Symbol">)</a> <a id="5713" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a>
  <a id="Err-verifyTrace.Err-Step"></a><a id="5717" href="Leios.Linear.Trace.Verifier.html#5717" class="InductiveConstructor">Err-Step</a>   <a id="5728" class="Symbol">:</a> <a id="5730" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="5745" href="Leios.Linear.Trace.Verifier.html#1477" class="Generalizable">σ</a> <a id="5747" href="Leios.Linear.Trace.Verifier.html#1582" class="Generalizable">i</a> <a id="5749" href="Leios.Linear.Trace.Verifier.html#1459" class="Generalizable">s′</a> <a id="5752" class="Symbol">→</a> <a id="5754" href="Leios.Linear.Trace.Verifier.html#5590" class="Datatype">Err-verifyTrace</a> <a id="5770" class="Symbol">((</a><a id="5772" href="Leios.Linear.Trace.Verifier.html#1477" class="Generalizable">σ</a> <a id="5774" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5776" href="Leios.Linear.Trace.Verifier.html#1582" class="Generalizable">i</a><a id="5777" class="Symbol">)</a> <a id="5779" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5781" href="Leios.Linear.Trace.Verifier.html#1493" class="Generalizable">σs</a><a id="5783" class="Symbol">)</a> <a id="5785" href="Leios.Linear.Trace.Verifier.html#1457" class="Generalizable">s</a>
</pre><pre class="Agda"><a id="Ok&#39;"></a><a id="5799" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="5803" class="Symbol">:</a> <a id="5805" class="Symbol">∀</a> <a id="5807" class="Symbol">{</a><a id="5808" href="Leios.Linear.Trace.Verifier.html#5808" class="Bound">s</a> <a id="5810" href="Leios.Linear.Trace.Verifier.html#5810" class="Bound">i</a> <a id="5812" href="Leios.Linear.Trace.Verifier.html#5812" class="Bound">o</a> <a id="5814" href="Leios.Linear.Trace.Verifier.html#5814" class="Bound">s′</a><a id="5816" class="Symbol">}</a> <a id="5818" class="Symbol">→</a> <a id="5820" class="Symbol">(</a><a id="5821" href="Leios.Linear.Trace.Verifier.html#5821" class="Bound">σ</a> <a id="5823" class="Symbol">:</a> <a id="5825" href="Leios.Linear.Trace.Verifier.html#5808" class="Bound">s</a> <a id="5827" href="Leios.Linear.html#5259" class="Datatype Operator">-⟦</a> <a id="5830" href="Leios.Linear.Trace.Verifier.html#3321" class="Function">toRcvType</a> <a id="5840" href="Leios.Linear.Trace.Verifier.html#5810" class="Bound">i</a> <a id="5842" href="Leios.Linear.html#5259" class="Datatype Operator">/</a> <a id="5844" href="Leios.Linear.Trace.Verifier.html#5812" class="Bound">o</a> <a id="5846" href="Leios.Linear.html#5259" class="Datatype Operator">⟧⇀</a> <a id="5849" href="Leios.Linear.Trace.Verifier.html#5814" class="Bound">s′</a><a id="5851" class="Symbol">)</a>
    <a id="5857" class="Symbol">→</a> <a id="5859" href="Prelude.Result.html#176" class="Datatype">Result</a> <a id="5866" class="Symbol">(</a><a id="5867" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="5882" class="Symbol">(</a><a id="5883" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="5893" href="Leios.Linear.Trace.Verifier.html#5821" class="Bound">σ</a><a id="5894" class="Symbol">)</a> <a id="5896" href="Leios.Linear.Trace.Verifier.html#5810" class="Bound">i</a> <a id="5898" href="Leios.Linear.Trace.Verifier.html#5808" class="Bound">s</a><a id="5899" class="Symbol">)</a> <a id="5901" class="Symbol">(</a><a id="5902" href="Leios.Linear.Trace.Verifier.html#3770" class="Datatype">ValidStep</a> <a id="5912" class="Symbol">(</a><a id="5913" href="Leios.Linear.Trace.Verifier.html#1649" class="Function">getAction</a> <a id="5923" href="Leios.Linear.Trace.Verifier.html#5821" class="Bound">σ</a> <a id="5925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5927" href="Leios.Linear.Trace.Verifier.html#5810" class="Bound">i</a><a id="5928" class="Symbol">)</a> <a id="5930" href="Leios.Linear.Trace.Verifier.html#5808" class="Bound">s</a><a id="5931" class="Symbol">)</a>
<a id="5933" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="5937" href="Leios.Linear.Trace.Verifier.html#5937" class="Bound">a</a> <a id="5939" class="Symbol">=</a> <a id="5941" href="Prelude.Result.html#211" class="InductiveConstructor">Ok</a> <a id="5944" class="Symbol">(</a><a id="5945" href="Leios.Linear.Trace.Verifier.html#3861" class="InductiveConstructor">Valid</a> <a id="5951" class="Symbol">_</a> <a id="5953" class="Symbol">(</a><a id="5954" href="Leios.Linear.Trace.Verifier.html#3653" class="InductiveConstructor">FromAction</a> <a id="5965" class="Symbol">_</a> <a id="5967" href="Leios.Linear.Trace.Verifier.html#5937" class="Bound">a</a><a id="5968" class="Symbol">))</a>
</pre><pre class="Agda"><a id="verifyStep&#39;"></a><a id="5983" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="5995" class="Symbol">:</a> <a id="5997" class="Symbol">(</a><a id="5998" href="Leios.Linear.Trace.Verifier.html#5998" class="Bound">a</a> <a id="6000" class="Symbol">:</a> <a id="6002" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a><a id="6008" class="Symbol">)</a> <a id="6010" class="Symbol">→</a>
  <a id="6014" class="Symbol">(</a><a id="6015" href="Leios.Linear.Trace.Verifier.html#6015" class="Bound">i</a> <a id="6017" class="Symbol">:</a> <a id="6019" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="6024" href="CategoricalCrypto.Channel.Core.html#430" class="InductiveConstructor">Out</a> <a id="6028" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6030" href="Leios.Base.html#1130" class="Datatype">BaseIOF</a> <a id="6038" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="6041" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6043" href="Leios.Protocol.html#7887" class="Datatype">IOT</a> <a id="6047" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a><a id="6049" class="Symbol">)</a> <a id="6051" class="Symbol">→</a>
  <a id="6055" class="Symbol">(</a><a id="6056" href="Leios.Linear.Trace.Verifier.html#6056" class="Bound">s</a> <a id="6058" class="Symbol">:</a> <a id="6060" href="Leios.Protocol.html#1542" class="Record">LeiosState</a><a id="6070" class="Symbol">)</a> <a id="6072" class="Symbol">→</a> <a id="6074" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="6082" href="Leios.Linear.Trace.Verifier.html#5998" class="Bound">a</a> <a id="6084" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6086" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="6102" href="Leios.Linear.Trace.Verifier.html#6056" class="Bound">s</a> <a id="6104" class="Symbol">→</a>
  <a id="6108" href="Prelude.Result.html#176" class="Datatype">Result</a> <a id="6115" class="Symbol">(</a><a id="6116" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="6131" href="Leios.Linear.Trace.Verifier.html#5998" class="Bound">a</a> <a id="6133" href="Leios.Linear.Trace.Verifier.html#6015" class="Bound">i</a> <a id="6135" href="Leios.Linear.Trace.Verifier.html#6056" class="Bound">s</a><a id="6136" class="Symbol">)</a> <a id="6138" class="Symbol">(</a><a id="6139" href="Leios.Linear.Trace.Verifier.html#3770" class="Datatype">ValidStep</a> <a id="6149" class="Symbol">(</a><a id="6150" href="Leios.Linear.Trace.Verifier.html#5998" class="Bound">a</a> <a id="6152" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6154" href="Leios.Linear.Trace.Verifier.html#6015" class="Bound">i</a><a id="6155" class="Symbol">)</a> <a id="6157" href="Leios.Linear.Trace.Verifier.html#6056" class="Bound">s</a><a id="6158" class="Symbol">)</a>
<a id="6160" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="6172" class="Symbol">(</a><a id="6173" href="Leios.Linear.Trace.Verifier.html#928" class="InductiveConstructor">EB-Role-Action</a> <a id="6188" href="Leios.Linear.Trace.Verifier.html#6188" class="Bound">n</a> <a id="6190" href="Leios.Linear.Trace.Verifier.html#6190" class="Bound">ebs</a><a id="6193" class="Symbol">)</a> <a id="6195" class="Symbol">(</a><a id="6196" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6201" href="Leios.Protocol.html#8253" class="InductiveConstructor">SLOT</a><a id="6205" class="Symbol">)</a> <a id="6207" href="Leios.Linear.Trace.Verifier.html#6207" class="Bound">s</a> <a id="6209" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="6216" class="Keyword">with</a> <a id="6221" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="6223" href="Leios.Linear.html#7929" class="Function">EB-Role-premises</a> <a id="6240" class="Symbol">{</a><a id="6241" class="Argument">s</a> <a id="6243" class="Symbol">=</a> <a id="6245" href="Leios.Linear.Trace.Verifier.html#6207" class="Bound">s</a><a id="6246" class="Symbol">}</a> <a id="6248" class="Symbol">{</a><a id="6249" class="Argument">π</a> <a id="6251" class="Symbol">=</a> <a id="6253" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6259" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="6261" href="Leios.VRF.html#682" class="Function">eval</a> <a id="6266" href="Leios.SpecStructure.html#752" class="Field">sk-EB</a> <a id="6272" class="Symbol">(</a><a id="6273" href="Leios.VRF.html#1189" class="Function">genEBInput</a> <a id="6284" class="Symbol">(</a><a id="6285" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="6301" href="Leios.Linear.Trace.Verifier.html#6207" class="Bound">s</a><a id="6302" class="Symbol">))}</a> <a id="6306" class="Symbol">.</a><a id="6307" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6313" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
<a id="6315" class="Symbol">...</a> <a id="6319" class="Symbol">|</a> <a id="6321" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="6325" href="Leios.Linear.Trace.Verifier.html#6325" class="Bound">p</a> <a id="6327" class="Symbol">=</a> <a id="6329" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="6333" class="Symbol">(</a><a id="6334" href="Leios.Linear.html#7180" class="InductiveConstructor">Roles₁</a> <a id="6341" class="Symbol">(</a><a id="6342" href="Leios.Linear.html#3812" class="InductiveConstructor">EB-Role</a> <a id="6350" href="Leios.Linear.Trace.Verifier.html#6325" class="Bound">p</a><a id="6351" class="Symbol">))</a>
<a id="6354" class="Symbol">...</a> <a id="6358" class="Symbol">|</a> <a id="6360" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="6363" href="Leios.Linear.Trace.Verifier.html#6363" class="Bound">¬p</a> <a id="6366" class="Symbol">=</a> <a id="6368" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="6372" class="Symbol">(</a><a id="6373" href="Leios.Linear.Trace.Verifier.html#4602" class="InductiveConstructor">Err-EB-Role-premises</a> <a id="6394" href="Leios.Linear.Trace.Verifier.html#6363" class="Bound">¬p</a><a id="6396" class="Symbol">)</a>
<a id="6398" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="6410" class="Symbol">(</a><a id="6411" href="Leios.Linear.Trace.Verifier.html#928" class="InductiveConstructor">EB-Role-Action</a> <a id="6426" class="Symbol">_</a> <a id="6428" class="Symbol">_)</a> <a id="6431" class="Symbol">(</a><a id="6432" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6437" href="Leios.Protocol.html#8276" class="InductiveConstructor">FTCH</a><a id="6441" class="Symbol">)</a> <a id="6443" class="Symbol">_</a> <a id="6445" class="Symbol">_</a>        <a id="6454" class="Symbol">=</a> <a id="6456" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="6460" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="6472" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="6484" class="Symbol">(</a><a id="6485" href="Leios.Linear.Trace.Verifier.html#928" class="InductiveConstructor">EB-Role-Action</a> <a id="6500" class="Symbol">_</a> <a id="6502" class="Symbol">_)</a> <a id="6505" class="Symbol">(</a><a id="6506" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6511" class="Symbol">(</a><a id="6512" href="Leios.Protocol.html#8162" class="InductiveConstructor">FFD-OUT</a> <a id="6520" class="Symbol">_))</a> <a id="6524" class="Symbol">_</a> <a id="6526" class="Symbol">_</a> <a id="6528" class="Symbol">=</a> <a id="6530" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="6534" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="6546" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="6558" class="Symbol">(</a><a id="6559" href="Leios.Linear.Trace.Verifier.html#928" class="InductiveConstructor">EB-Role-Action</a> <a id="6574" class="Symbol">_</a> <a id="6576" class="Symbol">_)</a> <a id="6579" class="Symbol">(</a><a id="6580" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6585" class="Symbol">_)</a> <a id="6588" class="Symbol">_</a> <a id="6590" class="Symbol">_</a>           <a id="6602" class="Symbol">=</a> <a id="6604" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="6608" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="6620" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="6632" class="Symbol">(</a><a id="6633" href="Leios.Linear.Trace.Verifier.html#977" class="InductiveConstructor">VT-Role-Action</a> <a id="6648" class="Symbol">_</a> <a id="6650" href="Leios.Linear.Trace.Verifier.html#6650" class="Bound">eb</a> <a id="6653" href="Leios.Linear.Trace.Verifier.html#6653" class="Bound">slot&#39;</a><a id="6658" class="Symbol">)</a> <a id="6660" class="Symbol">(</a><a id="6661" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6666" href="Leios.Protocol.html#8253" class="InductiveConstructor">SLOT</a><a id="6670" class="Symbol">)</a> <a id="6672" href="Leios.Linear.Trace.Verifier.html#6672" class="Bound">s</a> <a id="6674" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="6681" class="Keyword">with</a> <a id="6686" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="6688" href="Leios.Linear.html#8009" class="Function">VT-Role-premises</a> <a id="6705" class="Symbol">{</a><a id="6706" class="Argument">s</a> <a id="6708" class="Symbol">=</a> <a id="6710" href="Leios.Linear.Trace.Verifier.html#6672" class="Bound">s</a><a id="6711" class="Symbol">}</a> <a id="6713" class="Symbol">{</a><a id="6714" class="Argument">eb</a> <a id="6717" class="Symbol">=</a> <a id="6719" href="Leios.Linear.Trace.Verifier.html#6650" class="Bound">eb</a><a id="6721" class="Symbol">}</a> <a id="6723" class="Symbol">{</a><a id="6724" class="Argument">ebHash</a> <a id="6731" class="Symbol">=</a> <a id="6733" href="Class.Hashable.html#167" class="Field">hash</a> <a id="6738" href="Leios.Linear.Trace.Verifier.html#6650" class="Bound">eb</a><a id="6740" class="Symbol">}</a> <a id="6742" class="Symbol">{</a><a id="6743" class="Argument">slot&#39;</a> <a id="6749" class="Symbol">=</a> <a id="6751" href="Leios.Linear.Trace.Verifier.html#6653" class="Bound">slot&#39;</a><a id="6756" class="Symbol">}</a> <a id="6758" class="Symbol">.</a><a id="6759" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6765" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
<a id="6767" class="Symbol">...</a> <a id="6771" class="Symbol">|</a> <a id="6773" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="6777" href="Leios.Linear.Trace.Verifier.html#6777" class="Bound">p</a> <a id="6779" class="Symbol">=</a> <a id="6781" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="6785" class="Symbol">(</a><a id="6786" href="Leios.Linear.html#7180" class="InductiveConstructor">Roles₁</a> <a id="6793" class="Symbol">(</a><a id="6794" href="Leios.Linear.html#4078" class="InductiveConstructor">VT-Role</a> <a id="6802" class="Symbol">{</a><a id="6803" class="Argument">ebHash</a> <a id="6810" class="Symbol">=</a> <a id="6812" href="Class.Hashable.html#167" class="Field">hash</a> <a id="6817" class="Bound">eb</a><a id="6819" class="Symbol">}</a> <a id="6821" class="Symbol">{</a><a id="6822" class="Argument">slot&#39;</a> <a id="6828" class="Symbol">=</a> <a id="6830" class="Bound">slot&#39;</a><a id="6835" class="Symbol">}</a> <a id="6837" href="Leios.Linear.Trace.Verifier.html#6777" class="Bound">p</a><a id="6838" class="Symbol">))</a>
<a id="6841" class="Symbol">...</a> <a id="6845" class="Symbol">|</a> <a id="6847" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="6850" href="Leios.Linear.Trace.Verifier.html#6850" class="Bound">¬p</a> <a id="6853" class="Symbol">=</a> <a id="6855" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="6859" class="Symbol">(</a><a id="6860" href="Leios.Linear.Trace.Verifier.html#4754" class="InductiveConstructor">Err-VT-Role-premises</a> <a id="6881" href="Leios.Linear.Trace.Verifier.html#6850" class="Bound">¬p</a><a id="6883" class="Symbol">)</a>
<a id="6885" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="6897" class="Symbol">(</a><a id="6898" href="Leios.Linear.Trace.Verifier.html#977" class="InductiveConstructor">VT-Role-Action</a> <a id="6913" class="Symbol">_</a> <a id="6915" class="Symbol">_</a> <a id="6917" class="Symbol">_)</a> <a id="6920" class="Symbol">(</a><a id="6921" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6926" href="Leios.Protocol.html#8276" class="InductiveConstructor">FTCH</a><a id="6930" class="Symbol">)</a> <a id="6932" class="Symbol">_</a> <a id="6934" class="Symbol">_</a>        <a id="6943" class="Symbol">=</a> <a id="6945" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="6949" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="6961" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="6973" class="Symbol">(</a><a id="6974" href="Leios.Linear.Trace.Verifier.html#977" class="InductiveConstructor">VT-Role-Action</a> <a id="6989" class="Symbol">_</a> <a id="6991" class="Symbol">_</a> <a id="6993" class="Symbol">_)</a> <a id="6996" class="Symbol">(</a><a id="6997" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7002" class="Symbol">(</a><a id="7003" href="Leios.Protocol.html#8162" class="InductiveConstructor">FFD-OUT</a> <a id="7011" class="Symbol">_))</a> <a id="7015" class="Symbol">_</a> <a id="7017" class="Symbol">_</a> <a id="7019" class="Symbol">=</a> <a id="7021" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7025" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="7037" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7049" class="Symbol">(</a><a id="7050" href="Leios.Linear.Trace.Verifier.html#977" class="InductiveConstructor">VT-Role-Action</a> <a id="7065" class="Symbol">_</a> <a id="7067" class="Symbol">_</a> <a id="7069" class="Symbol">_)</a> <a id="7072" class="Symbol">(</a><a id="7073" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7078" class="Symbol">_)</a> <a id="7081" class="Symbol">_</a> <a id="7083" class="Symbol">_</a>           <a id="7095" class="Symbol">=</a> <a id="7097" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7101" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>

<a id="7114" class="Comment">-- This has a different IO pattern, not sure if we want to model that here</a>
<a id="7189" class="Comment">-- For now we&#39;ll just fail</a>
<a id="7216" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7228" class="Symbol">(</a><a id="7229" href="Leios.Linear.Trace.Verifier.html#1030" class="InductiveConstructor">Ftch-Action</a> <a id="7241" class="Symbol">_)</a> <a id="7244" class="Symbol">_</a> <a id="7246" class="Symbol">_</a> <a id="7248" class="Symbol">_</a> <a id="7250" class="Symbol">=</a> <a id="7252" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7256" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>

<a id="7269" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7281" class="Symbol">(</a><a id="7282" href="Leios.Linear.Trace.Verifier.html#1063" class="InductiveConstructor">Slot₁-Action</a> <a id="7295" class="Symbol">_)</a> <a id="7298" class="Symbol">(</a><a id="7299" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7304" href="Leios.Protocol.html#8253" class="InductiveConstructor">SLOT</a><a id="7308" class="Symbol">)</a> <a id="7310" class="Symbol">_</a> <a id="7312" class="Symbol">_</a> <a id="7314" class="Symbol">=</a> <a id="7316" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7320" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="7332" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7344" class="Symbol">(</a><a id="7345" href="Leios.Linear.Trace.Verifier.html#1063" class="InductiveConstructor">Slot₁-Action</a> <a id="7358" class="Symbol">_)</a> <a id="7361" class="Symbol">(</a><a id="7362" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7367" href="Leios.Protocol.html#8276" class="InductiveConstructor">FTCH</a><a id="7371" class="Symbol">)</a> <a id="7373" class="Symbol">_</a> <a id="7375" class="Symbol">_</a> <a id="7377" class="Symbol">=</a> <a id="7379" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7383" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="7395" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7407" class="Symbol">(</a><a id="7408" href="Leios.Linear.Trace.Verifier.html#1063" class="InductiveConstructor">Slot₁-Action</a> <a id="7421" class="Symbol">_)</a> <a id="7424" class="Symbol">(</a><a id="7425" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7430" class="Symbol">(</a><a id="7431" href="Leios.Protocol.html#8162" class="InductiveConstructor">FFD-OUT</a> <a id="7439" href="Leios.Linear.Trace.Verifier.html#7439" class="Bound">msgs</a><a id="7443" class="Symbol">))</a> <a id="7446" href="Leios.Linear.Trace.Verifier.html#7446" class="Bound">s</a> <a id="7448" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="7455" class="Keyword">with</a> <a id="7460" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="7462" href="Leios.Linear.html#8090" class="Function">Slot₁-premises</a> <a id="7477" class="Symbol">{</a><a id="7478" class="Argument">s</a> <a id="7480" class="Symbol">=</a> <a id="7482" href="Leios.Linear.Trace.Verifier.html#7446" class="Bound">s</a><a id="7483" class="Symbol">}</a> <a id="7485" class="Symbol">.</a><a id="7486" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7492" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
<a id="7494" class="Symbol">...</a> <a id="7498" class="Symbol">|</a> <a id="7500" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="7504" href="Leios.Linear.Trace.Verifier.html#7504" class="Bound">p</a> <a id="7506" class="Symbol">=</a> <a id="7508" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="7512" class="Symbol">(</a><a id="7513" href="Leios.Linear.html#5364" class="InductiveConstructor">Slot₁</a> <a id="7519" class="Symbol">{</a><a id="7520" class="Argument">s</a> <a id="7522" class="Symbol">=</a> <a id="7524" class="Bound">s</a><a id="7525" class="Symbol">}</a> <a id="7527" class="Symbol">{</a><a id="7528" class="Argument">msgs</a> <a id="7533" class="Symbol">=</a> <a id="7535" class="Bound">msgs</a><a id="7539" class="Symbol">}</a> <a id="7541" href="Leios.Linear.Trace.Verifier.html#7504" class="Bound">p</a><a id="7542" class="Symbol">)</a>
<a id="7544" class="Symbol">...</a> <a id="7548" class="Symbol">|</a> <a id="7550" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="7553" href="Leios.Linear.Trace.Verifier.html#7553" class="Bound">¬p</a> <a id="7556" class="Symbol">=</a> <a id="7558" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7562" class="Symbol">(</a><a id="7563" href="Leios.Linear.Trace.Verifier.html#5345" class="InductiveConstructor">Err-AllDone</a> <a id="7575" href="Leios.Linear.Trace.Verifier.html#7553" class="Bound">¬p</a><a id="7577" class="Symbol">)</a>
<a id="7579" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7591" class="Symbol">(</a><a id="7592" href="Leios.Linear.Trace.Verifier.html#1063" class="InductiveConstructor">Slot₁-Action</a> <a id="7605" class="Symbol">_)</a> <a id="7608" class="Symbol">(</a><a id="7609" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7614" class="Symbol">_)</a> <a id="7617" class="Symbol">_</a> <a id="7619" class="Symbol">_</a>        <a id="7628" class="Symbol">=</a> <a id="7630" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7634" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="7646" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7658" class="Symbol">(</a><a id="7659" href="Leios.Linear.Trace.Verifier.html#1096" class="InductiveConstructor">Slot₂-Action</a> <a id="7672" class="Symbol">_)</a> <a id="7675" class="Symbol">(</a><a id="7676" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7681" class="Symbol">_)</a> <a id="7684" class="Symbol">_</a> <a id="7686" class="Symbol">_</a>        <a id="7695" class="Symbol">=</a> <a id="7697" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7701" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="7713" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7725" class="Symbol">(</a><a id="7726" href="Leios.Linear.Trace.Verifier.html#1096" class="InductiveConstructor">Slot₂-Action</a> <a id="7739" class="Symbol">_)</a> <a id="7742" class="Symbol">(</a><a id="7743" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7748" class="Symbol">(</a><a id="7749" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7754" class="Symbol">(</a><a id="7755" href="Leios.Base.html#2918" class="InductiveConstructor">BASE-LDG</a> <a id="7764" href="Leios.Linear.Trace.Verifier.html#7764" class="Bound">rbs</a><a id="7767" class="Symbol">)))</a> <a id="7771" href="Leios.Linear.Trace.Verifier.html#7771" class="Bound">s</a> <a id="7773" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7778" class="Symbol">=</a> <a id="7780" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="7784" href="Leios.Linear.html#5722" class="InductiveConstructor">Slot₂</a>
<a id="7790" href="Leios.Linear.Trace.Verifier.html#5983" class="CatchallClause Function">verifyStep&#39;</a><a id="7801" class="CatchallClause"> </a><a id="7802" class="CatchallClause Symbol">(</a><a id="7803" href="Leios.Linear.Trace.Verifier.html#1096" class="CatchallClause InductiveConstructor">Slot₂-Action</a><a id="7815" class="CatchallClause"> </a><a id="7816" class="CatchallClause Symbol">_)</a><a id="7818" class="CatchallClause"> </a><a id="7819" class="CatchallClause Symbol">(</a><a id="7820" href="Data.Sum.Base.html#700" class="CatchallClause InductiveConstructor">inj₂</a><a id="7824" class="CatchallClause"> </a><a id="7825" class="CatchallClause Symbol">(</a><a id="7826" href="Data.Sum.Base.html#675" class="CatchallClause InductiveConstructor">inj₁</a><a id="7830" class="CatchallClause"> </a><a id="7831" class="CatchallClause Symbol">_))</a><a id="7834" class="CatchallClause"> </a><a id="7835" class="CatchallClause Symbol">_</a><a id="7836" class="CatchallClause"> </a><a id="7837" class="CatchallClause Symbol">_</a> <a id="7839" class="Symbol">=</a> <a id="7841" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7845" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="7857" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7869" class="Symbol">(</a><a id="7870" href="Leios.Linear.Trace.Verifier.html#1096" class="InductiveConstructor">Slot₂-Action</a> <a id="7883" class="Symbol">_)</a> <a id="7886" class="Symbol">(</a><a id="7887" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7892" class="Symbol">(</a><a id="7893" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7898" class="Symbol">_))</a> <a id="7902" class="Symbol">_</a> <a id="7904" class="Symbol">_</a> <a id="7906" class="Symbol">=</a> <a id="7908" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="7912" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>

<a id="7925" class="Comment">-- Different IO pattern again</a>
<a id="7955" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="7967" class="Symbol">(</a><a id="7968" href="Leios.Linear.Trace.Verifier.html#1129" class="InductiveConstructor">Base₁-Action</a> <a id="7981" class="Symbol">_)</a> <a id="7984" class="Symbol">(</a><a id="7985" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="7990" class="Symbol">_)</a> <a id="7993" class="Symbol">_</a> <a id="7995" class="Symbol">_</a>                <a id="8012" class="Symbol">=</a> <a id="8014" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8018" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="8030" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8042" class="Symbol">(</a><a id="8043" href="Leios.Linear.Trace.Verifier.html#1129" class="InductiveConstructor">Base₁-Action</a> <a id="8056" class="Symbol">_)</a> <a id="8059" class="Symbol">(</a><a id="8060" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8065" class="Symbol">(</a><a id="8066" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8071" class="Symbol">_))</a> <a id="8075" class="Symbol">_</a> <a id="8077" class="Symbol">_</a>         <a id="8087" class="Symbol">=</a> <a id="8089" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8093" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="8105" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8117" class="Symbol">(</a><a id="8118" href="Leios.Linear.Trace.Verifier.html#1129" class="InductiveConstructor">Base₁-Action</a> <a id="8131" class="Symbol">_)</a> <a id="8134" class="Symbol">(</a><a id="8135" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8140" class="Symbol">(</a><a id="8141" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8146" href="Leios.Protocol.html#7948" class="InductiveConstructor">FetchLdgI</a><a id="8155" class="Symbol">))</a> <a id="8158" class="Symbol">_</a> <a id="8160" class="Symbol">_</a> <a id="8162" class="Symbol">=</a> <a id="8164" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8168" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="8180" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8192" class="Symbol">(</a><a id="8193" href="Leios.Linear.Trace.Verifier.html#1129" class="InductiveConstructor">Base₁-Action</a> <a id="8206" class="Symbol">_)</a> <a id="8209" class="Symbol">(</a><a id="8210" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8215" class="Symbol">(</a><a id="8216" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8221" class="Symbol">(</a><a id="8222" href="Leios.Protocol.html#7915" class="InductiveConstructor">SubmitTxs</a> <a id="8232" class="Symbol">_)))</a> <a id="8237" class="Symbol">_</a> <a id="8239" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8244" class="Symbol">=</a> <a id="8246" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="8250" href="Leios.Linear.html#6312" class="InductiveConstructor">Base₁</a>
<a id="8256" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8268" class="Symbol">(</a><a id="8269" href="Leios.Linear.Trace.Verifier.html#1162" class="InductiveConstructor">Base₂-Action</a> <a id="8282" class="Symbol">_)</a> <a id="8285" class="Symbol">(</a><a id="8286" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8291" href="Leios.Protocol.html#8253" class="InductiveConstructor">SLOT</a><a id="8295" class="Symbol">)</a> <a id="8297" href="Leios.Linear.Trace.Verifier.html#8297" class="Bound">s</a> <a id="8299" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="8306" class="Keyword">with</a> <a id="8311" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="8313" href="Leios.Linear.html#8300" class="Function">Base₂-premises</a> <a id="8328" class="Symbol">{</a><a id="8329" class="Argument">s</a> <a id="8331" class="Symbol">=</a> <a id="8333" href="Leios.Linear.Trace.Verifier.html#8297" class="Bound">s</a><a id="8334" class="Symbol">}</a> <a id="8336" class="Symbol">.</a><a id="8337" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8343" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
<a id="8345" class="Symbol">...</a> <a id="8349" class="Symbol">|</a> <a id="8351" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="8355" href="Leios.Linear.Trace.Verifier.html#8355" class="Bound">p</a> <a id="8357" class="Symbol">=</a> <a id="8359" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="8363" class="Symbol">(</a><a id="8364" href="Leios.Linear.html#6501" class="InductiveConstructor">Base₂</a> <a id="8370" class="Symbol">{</a><a id="8371" class="Argument">π</a> <a id="8373" class="Symbol">=</a> <a id="8375" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8381" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="8383" href="Leios.VRF.html#682" class="Function">eval</a> <a id="8388" href="Leios.SpecStructure.html#752" class="Field">sk-EB</a> <a id="8394" class="Symbol">(</a><a id="8395" href="Leios.VRF.html#1189" class="Function">genEBInput</a> <a id="8406" class="Symbol">(</a><a id="8407" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="8423" class="Bound">s</a><a id="8424" class="Symbol">))}</a> <a id="8428" href="Leios.Linear.Trace.Verifier.html#8355" class="Bound">p</a><a id="8429" class="Symbol">)</a>
<a id="8431" class="Symbol">...</a> <a id="8435" class="Symbol">|</a> <a id="8437" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="8440" href="Leios.Linear.Trace.Verifier.html#8440" class="Bound">¬p</a> <a id="8443" class="Symbol">=</a> <a id="8445" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8449" class="Symbol">(</a><a id="8450" href="Leios.Linear.Trace.Verifier.html#5398" class="InductiveConstructor">Err-BaseUpkeep</a> <a id="8465" href="Leios.Linear.Trace.Verifier.html#8440" class="Bound">¬p</a><a id="8467" class="Symbol">)</a>
<a id="8469" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8481" class="Symbol">(</a><a id="8482" href="Leios.Linear.Trace.Verifier.html#1162" class="InductiveConstructor">Base₂-Action</a> <a id="8495" class="Symbol">_)</a> <a id="8498" class="Symbol">(</a><a id="8499" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8504" href="Leios.Protocol.html#8276" class="InductiveConstructor">FTCH</a><a id="8508" class="Symbol">)</a> <a id="8510" class="Symbol">_</a> <a id="8512" class="Symbol">_</a>        <a id="8521" class="Symbol">=</a> <a id="8523" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8527" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="8539" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8551" class="Symbol">(</a><a id="8552" href="Leios.Linear.Trace.Verifier.html#1162" class="InductiveConstructor">Base₂-Action</a> <a id="8565" class="Symbol">_)</a> <a id="8568" class="Symbol">(</a><a id="8569" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8574" class="Symbol">(</a><a id="8575" href="Leios.Protocol.html#8162" class="InductiveConstructor">FFD-OUT</a> <a id="8583" class="Symbol">_))</a> <a id="8587" class="Symbol">_</a> <a id="8589" class="Symbol">_</a> <a id="8591" class="Symbol">=</a> <a id="8593" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8597" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="8609" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8621" class="Symbol">(</a><a id="8622" href="Leios.Linear.Trace.Verifier.html#1162" class="InductiveConstructor">Base₂-Action</a> <a id="8635" class="Symbol">_)</a> <a id="8638" class="Symbol">(</a><a id="8639" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="8644" class="Symbol">_)</a> <a id="8647" class="Symbol">_</a> <a id="8649" class="Symbol">_</a>           <a id="8661" class="Symbol">=</a> <a id="8663" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8667" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="8679" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8691" class="Symbol">(</a><a id="8692" href="Leios.Linear.Trace.Verifier.html#1195" class="InductiveConstructor">No-EB-Role-Action</a> <a id="8710" class="Symbol">_)</a> <a id="8713" class="Symbol">(</a><a id="8714" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8719" href="Leios.Protocol.html#8253" class="InductiveConstructor">SLOT</a><a id="8723" class="Symbol">)</a> <a id="8725" href="Leios.Linear.Trace.Verifier.html#8725" class="Bound">s</a> <a id="8727" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="8734" class="Keyword">with</a> <a id="8739" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="8741" href="Leios.Linear.html#11886" class="Function">Roles₂-premises</a> <a id="8757" class="Symbol">{</a><a id="8758" class="Argument">s</a> <a id="8760" class="Symbol">=</a> <a id="8762" href="Leios.Linear.Trace.Verifier.html#8725" class="Bound">s</a><a id="8763" class="Symbol">}</a> <a id="8765" class="Symbol">{</a><a id="8766" class="Argument">u</a> <a id="8768" class="Symbol">=</a> <a id="8770" href="Leios.Linear.html#1452" class="InductiveConstructor">EB-Role</a><a id="8777" class="Symbol">}</a> <a id="8779" class="Symbol">.</a><a id="8780" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8786" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
<a id="8788" class="Symbol">...</a> <a id="8792" class="Symbol">|</a> <a id="8794" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="8798" href="Leios.Linear.Trace.Verifier.html#8798" class="Bound">p</a> <a id="8800" class="Symbol">=</a> <a id="8802" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="8806" class="Symbol">(</a><a id="8807" href="Leios.Linear.html#7355" class="InductiveConstructor">Roles₂</a> <a id="8814" href="Leios.Linear.Trace.Verifier.html#8798" class="Bound">p</a><a id="8815" class="Symbol">)</a>
<a id="8817" class="Symbol">...</a> <a id="8821" class="Symbol">|</a> <a id="8823" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="8826" href="Leios.Linear.Trace.Verifier.html#8826" class="Bound">¬p</a> <a id="8829" class="Symbol">=</a> <a id="8831" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8835" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a> <a id="8847" class="Comment">-- FIXME: specific error message</a>
<a id="8880" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8892" class="Symbol">(</a><a id="8893" href="Leios.Linear.Trace.Verifier.html#1195" class="InductiveConstructor">No-EB-Role-Action</a> <a id="8911" class="Symbol">_)</a> <a id="8914" class="Symbol">(</a><a id="8915" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8920" href="Leios.Protocol.html#8276" class="InductiveConstructor">FTCH</a><a id="8924" class="Symbol">)</a> <a id="8926" class="Symbol">_</a> <a id="8928" class="Symbol">_</a>        <a id="8937" class="Symbol">=</a> <a id="8939" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="8943" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="8955" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="8967" class="Symbol">(</a><a id="8968" href="Leios.Linear.Trace.Verifier.html#1195" class="InductiveConstructor">No-EB-Role-Action</a> <a id="8986" class="Symbol">_)</a> <a id="8989" class="Symbol">(</a><a id="8990" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="8995" class="Symbol">(</a><a id="8996" href="Leios.Protocol.html#8162" class="InductiveConstructor">FFD-OUT</a> <a id="9004" class="Symbol">_))</a> <a id="9008" class="Symbol">_</a> <a id="9010" class="Symbol">_</a> <a id="9012" class="Symbol">=</a> <a id="9014" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="9018" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="9030" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="9042" class="Symbol">(</a><a id="9043" href="Leios.Linear.Trace.Verifier.html#1195" class="InductiveConstructor">No-EB-Role-Action</a> <a id="9061" class="Symbol">_)</a> <a id="9064" class="Symbol">(</a><a id="9065" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="9070" class="Symbol">_)</a> <a id="9073" class="Symbol">_</a> <a id="9075" class="Symbol">_</a>           <a id="9087" class="Symbol">=</a> <a id="9089" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="9093" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="9105" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="9117" class="Symbol">(</a><a id="9118" href="Leios.Linear.Trace.Verifier.html#1228" class="InductiveConstructor">No-VT-Role-Action</a> <a id="9136" class="Symbol">_)</a> <a id="9139" class="Symbol">(</a><a id="9140" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="9145" href="Leios.Protocol.html#8253" class="InductiveConstructor">SLOT</a><a id="9149" class="Symbol">)</a> <a id="9151" href="Leios.Linear.Trace.Verifier.html#9151" class="Bound">s</a> <a id="9153" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="9160" class="Keyword">with</a> <a id="9165" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="9167" href="Leios.Linear.html#11886" class="Function">Roles₂-premises</a> <a id="9183" class="Symbol">{</a><a id="9184" class="Argument">s</a> <a id="9186" class="Symbol">=</a> <a id="9188" href="Leios.Linear.Trace.Verifier.html#9151" class="Bound">s</a><a id="9189" class="Symbol">}</a> <a id="9191" class="Symbol">{</a><a id="9192" class="Argument">u</a> <a id="9194" class="Symbol">=</a> <a id="9196" href="Leios.Linear.html#1460" class="InductiveConstructor">VT-Role</a><a id="9203" class="Symbol">}</a> <a id="9205" class="Symbol">.</a><a id="9206" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9212" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
<a id="9214" class="Symbol">...</a> <a id="9218" class="Symbol">|</a> <a id="9220" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9224" href="Leios.Linear.Trace.Verifier.html#9224" class="Bound">p</a> <a id="9226" class="Symbol">=</a> <a id="9228" href="Leios.Linear.Trace.Verifier.html#5799" class="Function">Ok&#39;</a> <a id="9232" class="Symbol">(</a><a id="9233" href="Leios.Linear.html#7355" class="InductiveConstructor">Roles₂</a> <a id="9240" href="Leios.Linear.Trace.Verifier.html#9224" class="Bound">p</a><a id="9241" class="Symbol">)</a>
<a id="9243" class="Symbol">...</a> <a id="9247" class="Symbol">|</a> <a id="9249" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="9252" href="Leios.Linear.Trace.Verifier.html#9252" class="Bound">¬p</a> <a id="9255" class="Symbol">=</a> <a id="9257" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="9261" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a> <a id="9273" class="Comment">-- FIXME: specific error message</a>
<a id="9306" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="9318" class="Symbol">(</a><a id="9319" href="Leios.Linear.Trace.Verifier.html#1228" class="InductiveConstructor">No-VT-Role-Action</a> <a id="9337" class="Symbol">_)</a> <a id="9340" class="Symbol">(</a><a id="9341" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="9346" href="Leios.Protocol.html#8276" class="InductiveConstructor">FTCH</a><a id="9350" class="Symbol">)</a> <a id="9352" class="Symbol">_</a> <a id="9354" class="Symbol">_</a>        <a id="9363" class="Symbol">=</a> <a id="9365" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="9369" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="9381" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="9393" class="Symbol">(</a><a id="9394" href="Leios.Linear.Trace.Verifier.html#1228" class="InductiveConstructor">No-VT-Role-Action</a> <a id="9412" class="Symbol">_)</a> <a id="9415" class="Symbol">(</a><a id="9416" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="9421" class="Symbol">(</a><a id="9422" href="Leios.Protocol.html#8162" class="InductiveConstructor">FFD-OUT</a> <a id="9430" class="Symbol">_))</a> <a id="9434" class="Symbol">_</a> <a id="9436" class="Symbol">_</a> <a id="9438" class="Symbol">=</a> <a id="9440" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="9444" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
<a id="9456" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="9468" class="Symbol">(</a><a id="9469" href="Leios.Linear.Trace.Verifier.html#1228" class="InductiveConstructor">No-VT-Role-Action</a> <a id="9487" class="Symbol">_)</a> <a id="9490" class="Symbol">(</a><a id="9491" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="9496" class="Symbol">_)</a> <a id="9499" class="Symbol">_</a> <a id="9501" class="Symbol">_</a>           <a id="9513" class="Symbol">=</a> <a id="9515" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="9519" href="Leios.Linear.Trace.Verifier.html#5474" class="InductiveConstructor">Err-Invalid</a>
</pre><pre class="Agda"><a id="verifyStep"></a><a id="9543" href="Leios.Linear.Trace.Verifier.html#9543" class="Function">verifyStep</a> <a id="9554" class="Symbol">:</a> <a id="9556" class="Symbol">(</a><a id="9557" href="Leios.Linear.Trace.Verifier.html#9557" class="Bound">a</a> <a id="9559" class="Symbol">:</a> <a id="9561" href="Leios.Linear.Trace.Verifier.html#906" class="Datatype">Action</a><a id="9567" class="Symbol">)</a> <a id="9569" class="Symbol">→</a> <a id="9571" class="Symbol">(</a><a id="9572" href="Leios.Linear.Trace.Verifier.html#9572" class="Bound">i</a> <a id="9574" class="Symbol">:</a> <a id="9576" href="Leios.Protocol.html#8133" class="Datatype">FFDT</a> <a id="9581" href="CategoricalCrypto.Channel.Core.html#430" class="InductiveConstructor">Out</a> <a id="9585" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="9587" href="Leios.Base.html#1130" class="Datatype">BaseIOF</a> <a id="9595" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a> <a id="9598" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="9600" href="Leios.Protocol.html#7887" class="Datatype">IOT</a> <a id="9604" href="CategoricalCrypto.Channel.Core.html#443" class="InductiveConstructor">In</a><a id="9606" class="Symbol">)</a> <a id="9608" class="Symbol">→</a> <a id="9610" class="Symbol">(</a><a id="9611" href="Leios.Linear.Trace.Verifier.html#9611" class="Bound">s</a> <a id="9613" class="Symbol">:</a> <a id="9615" href="Leios.Protocol.html#1542" class="Record">LeiosState</a><a id="9625" class="Symbol">)</a> <a id="9627" class="Symbol">→</a> <a id="9629" href="Prelude.Result.html#176" class="Datatype">Result</a> <a id="9636" class="Symbol">(</a><a id="9637" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="9652" href="Leios.Linear.Trace.Verifier.html#9557" class="Bound">a</a> <a id="9654" href="Leios.Linear.Trace.Verifier.html#9572" class="Bound">i</a> <a id="9656" href="Leios.Linear.Trace.Verifier.html#9611" class="Bound">s</a><a id="9657" class="Symbol">)</a> <a id="9659" class="Symbol">(</a><a id="9660" href="Leios.Linear.Trace.Verifier.html#3770" class="Datatype">ValidStep</a> <a id="9670" class="Symbol">(</a><a id="9671" href="Leios.Linear.Trace.Verifier.html#9557" class="Bound">a</a> <a id="9673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9675" href="Leios.Linear.Trace.Verifier.html#9572" class="Bound">i</a><a id="9676" class="Symbol">)</a> <a id="9678" href="Leios.Linear.Trace.Verifier.html#9611" class="Bound">s</a><a id="9679" class="Symbol">)</a>
<a id="9681" href="Leios.Linear.Trace.Verifier.html#9543" class="Function">verifyStep</a> <a id="9692" href="Leios.Linear.Trace.Verifier.html#9692" class="Bound">a</a> <a id="9694" href="Leios.Linear.Trace.Verifier.html#9694" class="Bound">i</a> <a id="9696" href="Leios.Linear.Trace.Verifier.html#9696" class="Bound">s</a> <a id="9698" class="Symbol">=</a> <a id="9700" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9705" href="Leios.Linear.Trace.Verifier.html#2712" class="Function">getSlot</a> <a id="9713" href="Leios.Linear.Trace.Verifier.html#9692" class="Bound">a</a> <a id="9715" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="9717" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="9733" href="Leios.Linear.Trace.Verifier.html#9696" class="Bound">s</a> <a id="9735" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="9738" class="Symbol">λ</a> <a id="9740" class="Keyword">where</a>
  <a id="9748" class="Symbol">(</a><a id="9749" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9753" href="Leios.Linear.Trace.Verifier.html#9753" class="Bound">p</a><a id="9754" class="Symbol">)</a> <a id="9756" class="Symbol">→</a> <a id="9758" href="Leios.Linear.Trace.Verifier.html#5983" class="Function">verifyStep&#39;</a> <a id="9770" href="Leios.Linear.Trace.Verifier.html#9692" class="Bound">a</a> <a id="9772" href="Leios.Linear.Trace.Verifier.html#9694" class="Bound">i</a> <a id="9774" href="Leios.Linear.Trace.Verifier.html#9696" class="Bound">s</a> <a id="9776" href="Leios.Linear.Trace.Verifier.html#9753" class="Bound">p</a>
  <a id="9780" class="Symbol">(</a><a id="9781" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="9784" href="Leios.Linear.Trace.Verifier.html#9784" class="Bound">¬p</a><a id="9786" class="Symbol">)</a> <a id="9788" class="Symbol">→</a> <a id="9790" href="Prelude.Result.html#234" class="InductiveConstructor">Err</a> <a id="9794" class="Symbol">(</a><a id="9795" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="9804" class="Symbol">λ</a> <a id="9806" href="Leios.Linear.Trace.Verifier.html#9806" class="Bound">p</a> <a id="9808" class="Symbol">→</a> <a id="9810" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="9817" class="Symbol">(</a><a id="9818" href="Leios.Linear.Trace.Verifier.html#9784" class="Bound">¬p</a> <a id="9821" href="Leios.Linear.Trace.Verifier.html#9806" class="Bound">p</a><a id="9822" class="Symbol">))</a>
</pre><pre class="Agda"><a id="verifyTrace"></a><a id="9837" href="Leios.Linear.Trace.Verifier.html#9837" class="Function">verifyTrace</a> <a id="9849" class="Symbol">:</a> <a id="9851" class="Symbol">∀</a> <a id="9853" class="Symbol">(</a><a id="9854" href="Leios.Linear.Trace.Verifier.html#9854" class="Bound">σs</a> <a id="9857" class="Symbol">:</a> <a id="9859" href="Leios.Linear.Trace.Verifier.html#1365" class="Function">TestTrace</a><a id="9868" class="Symbol">)</a> <a id="9870" class="Symbol">→</a> <a id="9872" class="Symbol">(</a><a id="9873" href="Leios.Linear.Trace.Verifier.html#9873" class="Bound">s</a> <a id="9875" class="Symbol">:</a> <a id="9877" href="Leios.Protocol.html#1542" class="Record">LeiosState</a><a id="9887" class="Symbol">)</a> <a id="9889" class="Symbol">→</a> <a id="9891" href="Prelude.Result.html#176" class="Datatype">Result</a> <a id="9898" class="Symbol">(</a><a id="9899" href="Leios.Linear.Trace.Verifier.html#5590" class="Datatype">Err-verifyTrace</a> <a id="9915" href="Leios.Linear.Trace.Verifier.html#9854" class="Bound">σs</a> <a id="9918" href="Leios.Linear.Trace.Verifier.html#9873" class="Bound">s</a><a id="9919" class="Symbol">)</a> <a id="9921" class="Symbol">(</a><a id="9922" href="Leios.Linear.Trace.Verifier.html#4160" class="Datatype">ValidTrace</a> <a id="9933" href="Leios.Linear.Trace.Verifier.html#9854" class="Bound">σs</a> <a id="9936" href="Leios.Linear.Trace.Verifier.html#9873" class="Bound">s</a><a id="9937" class="Symbol">)</a>
<a id="9939" href="Leios.Linear.Trace.Verifier.html#9837" class="Function">verifyTrace</a> <a id="9951" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="9954" href="Leios.Linear.Trace.Verifier.html#9954" class="Bound">s</a> <a id="9956" class="Symbol">=</a> <a id="9958" href="Prelude.Result.html#211" class="InductiveConstructor">Ok</a> <a id="9961" class="Symbol">(</a><a id="9962" href="Leios.Linear.Trace.Verifier.html#4220" class="InductiveConstructor">Valid</a> <a id="9968" class="Symbol">(</a><a id="9969" href="Leios.Linear.Trace.Verifier.html#9954" class="Bound">s</a> <a id="9971" href="Prelude.Closures.html#249" class="InductiveConstructor Operator">∎</a><a id="9972" class="Symbol">)</a> <a id="9974" href="Leios.Linear.Trace.Verifier.html#4138" class="InductiveConstructor">Done</a><a id="9978" class="Symbol">)</a>
<a id="9980" href="Leios.Linear.Trace.Verifier.html#9837" class="Function">verifyTrace</a> <a id="9992" class="Symbol">((</a><a id="9994" href="Leios.Linear.Trace.Verifier.html#9994" class="Bound">a</a> <a id="9996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9998" href="Leios.Linear.Trace.Verifier.html#9998" class="Bound">i</a><a id="9999" class="Symbol">)</a> <a id="10001" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10003" href="Leios.Linear.Trace.Verifier.html#10003" class="Bound">σs</a><a id="10005" class="Symbol">)</a> <a id="10007" href="Leios.Linear.Trace.Verifier.html#10007" class="Bound">s</a> <a id="10009" class="Symbol">=</a> <a id="10011" class="Keyword">do</a>
  <a id="10016" href="Leios.Linear.Trace.Verifier.html#10016" class="Bound">σs</a> <a id="10019" href="Prelude.Result.html#402" class="Function Operator">←</a> <a id="10021" href="Prelude.Result.html#702" class="Function">mapErr</a> <a id="10028" href="Leios.Linear.Trace.Verifier.html#5646" class="InductiveConstructor">Err-StepOk</a> <a id="10039" class="Symbol">(</a><a id="10040" href="Leios.Linear.Trace.Verifier.html#9837" class="Function">verifyTrace</a> <a id="10052" href="Leios.Linear.Trace.Verifier.html#10003" class="Bound">σs</a> <a id="10055" href="Leios.Linear.Trace.Verifier.html#10007" class="Bound">s</a><a id="10056" class="Symbol">)</a>
  <a id="10060" href="Leios.Linear.Trace.Verifier.html#10060" class="Bound">x</a>  <a id="10063" href="Prelude.Result.html#402" class="Function Operator">←</a> <a id="10065" href="Prelude.Result.html#702" class="Function">mapErr</a> <a id="10072" href="Leios.Linear.Trace.Verifier.html#5717" class="InductiveConstructor">Err-Step</a> <a id="10081" class="Symbol">(</a><a id="10082" href="Leios.Linear.Trace.Verifier.html#9543" class="Function">verifyStep</a> <a id="10093" href="Leios.Linear.Trace.Verifier.html#9994" class="Bound">a</a> <a id="10095" href="Leios.Linear.Trace.Verifier.html#9998" class="Bound">i</a> <a id="10097" class="Symbol">(</a><a id="10098" href="Leios.Linear.Trace.Verifier.html#4342" class="Function">getNewState</a> <a id="10110" href="Leios.Linear.Trace.Verifier.html#10016" class="Bound">σs</a><a id="10112" class="Symbol">))</a>
  <a id="10117" href="Prelude.Result.html#506" class="Function">return</a> <a id="10124" class="Symbol">(</a><a id="10125" href="Leios.Linear.Trace.Verifier.html#10016" class="Bound">σs</a> <a id="10128" href="Leios.Linear.Trace.Verifier.html#10173" class="Function Operator">Valid∷ʳ</a> <a id="10136" href="Leios.Linear.Trace.Verifier.html#10060" class="Bound">x</a><a id="10137" class="Symbol">)</a>
  <a id="10141" class="Keyword">where</a>
    <a id="10151" class="Keyword">open</a> <a id="10156" href="Prelude.Result.html#263" class="Module">Monad-Result</a>
    <a id="10173" href="Leios.Linear.Trace.Verifier.html#10173" class="Function Operator">_Valid∷ʳ_</a> <a id="10183" class="Symbol">:</a> <a id="10185" class="Symbol">∀</a> <a id="10187" class="Symbol">{</a><a id="10188" href="Leios.Linear.Trace.Verifier.html#10188" class="Bound">e</a> <a id="10190" href="Leios.Linear.Trace.Verifier.html#10190" class="Bound">es</a> <a id="10193" href="Leios.Linear.Trace.Verifier.html#10193" class="Bound">s</a><a id="10194" class="Symbol">}</a> <a id="10196" class="Symbol">→</a> <a id="10198" class="Symbol">(</a><a id="10199" href="Leios.Linear.Trace.Verifier.html#10199" class="Bound">σs</a> <a id="10202" class="Symbol">:</a> <a id="10204" href="Leios.Linear.Trace.Verifier.html#4160" class="Datatype">ValidTrace</a> <a id="10215" href="Leios.Linear.Trace.Verifier.html#10190" class="Bound">es</a> <a id="10218" href="Leios.Linear.Trace.Verifier.html#10193" class="Bound">s</a><a id="10219" class="Symbol">)</a> <a id="10221" class="Symbol">→</a> <a id="10223" href="Leios.Linear.Trace.Verifier.html#3770" class="Datatype">ValidStep</a> <a id="10233" href="Leios.Linear.Trace.Verifier.html#10188" class="Bound">e</a> <a id="10235" class="Symbol">(</a><a id="10236" href="Leios.Linear.Trace.Verifier.html#4342" class="Function">getNewState</a> <a id="10248" href="Leios.Linear.Trace.Verifier.html#10199" class="Bound">σs</a><a id="10250" class="Symbol">)</a> <a id="10252" class="Symbol">→</a> <a id="10254" href="Leios.Linear.Trace.Verifier.html#4160" class="Datatype">ValidTrace</a> <a id="10265" class="Symbol">(</a><a id="10266" href="Leios.Linear.Trace.Verifier.html#10188" class="Bound">e</a> <a id="10268" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10270" href="Leios.Linear.Trace.Verifier.html#10190" class="Bound">es</a><a id="10272" class="Symbol">)</a> <a id="10274" href="Leios.Linear.Trace.Verifier.html#10193" class="Bound">s</a>
    <a id="10280" href="Leios.Linear.Trace.Verifier.html#4220" class="InductiveConstructor">Valid</a> <a id="10286" href="Leios.Linear.Trace.Verifier.html#10286" class="Bound">tr</a> <a id="10289" href="Leios.Linear.Trace.Verifier.html#10289" class="Bound">x</a> <a id="10291" href="Leios.Linear.Trace.Verifier.html#10173" class="Function Operator">Valid∷ʳ</a> <a id="10299" href="Leios.Linear.Trace.Verifier.html#3861" class="InductiveConstructor">Valid</a> <a id="10305" class="Symbol">(</a><a id="10306" href="Leios.Linear.Trace.Verifier.html#3183" class="InductiveConstructor">ActionStep</a> <a id="10317" href="Leios.Linear.Trace.Verifier.html#10317" class="Bound">as</a><a id="10319" class="Symbol">)</a> <a id="10321" class="Symbol">(</a><a id="10322" href="Leios.Linear.Trace.Verifier.html#3653" class="InductiveConstructor">FromAction</a> <a id="10333" href="Leios.Linear.Trace.Verifier.html#10333" class="Bound">a</a> <a id="10335" class="Symbol">_)</a> <a id="10338" class="Symbol">=</a> <a id="10340" href="Leios.Linear.Trace.Verifier.html#4220" class="InductiveConstructor">Valid</a> <a id="10346" class="Symbol">(_</a> <a id="10349" href="Prelude.Closures.html#269" class="InductiveConstructor Operator">—→⟨</a> <a id="10353" href="Leios.Linear.Trace.Verifier.html#3183" class="InductiveConstructor">ActionStep</a> <a id="10364" href="Leios.Linear.Trace.Verifier.html#10317" class="Bound">as</a> <a id="10367" href="Prelude.Closures.html#269" class="InductiveConstructor Operator">⟩</a> <a id="10369" href="Leios.Linear.Trace.Verifier.html#10286" class="Bound">tr</a><a id="10371" class="Symbol">)</a> <a id="10373" class="Symbol">(</a><a id="10374" href="Leios.Linear.Trace.Verifier.html#3971" class="InductiveConstructor">FromAction</a> <a id="10385" href="Leios.Linear.Trace.Verifier.html#10333" class="Bound">a</a> <a id="10387" href="Leios.Linear.Trace.Verifier.html#10289" class="Bound">x</a> <a id="10389" href="Leios.Linear.Trace.Verifier.html#10317" class="Bound">as</a><a id="10391" class="Symbol">)</a>
</pre>#### Error handling
<pre class="Agda"><a id="10425" class="Keyword">open</a> <a id="10430" class="Keyword">import</a> <a id="10437" href="Prelude.Errors.html" class="Module">Prelude.Errors</a>
<a id="10452" class="Keyword">open</a> <a id="10457" class="Keyword">import</a> <a id="10464" href="Text.Printf.html" class="Module">Text.Printf</a>

<a id="10477" class="Keyword">module</a> <a id="10484" href="Leios.Linear.Trace.Verifier.html#10484" class="Module">_</a>
  <a id="10488" class="Symbol">⦃</a> <a id="10490" href="Leios.Linear.Trace.Verifier.html#10490" class="Bound">Show-Hash</a> <a id="10500" class="Symbol">:</a> <a id="10502" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="10507" href="Leios.Abstract.html#632" class="Function">Hash</a> <a id="10512" class="Symbol">⦄</a>
  <a id="10516" class="Keyword">where</a>

  <a id="10525" class="Keyword">instance</a>
    <a id="10538" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="10554" class="Symbol">:</a> <a id="10556" class="Symbol">∀</a> <a id="10558" class="Symbol">{</a><a id="10559" href="Leios.Linear.Trace.Verifier.html#10559" class="Bound">s</a><a id="10560" class="Symbol">}</a> <a id="10562" class="Symbol">→</a> <a id="10564" href="Prelude.Errors.html#110" class="Record">IsError</a> <a id="10572" class="Symbol">(λ</a> <a id="10575" href="Leios.Linear.Trace.Verifier.html#10575" class="Bound">σ</a>  <a id="10578" class="Symbol">→</a> <a id="10580" href="Leios.Linear.Trace.Verifier.html#4439" class="Datatype">Err-verifyStep</a> <a id="10595" href="Leios.Linear.Trace.Verifier.html#10575" class="Bound">σ</a> <a id="10597" href="Leios.Linear.Trace.Verifier.html#1582" class="Generalizable">i</a> <a id="10599" href="Leios.Linear.Trace.Verifier.html#10559" class="Bound">s</a><a id="10600" class="Symbol">)</a>
    <a id="10606" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="10622" class="Symbol">{</a><a id="10623" href="Leios.Linear.Trace.Verifier.html#10623" class="Bound">i</a><a id="10624" class="Symbol">}</a> <a id="10626" class="Symbol">{</a><a id="10627" href="Leios.Linear.Trace.Verifier.html#10627" class="Bound">s</a><a id="10628" class="Symbol">}</a> <a id="10630" class="Symbol">.</a><a id="10631" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="10640" class="Symbol">{</a><a id="10641" href="Leios.Linear.Trace.Verifier.html#928" class="InductiveConstructor">EB-Role-Action</a> <a id="10656" class="Symbol">_</a> <a id="10658" class="Symbol">_}</a> <a id="10661" class="Symbol">(</a><a id="10662" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="10671" class="Symbol">_)</a>   <a id="10676" class="Symbol">=</a> <a id="10678" href="Text.Printf.html#1015" class="Function">printf</a> <a id="10685" class="String">&quot;%u : Err-Slot / EB-Role-Action&quot;</a> <a id="10718" class="Symbol">(</a><a id="10719" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="10735" href="Leios.Linear.Trace.Verifier.html#10627" class="Bound">s</a><a id="10736" class="Symbol">)</a>
    <a id="10742" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="10758" class="Symbol">{</a><a id="10759" href="Leios.Linear.Trace.Verifier.html#10759" class="Bound">i</a><a id="10760" class="Symbol">}</a> <a id="10762" class="Symbol">{</a><a id="10763" href="Leios.Linear.Trace.Verifier.html#10763" class="Bound">s</a><a id="10764" class="Symbol">}</a> <a id="10766" class="Symbol">.</a><a id="10767" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="10776" class="Symbol">{</a><a id="10777" href="Leios.Linear.Trace.Verifier.html#977" class="InductiveConstructor">VT-Role-Action</a> <a id="10792" class="Symbol">_</a> <a id="10794" class="Symbol">_</a> <a id="10796" class="Symbol">_}</a> <a id="10799" class="Symbol">(</a><a id="10800" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="10809" class="Symbol">_)</a> <a id="10812" class="Symbol">=</a> <a id="10814" href="Text.Printf.html#1015" class="Function">printf</a> <a id="10821" class="String">&quot;%u : Err-Slot / VT-Role-Action&quot;</a> <a id="10854" class="Symbol">(</a><a id="10855" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="10871" href="Leios.Linear.Trace.Verifier.html#10763" class="Bound">s</a><a id="10872" class="Symbol">)</a>
    <a id="10878" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="10894" class="Symbol">{</a><a id="10895" href="Leios.Linear.Trace.Verifier.html#10895" class="Bound">i</a><a id="10896" class="Symbol">}</a> <a id="10898" class="Symbol">{</a><a id="10899" href="Leios.Linear.Trace.Verifier.html#10899" class="Bound">s</a><a id="10900" class="Symbol">}</a> <a id="10902" class="Symbol">.</a><a id="10903" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="10912" class="Symbol">{</a><a id="10913" href="Leios.Linear.Trace.Verifier.html#1030" class="InductiveConstructor">Ftch-Action</a> <a id="10925" class="Symbol">_}</a> <a id="10928" class="Symbol">(</a><a id="10929" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="10938" class="Symbol">_)</a>        <a id="10948" class="Symbol">=</a> <a id="10950" href="Text.Printf.html#1015" class="Function">printf</a> <a id="10957" class="String">&quot;%u : Err-Slot / Ftch-Action&quot;</a> <a id="10987" class="Symbol">(</a><a id="10988" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="11004" href="Leios.Linear.Trace.Verifier.html#10899" class="Bound">s</a><a id="11005" class="Symbol">)</a>
    <a id="11011" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="11027" class="Symbol">{</a><a id="11028" href="Leios.Linear.Trace.Verifier.html#11028" class="Bound">i</a><a id="11029" class="Symbol">}</a> <a id="11031" class="Symbol">{</a><a id="11032" href="Leios.Linear.Trace.Verifier.html#11032" class="Bound">s</a><a id="11033" class="Symbol">}</a> <a id="11035" class="Symbol">.</a><a id="11036" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="11045" class="Symbol">{</a><a id="11046" href="Leios.Linear.Trace.Verifier.html#1063" class="InductiveConstructor">Slot₁-Action</a> <a id="11059" class="Symbol">_}</a> <a id="11062" class="Symbol">(</a><a id="11063" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="11072" class="Symbol">_)</a>       <a id="11081" class="Symbol">=</a> <a id="11083" href="Text.Printf.html#1015" class="Function">printf</a> <a id="11090" class="String">&quot;%u : Err-Slot / Slot₁-Action&quot;</a> <a id="11121" class="Symbol">(</a><a id="11122" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="11138" href="Leios.Linear.Trace.Verifier.html#11032" class="Bound">s</a><a id="11139" class="Symbol">)</a>
    <a id="11145" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="11161" class="Symbol">{</a><a id="11162" href="Leios.Linear.Trace.Verifier.html#11162" class="Bound">i</a><a id="11163" class="Symbol">}</a> <a id="11165" class="Symbol">{</a><a id="11166" href="Leios.Linear.Trace.Verifier.html#11166" class="Bound">s</a><a id="11167" class="Symbol">}</a> <a id="11169" class="Symbol">.</a><a id="11170" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="11179" class="Symbol">{</a><a id="11180" href="Leios.Linear.Trace.Verifier.html#1096" class="InductiveConstructor">Slot₂-Action</a> <a id="11193" class="Symbol">_}</a> <a id="11196" class="Symbol">(</a><a id="11197" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="11206" class="Symbol">_)</a>       <a id="11215" class="Symbol">=</a> <a id="11217" href="Text.Printf.html#1015" class="Function">printf</a> <a id="11224" class="String">&quot;%u : Err-Slot / Slot₂-Action&quot;</a> <a id="11255" class="Symbol">(</a><a id="11256" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="11272" href="Leios.Linear.Trace.Verifier.html#11166" class="Bound">s</a><a id="11273" class="Symbol">)</a>
    <a id="11279" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="11295" class="Symbol">{</a><a id="11296" href="Leios.Linear.Trace.Verifier.html#11296" class="Bound">i</a><a id="11297" class="Symbol">}</a> <a id="11299" class="Symbol">{</a><a id="11300" href="Leios.Linear.Trace.Verifier.html#11300" class="Bound">s</a><a id="11301" class="Symbol">}</a> <a id="11303" class="Symbol">.</a><a id="11304" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="11313" class="Symbol">{</a><a id="11314" href="Leios.Linear.Trace.Verifier.html#1129" class="InductiveConstructor">Base₁-Action</a> <a id="11327" class="Symbol">_}</a> <a id="11330" class="Symbol">(</a><a id="11331" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="11340" class="Symbol">_)</a>       <a id="11349" class="Symbol">=</a> <a id="11351" href="Text.Printf.html#1015" class="Function">printf</a> <a id="11358" class="String">&quot;%u : Err-Slot / Base₁-Action&quot;</a> <a id="11389" class="Symbol">(</a><a id="11390" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="11406" href="Leios.Linear.Trace.Verifier.html#11300" class="Bound">s</a><a id="11407" class="Symbol">)</a>
    <a id="11413" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="11429" class="Symbol">{</a><a id="11430" href="Leios.Linear.Trace.Verifier.html#11430" class="Bound">i</a><a id="11431" class="Symbol">}</a> <a id="11433" class="Symbol">{</a><a id="11434" href="Leios.Linear.Trace.Verifier.html#11434" class="Bound">s</a><a id="11435" class="Symbol">}</a> <a id="11437" class="Symbol">.</a><a id="11438" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="11447" class="Symbol">{</a><a id="11448" href="Leios.Linear.Trace.Verifier.html#1162" class="InductiveConstructor">Base₂-Action</a> <a id="11461" class="Symbol">_}</a> <a id="11464" class="Symbol">(</a><a id="11465" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="11474" class="Symbol">_)</a>       <a id="11483" class="Symbol">=</a> <a id="11485" href="Text.Printf.html#1015" class="Function">printf</a> <a id="11492" class="String">&quot;%u : Err-Slot / Base₂-Action&quot;</a> <a id="11523" class="Symbol">(</a><a id="11524" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="11540" href="Leios.Linear.Trace.Verifier.html#11434" class="Bound">s</a><a id="11541" class="Symbol">)</a>
    <a id="11547" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="11563" class="Symbol">{</a><a id="11564" href="Leios.Linear.Trace.Verifier.html#11564" class="Bound">i</a><a id="11565" class="Symbol">}</a> <a id="11567" class="Symbol">{</a><a id="11568" href="Leios.Linear.Trace.Verifier.html#11568" class="Bound">s</a><a id="11569" class="Symbol">}</a> <a id="11571" class="Symbol">.</a><a id="11572" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="11581" class="Symbol">{</a><a id="11582" href="Leios.Linear.Trace.Verifier.html#1195" class="InductiveConstructor">No-EB-Role-Action</a> <a id="11600" class="Symbol">_}</a> <a id="11603" class="Symbol">(</a><a id="11604" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="11613" class="Symbol">_)</a>  <a id="11617" class="Symbol">=</a> <a id="11619" href="Text.Printf.html#1015" class="Function">printf</a> <a id="11626" class="String">&quot;%u : Err-Slot / No-EB-Role-Action&quot;</a> <a id="11662" class="Symbol">(</a><a id="11663" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="11679" href="Leios.Linear.Trace.Verifier.html#11568" class="Bound">s</a><a id="11680" class="Symbol">)</a>
    <a id="11686" href="Leios.Linear.Trace.Verifier.html#10538" class="Function">iErr-verifyStep</a> <a id="11702" class="Symbol">{</a><a id="11703" href="Leios.Linear.Trace.Verifier.html#11703" class="Bound">i</a><a id="11704" class="Symbol">}</a> <a id="11706" class="Symbol">{</a><a id="11707" href="Leios.Linear.Trace.Verifier.html#11707" class="Bound">s</a><a id="11708" class="Symbol">}</a> <a id="11710" class="Symbol">.</a><a id="11711" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="11720" class="Symbol">{</a><a id="11721" href="Leios.Linear.Trace.Verifier.html#1228" class="InductiveConstructor">No-VT-Role-Action</a> <a id="11739" class="Symbol">_}</a> <a id="11742" class="Symbol">(</a><a id="11743" href="Leios.Linear.Trace.Verifier.html#4536" class="InductiveConstructor">Err-Slot</a> <a id="11752" class="Symbol">_)</a>  <a id="11756" class="Symbol">=</a> <a id="11758" href="Text.Printf.html#1015" class="Function">printf</a> <a id="11765" class="String">&quot;%u : Err-Slot / No-VT-Role-Action&quot;</a> <a id="11801" class="Symbol">(</a><a id="11802" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="11818" href="Leios.Linear.Trace.Verifier.html#11707" class="Bound">s</a><a id="11819" class="Symbol">)</a>
    <a id="11825" href="Leios.Linear.Trace.Verifier.html#10538" class="CatchallClause Function">iErr-verifyStep</a><a id="11840" class="CatchallClause"> </a><a id="11841" class="CatchallClause Symbol">{</a><a id="11842" href="Leios.Linear.Trace.Verifier.html#11842" class="CatchallClause Bound">i</a><a id="11843" class="CatchallClause Symbol">}</a><a id="11844" class="CatchallClause"> </a><a id="11845" class="CatchallClause Symbol">{</a><a id="11846" href="Leios.Linear.Trace.Verifier.html#11846" class="CatchallClause Bound">s</a><a id="11847" class="CatchallClause Symbol">}</a><a id="11848" class="CatchallClause"> </a><a id="11849" class="CatchallClause Symbol">.</a><a id="11850" href="Prelude.Errors.html#169" class="CatchallClause Field">errorMsg</a><a id="11858" class="CatchallClause"> </a><a id="11859" class="CatchallClause Symbol">(</a><a id="11860" href="Leios.Linear.Trace.Verifier.html#4602" class="CatchallClause InductiveConstructor">Err-EB-Role-premises</a><a id="11880" class="CatchallClause"> </a><a id="11881" class="CatchallClause Symbol">_)</a>            <a id="11895" class="Symbol">=</a> <a id="11897" href="Text.Printf.html#1015" class="Function">printf</a> <a id="11904" class="String">&quot;%u : Err-EB-Role-premises&quot;</a> <a id="11932" class="Symbol">(</a><a id="11933" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="11949" href="Leios.Linear.Trace.Verifier.html#11846" class="Bound">s</a><a id="11950" class="Symbol">)</a>
    <a id="11956" href="Leios.Linear.Trace.Verifier.html#10538" class="CatchallClause Function">iErr-verifyStep</a><a id="11971" class="CatchallClause"> </a><a id="11972" class="CatchallClause Symbol">{</a><a id="11973" href="Leios.Linear.Trace.Verifier.html#11973" class="CatchallClause Bound">i</a><a id="11974" class="CatchallClause Symbol">}</a><a id="11975" class="CatchallClause"> </a><a id="11976" class="CatchallClause Symbol">{</a><a id="11977" href="Leios.Linear.Trace.Verifier.html#11977" class="CatchallClause Bound">s</a><a id="11978" class="CatchallClause Symbol">}</a><a id="11979" class="CatchallClause"> </a><a id="11980" class="CatchallClause Symbol">.</a><a id="11981" href="Prelude.Errors.html#169" class="CatchallClause Field">errorMsg</a><a id="11989" class="CatchallClause"> </a><a id="11990" class="CatchallClause Symbol">(</a><a id="11991" href="Leios.Linear.Trace.Verifier.html#5345" class="CatchallClause InductiveConstructor">Err-AllDone</a><a id="12002" class="CatchallClause"> </a><a id="12003" class="CatchallClause Symbol">_)</a>                     <a id="12026" class="Symbol">=</a> <a id="12028" href="Text.Printf.html#1015" class="Function">printf</a> <a id="12035" class="String">&quot;%u : Err-AllDone&quot;</a> <a id="12054" class="Symbol">(</a><a id="12055" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="12071" href="Leios.Linear.Trace.Verifier.html#11977" class="Bound">s</a><a id="12072" class="Symbol">)</a>
    <a id="12078" href="Leios.Linear.Trace.Verifier.html#10538" class="CatchallClause Function">iErr-verifyStep</a><a id="12093" class="CatchallClause"> </a><a id="12094" class="CatchallClause Symbol">{</a><a id="12095" href="Leios.Linear.Trace.Verifier.html#12095" class="CatchallClause Bound">i</a><a id="12096" class="CatchallClause Symbol">}</a><a id="12097" class="CatchallClause"> </a><a id="12098" class="CatchallClause Symbol">{</a><a id="12099" href="Leios.Linear.Trace.Verifier.html#12099" class="CatchallClause Bound">s</a><a id="12100" class="CatchallClause Symbol">}</a><a id="12101" class="CatchallClause"> </a><a id="12102" class="CatchallClause Symbol">.</a><a id="12103" href="Prelude.Errors.html#169" class="CatchallClause Field">errorMsg</a><a id="12111" class="CatchallClause"> </a><a id="12112" class="CatchallClause Symbol">(</a><a id="12113" href="Leios.Linear.Trace.Verifier.html#5398" class="CatchallClause InductiveConstructor">Err-BaseUpkeep</a><a id="12127" class="CatchallClause"> </a><a id="12128" class="CatchallClause Symbol">_)</a>                  <a id="12148" class="Symbol">=</a> <a id="12150" href="Text.Printf.html#1015" class="Function">printf</a> <a id="12157" class="String">&quot;%u : Err-BaseUpkeep&quot;</a> <a id="12179" class="Symbol">(</a><a id="12180" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="12196" href="Leios.Linear.Trace.Verifier.html#12099" class="Bound">s</a><a id="12197" class="Symbol">)</a>
    <a id="12203" href="Leios.Linear.Trace.Verifier.html#10538" class="CatchallClause Function">iErr-verifyStep</a><a id="12218" class="CatchallClause"> </a><a id="12219" class="CatchallClause Symbol">{</a><a id="12220" href="Leios.Linear.Trace.Verifier.html#12220" class="CatchallClause Bound">i</a><a id="12221" class="CatchallClause Symbol">}</a><a id="12222" class="CatchallClause"> </a><a id="12223" class="CatchallClause Symbol">{</a><a id="12224" href="Leios.Linear.Trace.Verifier.html#12224" class="CatchallClause Bound">s</a><a id="12225" class="CatchallClause Symbol">}</a><a id="12226" class="CatchallClause"> </a><a id="12227" class="CatchallClause Symbol">.</a><a id="12228" href="Prelude.Errors.html#169" class="CatchallClause Field">errorMsg</a><a id="12236" class="CatchallClause"> </a><a id="12237" href="Leios.Linear.Trace.Verifier.html#5474" class="CatchallClause InductiveConstructor">Err-Invalid</a>                         <a id="12273" class="Symbol">=</a> <a id="12275" href="Text.Printf.html#1015" class="Function">printf</a> <a id="12282" class="String">&quot;%u : Err-Invalid&quot;</a> <a id="12301" class="Symbol">(</a><a id="12302" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="12318" href="Leios.Linear.Trace.Verifier.html#12224" class="Bound">s</a><a id="12319" class="Symbol">)</a>
    <a id="12325" href="Leios.Linear.Trace.Verifier.html#10538" class="CatchallClause Function">iErr-verifyStep</a><a id="12340" class="CatchallClause"> </a><a id="12341" class="CatchallClause Symbol">{</a><a id="12342" href="Leios.Linear.Trace.Verifier.html#12342" class="CatchallClause Bound">i</a><a id="12343" class="CatchallClause Symbol">}</a><a id="12344" class="CatchallClause"> </a><a id="12345" class="CatchallClause Symbol">{</a><a id="12346" href="Leios.Linear.Trace.Verifier.html#12346" class="CatchallClause Bound">s</a><a id="12347" class="CatchallClause Symbol">}</a><a id="12348" class="CatchallClause"> </a><a id="12349" class="CatchallClause Symbol">.</a><a id="12350" href="Prelude.Errors.html#169" class="CatchallClause Field">errorMsg</a><a id="12358" class="CatchallClause"> </a><a id="12359" class="CatchallClause Symbol">(</a><a id="12360" href="Leios.Linear.Trace.Verifier.html#4754" class="CatchallClause InductiveConstructor">Err-VT-Role-premises</a><a id="12380" class="CatchallClause"> </a><a id="12381" class="CatchallClause Symbol">{</a><a id="12382" class="CatchallClause Argument">eb</a><a id="12384" class="CatchallClause"> </a><a id="12385" class="CatchallClause Symbol">=</a><a id="12386" class="CatchallClause"> </a><a id="12387" href="Leios.Linear.Trace.Verifier.html#12387" class="CatchallClause Bound">eb</a><a id="12389" class="CatchallClause Symbol">}</a><a id="12390" class="CatchallClause"> </a><a id="12391" class="CatchallClause Symbol">{</a><a id="12392" class="CatchallClause Argument">ebHash</a><a id="12398" class="CatchallClause"> </a><a id="12399" class="CatchallClause Symbol">=</a><a id="12400" class="CatchallClause"> </a><a id="12401" href="Leios.Linear.Trace.Verifier.html#12401" class="CatchallClause Bound">ebHash</a><a id="12407" class="CatchallClause Symbol">}</a><a id="12408" class="CatchallClause"> </a><a id="12409" class="CatchallClause Symbol">{</a><a id="12410" class="CatchallClause Argument">slot&#39;</a><a id="12415" class="CatchallClause"> </a><a id="12416" class="CatchallClause Symbol">=</a><a id="12417" class="CatchallClause"> </a><a id="12418" href="Leios.Linear.Trace.Verifier.html#12418" class="CatchallClause Bound">slot&#39;</a><a id="12423" class="CatchallClause Symbol">}</a><a id="12424" class="CatchallClause"> </a><a id="12425" class="CatchallClause Symbol">_)</a>
      <a id="12434" class="Keyword">with</a> <a id="12439" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="12441" href="Leios.Linear.html#3019" class="Function">getCurrentEBHash</a> <a id="12458" href="Leios.Linear.Trace.Verifier.html#12346" class="Bound">s</a> <a id="12460" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12462" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12467" href="Leios.Linear.Trace.Verifier.html#12401" class="Bound">ebHash</a> <a id="12474" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="12480" class="Symbol">...</a> <a id="12484" class="Symbol">|</a> <a id="12486" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="12489" href="Leios.Linear.Trace.Verifier.html#12489" class="Bound">¬p</a> <a id="12492" class="Symbol">=</a> <a id="12494" href="Text.Printf.html#1015" class="Function">printf</a> <a id="12501" class="String">&quot;%u : Err-VT-Role-premises: Current EB hash does not match&quot;</a> <a id="12561" class="Symbol">(</a><a id="12562" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="12578" class="Bound">s</a><a id="12579" class="Symbol">)</a>
    <a id="12585" class="Symbol">...</a> <a id="12589" class="Symbol">|</a> <a id="12591" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="12595" href="Leios.Linear.Trace.Verifier.html#12595" class="Bound">p</a>
      <a id="12603" class="Keyword">with</a> <a id="12608" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="12610" href="Data.List.Base.html#13327" class="Function">find</a> <a id="12615" class="Symbol">(λ</a> <a id="12618" class="Symbol">(_</a> <a id="12621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12623" href="Leios.Linear.Trace.Verifier.html#12623" class="Bound">eb&#39;</a><a id="12626" class="Symbol">)</a> <a id="12628" class="Symbol">→</a> <a id="12630" href="Class.Hashable.html#167" class="Field">hash</a> <a id="12635" href="Leios.Linear.Trace.Verifier.html#12623" class="Bound">eb&#39;</a> <a id="12639" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="12641" class="Bound">ebHash</a><a id="12647" class="Symbol">)</a> <a id="12649" class="Symbol">(</a><a id="12650" href="Leios.Protocol.html#1788" class="Field">LeiosState.EBs&#39;</a> <a id="12666" class="Bound">s</a><a id="12667" class="Symbol">)</a> <a id="12669" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12671" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12676" class="Symbol">(</a><a id="12677" class="Bound">slot&#39;</a> <a id="12683" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12685" class="Bound">eb</a><a id="12687" class="Symbol">)</a> <a id="12689" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="12695" class="Symbol">...</a> <a id="12699" class="Symbol">|</a> <a id="12701" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="12704" href="Leios.Linear.Trace.Verifier.html#12704" class="Bound">¬p</a> <a id="12707" class="Symbol">=</a> <a id="12709" href="Text.Printf.html#1015" class="Function">printf</a> <a id="12716" class="String">&quot;%u : Err-VT-Role-premises: Hashes mismatch, ebHash=%s&quot;</a> <a id="12772" class="Symbol">(</a><a id="12773" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="12789" class="Bound">s</a><a id="12790" class="Symbol">)</a> <a id="12792" class="Symbol">(</a><a id="12793" href="Class.Show.Core.html#187" class="Field">show</a> <a id="12798" class="Bound">ebHash</a><a id="12804" class="Symbol">)</a>
    <a id="12810" class="Symbol">...</a> <a id="12814" class="Symbol">|</a> <a id="12816" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="12820" href="Leios.Linear.Trace.Verifier.html#12820" class="Bound">p</a>
      <a id="12828" class="Keyword">with</a> <a id="12833" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="12835" href="Class.Hashable.html#167" class="Field">hash</a> <a id="12840" class="Bound">eb</a> <a id="12843" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="12845" class="Symbol">(</a><a id="12846" href="Leios.Protocol.html#1836" class="Field">LeiosState.VotedEBs</a> <a id="12866" class="Bound">s</a><a id="12867" class="Symbol">)</a> <a id="12869" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="12875" class="Symbol">...</a> <a id="12879" class="Symbol">|</a> <a id="12881" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="12884" href="Leios.Linear.Trace.Verifier.html#12884" class="Bound">¬p</a> <a id="12887" class="Symbol">=</a> <a id="12889" href="Text.Printf.html#1015" class="Function">printf</a> <a id="12896" class="String">&quot;%u : Err-VT-Role-premises: Already voted&quot;</a> <a id="12939" class="Symbol">(</a><a id="12940" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="12956" class="Bound">s</a><a id="12957" class="Symbol">)</a>
    <a id="12963" class="Symbol">...</a> <a id="12967" class="Symbol">|</a> <a id="12969" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="12973" href="Leios.Linear.Trace.Verifier.html#12973" class="Bound">p</a>
      <a id="12981" class="Keyword">with</a> <a id="12986" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="12988" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="12990" href="Leios.Linear.html#3147" class="Function">isEquivocated</a> <a id="13004" class="Bound">s</a> <a id="13006" class="Bound">eb</a> <a id="13009" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="13015" class="Symbol">...</a> <a id="13019" class="Symbol">|</a> <a id="13021" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="13024" href="Leios.Linear.Trace.Verifier.html#13024" class="Bound">¬p</a> <a id="13027" class="Symbol">=</a> <a id="13029" href="Text.Printf.html#1015" class="Function">printf</a> <a id="13036" class="String">&quot;%u : Err-VT-Role-premises: Is equivocated&quot;</a> <a id="13080" class="Symbol">(</a><a id="13081" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="13097" class="Bound">s</a><a id="13098" class="Symbol">)</a>
    <a id="13104" class="Symbol">...</a> <a id="13108" class="Symbol">|</a> <a id="13110" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="13114" href="Leios.Linear.Trace.Verifier.html#13114" class="Bound">p</a>
      <a id="13122" class="Keyword">with</a> <a id="13127" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="13129" href="Leios.Protocol.html#6161" class="Function">isValid</a> <a id="13137" class="Bound">s</a> <a id="13139" class="Symbol">(</a><a id="13140" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13145" class="Symbol">(</a><a id="13146" href="Leios.Blocks.html#2375" class="InductiveConstructor">ebHeader</a> <a id="13155" class="Bound">eb</a><a id="13157" class="Symbol">))</a> <a id="13160" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="13166" class="Symbol">...</a> <a id="13170" class="Symbol">|</a> <a id="13172" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="13175" href="Leios.Linear.Trace.Verifier.html#13175" class="Bound">¬p</a> <a id="13178" class="Symbol">=</a> <a id="13180" href="Text.Printf.html#1015" class="Function">printf</a> <a id="13187" class="String">&quot;%u : Err-VT-Role-premises: Not valid&quot;</a> <a id="13226" class="Symbol">(</a><a id="13227" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="13243" class="Bound">s</a><a id="13244" class="Symbol">)</a>
    <a id="13250" class="Symbol">...</a> <a id="13254" class="Symbol">|</a> <a id="13256" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="13260" href="Leios.Linear.Trace.Verifier.html#13260" class="Bound">p</a>
      <a id="13268" class="Keyword">with</a> <a id="13273" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="13275" class="Bound">slot&#39;</a> <a id="13281" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13283" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="13294" class="Bound">eb</a> <a id="13297" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13299" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="13304" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="13310" class="Symbol">...</a> <a id="13314" class="Symbol">|</a> <a id="13316" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="13319" href="Leios.Linear.Trace.Verifier.html#13319" class="Bound">¬p</a> <a id="13322" class="Symbol">=</a> <a id="13324" href="Text.Printf.html#1015" class="Function">printf</a> <a id="13331" class="String">&quot;%u : Err-VT-Role-premises: ¬ (slot&#39; ≤ slotNumber eb + Lhdr)&quot;</a> <a id="13393" class="Symbol">(</a><a id="13394" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="13410" class="Bound">s</a><a id="13411" class="Symbol">)</a>
    <a id="13417" class="Symbol">...</a> <a id="13421" class="Symbol">|</a> <a id="13423" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="13427" href="Leios.Linear.Trace.Verifier.html#13427" class="Bound">p</a>
      <a id="13435" class="Keyword">with</a> <a id="13440" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="13442" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="13453" class="Bound">eb</a> <a id="13456" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13458" class="Number">3</a> <a id="13460" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="13462" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="13467" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13469" class="Symbol">(</a><a id="13470" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="13486" class="Bound">s</a><a id="13487" class="Symbol">)</a> <a id="13489" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="13495" class="Symbol">...</a> <a id="13499" class="Symbol">|</a> <a id="13501" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="13504" href="Leios.Linear.Trace.Verifier.html#13504" class="Bound">¬p</a> <a id="13507" class="Symbol">=</a> <a id="13509" href="Text.Printf.html#1015" class="Function">printf</a> <a id="13516" class="String">&quot;%u : Err-VT-Role-premises: ¬ (slotNumber eb + 3 * Lhdr ≤ (LeiosState.slot s))&quot;</a> <a id="13596" class="Symbol">(</a><a id="13597" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="13613" class="Bound">s</a><a id="13614" class="Symbol">)</a>
    <a id="13620" class="Symbol">...</a> <a id="13624" class="Symbol">|</a> <a id="13626" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="13630" href="Leios.Linear.Trace.Verifier.html#13630" class="Bound">p</a>
      <a id="13638" class="Keyword">with</a> <a id="13643" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="13645" class="Symbol">(</a><a id="13646" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="13662" class="Bound">s</a><a id="13663" class="Symbol">)</a> <a id="13665" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13667" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="13678" class="Bound">eb</a> <a id="13681" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13683" href="Leios.Linear.Trace.Verifier.html#622" class="Bound">validityCheckTime</a> <a id="13701" class="Bound">eb</a> <a id="13704" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="13710" class="Symbol">...</a> <a id="13714" class="Symbol">|</a> <a id="13716" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="13719" href="Leios.Linear.Trace.Verifier.html#13719" class="Bound">¬p</a> <a id="13722" class="Symbol">=</a> <a id="13724" href="Text.Printf.html#1015" class="Function">printf</a> <a id="13731" class="String">&quot;%u : Err-VT-Role-premises: ¬ ((LeiosState.slot s) ≡ slotNumber eb + validityCheckTime eb)&quot;</a> <a id="13823" class="Symbol">(</a><a id="13824" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="13840" class="Bound">s</a><a id="13841" class="Symbol">)</a>
    <a id="13847" class="Symbol">...</a> <a id="13851" class="Symbol">|</a> <a id="13853" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="13857" href="Leios.Linear.Trace.Verifier.html#13857" class="Bound">p</a>
      <a id="13865" class="Keyword">with</a> <a id="13870" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="13872" href="Leios.Linear.Trace.Verifier.html#622" class="Bound">validityCheckTime</a> <a id="13890" class="Bound">eb</a> <a id="13893" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13895" class="Number">3</a> <a id="13897" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="13899" href="Leios.Linear.Trace.Verifier.html#554" class="Bound">Lhdr</a> <a id="13904" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13906" href="Leios.Linear.Trace.Verifier.html#559" class="Bound">Lvote</a> <a id="13912" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="13918" class="Symbol">...</a> <a id="13922" class="Symbol">|</a> <a id="13924" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="13927" href="Leios.Linear.Trace.Verifier.html#13927" class="Bound">¬p</a> <a id="13930" class="Symbol">=</a> <a id="13932" href="Text.Printf.html#1015" class="Function">printf</a> <a id="13939" class="String">&quot;%u : Err-VT-Role-premises: ¬ (validityCheckTime eb ≤ 3 * Lhdr + Lvote)&quot;</a> <a id="14012" class="Symbol">(</a><a id="14013" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="14029" class="Bound">s</a><a id="14030" class="Symbol">)</a>
    <a id="14036" class="Symbol">...</a> <a id="14040" class="Symbol">|</a> <a id="14042" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="14046" href="Leios.Linear.Trace.Verifier.html#14046" class="Bound">p</a>
      <a id="14054" class="Keyword">with</a> <a id="14059" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="14061" href="Leios.Blocks.html#1189" class="Field">EndorserBlockOSig.txs</a> <a id="14083" class="Bound">eb</a> <a id="14086" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">≢</a> <a id="14088" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="14091" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="14097" class="Symbol">...</a> <a id="14101" class="Symbol">|</a> <a id="14103" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="14106" href="Leios.Linear.Trace.Verifier.html#14106" class="Bound">¬p</a> <a id="14109" class="Symbol">=</a> <a id="14111" href="Text.Printf.html#1015" class="Function">printf</a> <a id="14118" class="String">&quot;%u : Err-VT-Role-premises: No transactions in EB&quot;</a> <a id="14169" class="Symbol">(</a><a id="14170" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="14186" class="Bound">s</a><a id="14187" class="Symbol">)</a>
    <a id="14193" class="Symbol">...</a> <a id="14197" class="Symbol">|</a> <a id="14199" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="14203" href="Leios.Linear.Trace.Verifier.html#14203" class="Bound">p</a>
      <a id="14211" class="Keyword">with</a> <a id="14216" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="14218" href="Leios.Protocol.html#3018" class="Function">LeiosState.needsUpkeep</a> <a id="14241" class="Bound">s</a> <a id="14243" href="Leios.Linear.html#1460" class="InductiveConstructor">VT-Role</a> <a id="14251" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="14257" class="Symbol">...</a> <a id="14261" class="Symbol">|</a> <a id="14263" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="14266" href="Leios.Linear.Trace.Verifier.html#14266" class="Bound">¬p</a> <a id="14269" class="Symbol">=</a> <a id="14271" href="Text.Printf.html#1015" class="Function">printf</a> <a id="14278" class="String">&quot;%u : Err-VT-Role-premises: VT-Role already done&quot;</a> <a id="14328" class="Symbol">(</a><a id="14329" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="14345" class="Bound">s</a><a id="14346" class="Symbol">)</a>
    <a id="14352" class="Symbol">...</a> <a id="14356" class="Symbol">|</a> <a id="14358" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="14362" href="Leios.Linear.Trace.Verifier.html#14362" class="Bound">p</a>
      <a id="14370" class="Keyword">with</a> <a id="14375" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="14377" href="Leios.VRF.html#2451" class="Function">canProduceV</a> <a id="14389" class="Symbol">(</a><a id="14390" href="Leios.Blocks.html#629" class="Field">slotNumber</a> <a id="14401" class="Bound">eb</a><a id="14403" class="Symbol">)</a> <a id="14405" href="Leios.SpecStructure.html#758" class="Field">sk-VT</a> <a id="14411" class="Symbol">(</a><a id="14412" href="Leios.Protocol.html#4500" class="Function">stake</a> <a id="14418" class="Bound">s</a><a id="14419" class="Symbol">)</a> <a id="14421" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="14427" class="Symbol">...</a> <a id="14431" class="Symbol">|</a> <a id="14433" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="14436" href="Leios.Linear.Trace.Verifier.html#14436" class="Bound">¬p</a> <a id="14439" class="Symbol">=</a> <a id="14441" href="Text.Printf.html#1015" class="Function">printf</a> <a id="14448" class="String">&quot;%u : Err-VT-Role-premises: Can not produce vote&quot;</a> <a id="14498" class="Symbol">(</a><a id="14499" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="14515" class="Bound">s</a><a id="14516" class="Symbol">)</a>
    <a id="14522" class="Symbol">...</a> <a id="14526" class="Symbol">|</a> <a id="14528" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="14532" href="Leios.Linear.Trace.Verifier.html#14532" class="Bound">p</a> <a id="14534" class="Symbol">=</a> <a id="14536" href="Text.Printf.html#1015" class="Function">printf</a> <a id="14543" class="String">&quot;%u : Impossible!&quot;</a> <a id="14562" class="Symbol">(</a><a id="14563" href="Leios.Protocol.html#1909" class="Field">LeiosState.slot</a> <a id="14579" class="Bound">s</a><a id="14580" class="Symbol">)</a>

    <a id="14587" href="Leios.Linear.Trace.Verifier.html#14587" class="Function">iErr-verifyTrace</a> <a id="14604" class="Symbol">:</a> <a id="14606" class="Symbol">∀</a> <a id="14608" class="Symbol">{</a><a id="14609" href="Leios.Linear.Trace.Verifier.html#14609" class="Bound">s</a><a id="14610" class="Symbol">}</a> <a id="14612" class="Symbol">→</a> <a id="14614" href="Prelude.Errors.html#110" class="Record">IsError</a> <a id="14622" class="Symbol">(λ</a> <a id="14625" href="Leios.Linear.Trace.Verifier.html#14625" class="Bound">t</a> <a id="14627" class="Symbol">→</a> <a id="14629" href="Leios.Linear.Trace.Verifier.html#5590" class="Datatype">Err-verifyTrace</a> <a id="14645" href="Leios.Linear.Trace.Verifier.html#14625" class="Bound">t</a> <a id="14647" href="Leios.Linear.Trace.Verifier.html#14609" class="Bound">s</a><a id="14648" class="Symbol">)</a>
    <a id="14654" href="Leios.Linear.Trace.Verifier.html#14587" class="Function">iErr-verifyTrace</a> <a id="14671" class="Symbol">.</a><a id="14672" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="14681" class="Symbol">(</a><a id="14682" href="Leios.Linear.Trace.Verifier.html#5646" class="InductiveConstructor">Err-StepOk</a> <a id="14693" href="Leios.Linear.Trace.Verifier.html#14693" class="Bound">x</a><a id="14694" class="Symbol">)</a> <a id="14696" class="Symbol">=</a> <a id="14698" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="14707" href="Leios.Linear.Trace.Verifier.html#14693" class="Bound">x</a>
    <a id="14713" href="Leios.Linear.Trace.Verifier.html#14587" class="Function">iErr-verifyTrace</a> <a id="14730" class="Symbol">.</a><a id="14731" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="14740" class="Symbol">(</a><a id="14741" href="Leios.Linear.Trace.Verifier.html#5717" class="InductiveConstructor">Err-Step</a> <a id="14750" href="Leios.Linear.Trace.Verifier.html#14750" class="Bound">x</a><a id="14751" class="Symbol">)</a>   <a id="14755" class="Symbol">=</a> <a id="14757" href="Prelude.Errors.html#169" class="Field">errorMsg</a> <a id="14766" href="Leios.Linear.Trace.Verifier.html#14750" class="Bound">x</a>
</pre>
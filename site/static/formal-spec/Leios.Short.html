<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><script src="themeInit.js"></script>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Leios.Short</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="Agda.css">
<link rel="stylesheet" href="base.css"><link rel="stylesheet" href="search.css"><link rel="stylesheet" href="typePreview.css"></head>
<body><header><div class="header-left"><button class="menu-toggle" title="Toggle navigation menu" aria-label="Toggle navigation menu">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"></path>
      </svg>
    </button><a href="/formal-spec/" class="back-button">← Back</a></div><div class="header-right"><a href="https://github.com/input-output-hk/ouroboros-leios-formal-spec" class="github-link" target="_blank" rel="noopener noreferrer" title="View on GitHub">
        <svg viewBox="0 0 24 24" width="24" height="24" class="github-icon">
          <path fill="currentColor" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
        </svg>
      </a><button class="theme-toggle" title="Toggle theme">
      <span class="light-icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path>
        </svg>
      </span>
      <span class="dark-icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path>
        </svg>
      </span>
    </button></div></header><div class="main-wrapper"><aside class="sidebar"><h3 class="modules-header">Modules</h3><h4 class="module-group-header">Leios</h4><ul class="module-list"><li class="module-item"><a href="Leios.Abstract.html" class="module-link">Abstract</a></li><li class="module-item"><a href="Leios.Base.html" class="module-link">Base</a></li><li class="module-item"><a href="Leios.Blocks.html" class="module-link">Blocks</a></li><li class="module-item"><a href="Leios.Config.html" class="module-link">Config</a></li><li class="module-item"><a href="Leios.Defaults.html" class="module-link">Defaults</a></li><li class="module-item"><a href="Leios.FFD.html" class="module-link">FFD</a></li><li class="module-item"><a href="Leios.Foreign.BaseTypes.html" class="module-link">Foreign.BaseTypes</a></li><li class="module-item"><a href="Leios.Foreign.HsTypes.html" class="module-link">Foreign.HsTypes</a></li><li class="module-item"><a href="Leios.Foreign.Types.html" class="module-link">Foreign.Types</a></li><li class="module-item"><a href="Leios.Foreign.Util.html" class="module-link">Foreign.Util</a></li><li class="module-item"><a href="Leios.KeyRegistration.html" class="module-link">KeyRegistration</a></li><li class="module-item"><a href="Leios.Prelude.html" class="module-link">Prelude</a></li><li class="module-item"><a href="Leios.Protocol.html" class="module-link">Protocol</a></li><li class="module-item"><a href="Leios.Short.html" class="module-link">Short</a></li><li class="module-item"><a href="Leios.SpecStructure.html" class="module-link">SpecStructure</a></li><li class="module-item"><a href="Leios.Traces.html" class="module-link">Traces</a></li><li class="module-item"><a href="Leios.Voting.html" class="module-link">Voting</a></li><li class="module-item"><a href="Leios.VRF.html" class="module-link">VRF</a></li></ul><h4 class="module-group-header">Network</h4><ul class="module-list"><li class="module-item"><a href="Network.BasicBroadcast.html" class="module-link">BasicBroadcast</a></li></ul></aside><div class="main-content">
<h2 id="short-pipeline-leios">Short-Pipeline Leios</h2>
<!--
<pre class="Agda"><a id="39" class="Symbol">{-#</a> <a id="43" class="Keyword">OPTIONS</a> <a id="51" class="Pragma">--safe</a> <a id="58" class="Symbol">#-}</a>
<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Leios.Prelude.html" class="Module">Leios.Prelude</a> <a id="88" class="Keyword">hiding</a> <a id="95" class="Symbol">(</a><a id="96" href="Function.Base.html#704" class="Function">id</a><a id="98" class="Symbol">;</a> <a id="100" href="Class.Applicative.Core.html#497" class="Function Operator">_⊗_</a><a id="103" class="Symbol">)</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Leios.FFD.html" class="Module">Leios.FFD</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Leios.SpecStructure.html" class="Module">Leios.SpecStructure</a>
<a id="159" class="Keyword">open</a> <a id="164" class="Keyword">import</a> <a id="171" href="Leios.Config.html" class="Module">Leios.Config</a>

<a id="185" class="Keyword">open</a> <a id="190" class="Keyword">import</a> <a id="197" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>

<a id="246" class="Keyword">open</a> <a id="251" class="Keyword">import</a> <a id="258" href="CategoricalCrypto.html" class="Module">CategoricalCrypto</a> <a id="276" class="Keyword">hiding</a> <a id="283" class="Symbol">(</a><a id="284" href="CategoricalCrypto.Base.html#4712" class="Function">id</a><a id="286" class="Symbol">;</a> <a id="288" href="CategoricalCrypto.Base.html#7244" class="Function Operator">_∘_</a><a id="291" class="Symbol">)</a>

<a id="294" class="Keyword">module</a> <a id="301" href="Leios.Short.html" class="Module">Leios.Short</a> <a id="313" class="Symbol">(</a><a id="314" href="Leios.Short.html#314" class="Bound">⋯</a> <a id="316" class="Symbol">:</a> <a id="318" href="Leios.SpecStructure.html#286" class="Record">SpecStructure</a> <a id="332" class="Number">1</a><a id="333" class="Symbol">)</a>
  <a id="337" class="Symbol">(</a><a id="338" class="Keyword">let</a> <a id="342" class="Keyword">open</a> <a id="347" href="Leios.SpecStructure.html#286" class="Module">SpecStructure</a> <a id="361" href="Leios.Short.html#314" class="Bound">⋯</a> <a id="363" class="Keyword">renaming</a> <a id="372" class="Symbol">(</a><a id="373" href="Leios.Voting.html#203" class="Function">isVoteCertified</a> <a id="389" class="Symbol">to</a> <a id="392" class="Function">isVoteCertified&#39;</a><a id="408" class="Symbol">))</a>
  <a id="413" class="Symbol">(</a><a id="414" href="Leios.Short.html#414" class="Bound">params</a> <a id="421" class="Symbol">:</a> <a id="423" href="Leios.Config.html#923" class="Record">Params</a><a id="429" class="Symbol">)</a> <a id="431" class="Keyword">where</a>
</pre>-->
<p>This document is a specification of Short-Pipeline Leios, usually
abbreviated as Short Leios. On a high level, the pipeline looks like
this:</p>
<ol type="1">
<li>If elected, propose IB</li>
<li>Wait</li>
<li>Wait</li>
<li>If elected, propose EB</li>
<li>If elected, vote If elected, propose RB</li>
</ol>
<h3 id="upkeep">Upkeep</h3>
<p>A node that never produces a block even though it could is not
supposed to be an honest node, and we prevent that by tracking whether a
node has checked if it can make a block in a particular slot.
<code>LeiosState</code> contains a set of <code>SlotUpkeep</code> and we
ensure that this set contains all elements before we can advance to the
next slot, resetting this field to the empty set.</p>
<pre class="Agda has-copy-button" id="B1"><div class="code-container"><div class="line-numbers"><a href="#B1-L1" id="B1-L1" class="line-number" data-line-number="1" data-block-id="B1">1</a><a href="#B1-L2" id="B1-L2" class="line-number" data-line-number="2" data-block-id="B1">2</a><a href="#B1-L3" id="B1-L3" class="line-number" data-line-number="3" data-block-id="B1">3</a><a href="#B1-L4" id="B1-L4" class="line-number" data-line-number="4" data-block-id="B1">4</a></div><div class="code-content"><div id="B1-LC1" class="code-line"><a id="1095" class="Keyword">data</a> <a id="SlotUpkeep"></a><a id="1100" href="Leios.Short.html#B1-L1" class="Datatype type-hoverable" data-original-href="Leios.Short.html#1100" data-hoverable="true" data-position="1100" data-target-file="Leios.Short.html">SlotUpkeep</a> <a id="1111" class="Symbol">:</a> <a id="1113" href="Agda.Primitive.html#B1-L14" class="Primitive type-hoverable" data-original-href="Agda.Primitive.html#388" data-hoverable="true" data-position="388" data-target-file="Agda.Primitive.html">Type</a> <a id="1118" class="Keyword">where</a></div><div id="B1-LC2" class="code-line">  <a id="SlotUpkeep.Base"></a><a id="1126" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a> <a id="SlotUpkeep.IB-Role"></a><a id="1131" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a> <a id="SlotUpkeep.EB-Role"></a><a id="1139" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1139" data-hoverable="true" data-position="1139" data-target-file="Leios.Short.html">EB-Role</a> <a id="1147" class="Symbol">:</a> <a id="1149" href="Leios.Short.html#B1-L1" class="Datatype type-hoverable" data-original-href="Leios.Short.html#1100" data-hoverable="true" data-position="1100" data-target-file="Leios.Short.html">SlotUpkeep</a></div><div id="B1-LC3" class="code-line">&nbsp;</div><div id="B1-LC4" class="code-line"><a id="1161" class="Keyword">unquoteDecl</a> <a id="DecEq-SlotUpkeep"></a><a id="1173" href="Leios.Short.html#B1-L4" class="Function type-hoverable" data-original-href="Leios.Short.html#1173" data-hoverable="true" data-position="1173" data-target-file="Leios.Short.html">DecEq-SlotUpkeep</a> <a id="1190" class="Symbol">=</a> <a id="1192" href="Tactic.Derive.DecEq.html#B1-L94" class="Function type-hoverable" data-original-href="Tactic.Derive.DecEq.html#3512" data-hoverable="true" data-position="3512" data-target-file="Tactic.Derive.DecEq.html">derive-DecEq</a> <a id="1205" class="Symbol">((</a><a id="1207" class="Keyword">quote</a> <a id="1213" href="Leios.Short.html#B1-L1" class="Datatype type-hoverable" data-original-href="Leios.Short.html#1100" data-hoverable="true" data-position="1100" data-target-file="Leios.Short.html">SlotUpkeep</a> <a id="1224" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="1226" href="Leios.Short.html#B1-L4" class="Function type-hoverable" data-original-href="Leios.Short.html#1173" data-hoverable="true" data-position="1173" data-target-file="Leios.Short.html">DecEq-SlotUpkeep</a><a id="1242" class="Symbol">)</a> <a id="1244" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="1246" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a><a id="1248" class="Symbol">)</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<!--
<pre class="Agda"><a id="1267" class="Keyword">data</a> <a id="StageUpkeep"></a><a id="1272" href="Leios.Short.html#1272" class="Datatype">StageUpkeep</a> <a id="1284" class="Symbol">:</a> <a id="1286" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1291" class="Keyword">where</a>
  <a id="StageUpkeep.VT-Role"></a><a id="1299" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a> <a id="1307" class="Symbol">:</a> <a id="1309" href="Leios.Short.html#1272" class="Datatype">StageUpkeep</a>

<a id="1322" class="Keyword">unquoteDecl</a> <a id="DecEq-StageUpkeep"></a><a id="1334" href="Leios.Short.html#1334" class="Function">DecEq-StageUpkeep</a> <a id="1352" class="Symbol">=</a> <a id="1354" href="Tactic.Derive.DecEq.html#3512" class="Function">derive-DecEq</a> <a id="1367" class="Symbol">((</a><a id="1369" class="Keyword">quote</a> <a id="1375" href="Leios.Short.html#1272" class="Datatype">StageUpkeep</a> <a id="1387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1389" href="Leios.Short.html#1334" class="Function">DecEq-StageUpkeep</a><a id="1406" class="Symbol">)</a> <a id="1408" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1410" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1412" class="Symbol">)</a>
</pre><pre class="Agda"><a id="1426" class="Keyword">open</a> <a id="1431" class="Keyword">import</a> <a id="1438" href="Leios.Protocol.html" class="Module">Leios.Protocol</a> <a id="1453" class="Symbol">(</a><a id="1454" href="Leios.Short.html#314" class="Bound">⋯</a><a id="1455" class="Symbol">)</a> <a id="1457" href="Leios.Short.html#1100" class="Datatype">SlotUpkeep</a> <a id="1468" href="Leios.Short.html#1272" class="Datatype">StageUpkeep</a> <a id="1480" class="Keyword">public</a>

<a id="1488" class="Keyword">open</a> <a id="1493" href="Leios.Base.html#636" class="Module">BaseAbstract</a> <a id="1506" href="Leios.SpecStructure.html#835" class="Field">B&#39;</a> <a id="1509" class="Keyword">using</a> <a id="1515" class="Symbol">(</a><a id="1516" href="Leios.Base.html#671" class="Field">Cert</a><a id="1520" class="Symbol">;</a> <a id="1522" href="Leios.Base.html#737" class="Field">V-chkCerts</a><a id="1532" class="Symbol">;</a> <a id="1534" href="Leios.Base.html#691" class="Field">VTy</a><a id="1537" class="Symbol">;</a> <a id="1539" href="Leios.Base.html#710" class="Field">initSlot</a><a id="1547" class="Symbol">)</a>
<a id="1549" class="Keyword">open</a> <a id="1554" href="Leios.SpecStructure.html#1203" class="Module">FFD</a> <a id="1558" class="Keyword">hiding</a> <a id="1565" class="Symbol">(</a><a id="1566" href="Leios.FFD.html#562" class="Function Operator">_-⟦_/_⟧⇀_</a><a id="1575" class="Symbol">)</a>
<a id="1577" class="Keyword">open</a> <a id="1582" href="Leios.Blocks.html#4563" class="Module">GenFFD</a>
</pre><pre class="Agda"><a id="isVoteCertified"></a><a id="1601" href="Leios.Short.html#1601" class="Function">isVoteCertified</a> <a id="1617" class="Symbol">:</a> <a id="1619" href="Leios.Protocol.html#1516" class="Record">LeiosState</a> <a id="1630" class="Symbol">→</a> <a id="1632" href="Leios.Blocks.html#3246" class="Function">EndorserBlock</a> <a id="1646" class="Symbol">→</a> <a id="1648" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1653" href="Leios.Short.html#1601" class="Function">isVoteCertified</a> <a id="1669" href="Leios.Short.html#1669" class="Bound">s</a> <a id="1671" href="Leios.Short.html#1671" class="Bound">eb</a> <a id="1674" class="Symbol">=</a> <a id="1676" href="Leios.Short.html#392" class="Function">isVoteCertified&#39;</a> <a id="1693" class="Symbol">(</a><a id="1694" href="Leios.Protocol.html#2092" class="Field">LeiosState.votingState</a> <a id="1717" href="Leios.Short.html#1669" class="Bound">s</a><a id="1718" class="Symbol">)</a> <a id="1720" class="Symbol">(</a><a id="1721" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a> <a id="1724" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1726" href="Leios.Short.html#1671" class="Bound">eb</a><a id="1728" class="Symbol">)</a>
</pre><pre class="Agda"><a id="1742" class="Keyword">private</a> <a id="1750" class="Keyword">variable</a> <a id="1759" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="1761" href="Leios.Short.html#1761" class="Generalizable">s&#39;</a>   <a id="1766" class="Symbol">:</a> <a id="1768" href="Leios.Protocol.html#1516" class="Record">LeiosState</a>
                 <a id="1796" href="Leios.Short.html#1796" class="Generalizable">ffds&#39;</a>  <a id="1803" class="Symbol">:</a> <a id="1805" href="Leios.FFD.html#508" class="Function">FFD.State</a>
                 <a id="1832" href="Leios.Short.html#1832" class="Generalizable">π</a>      <a id="1839" class="Symbol">:</a> <a id="1841" href="Leios.Abstract.html#578" class="Function">VrfPf</a>
                 <a id="1864" href="Leios.Short.html#1864" class="Generalizable">bs&#39;</a>    <a id="1871" class="Symbol">:</a> <a id="1873" href="Leios.Base.html#3313" class="Function">B.State</a>
                 <a id="1898" href="Leios.Short.html#1898" class="Generalizable">ks</a> <a id="1901" href="Leios.Short.html#1901" class="Generalizable">ks&#39;</a> <a id="1905" class="Symbol">:</a> <a id="1907" href="Leios.KeyRegistration.html#453" class="Function">K.State</a>
                 <a id="1932" href="Leios.Short.html#1932" class="Generalizable">msgs</a>   <a id="1939" class="Symbol">:</a> <a id="1941" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1946" class="Symbol">(</a><a id="1947" href="Leios.FFD.html#117" class="Field">FFDAbstract.Header</a> <a id="1966" href="Leios.Blocks.html#5611" class="Function">ffdAbstract</a> <a id="1978" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1980" href="Leios.FFD.html#124" class="Field">FFDAbstract.Body</a> <a id="1997" href="Leios.Blocks.html#5611" class="Function">ffdAbstract</a><a id="2008" class="Symbol">)</a>
                 <a id="2027" href="Leios.Short.html#2027" class="Generalizable">i</a>      <a id="2034" class="Symbol">:</a> <a id="2036" href="Leios.FFD.html#288" class="Datatype">FFDAbstract.Input</a> <a id="2054" href="Leios.Blocks.html#5611" class="Function">ffdAbstract</a>
                 <a id="2083" href="Leios.Short.html#2083" class="Generalizable">eb</a>     <a id="2090" class="Symbol">:</a> <a id="2092" href="Leios.Blocks.html#3246" class="Function">EndorserBlock</a>
                 <a id="2123" href="Leios.Short.html#2123" class="Generalizable">ebs</a>    <a id="2130" class="Symbol">:</a> <a id="2132" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2137" href="Leios.Blocks.html#3246" class="Function">EndorserBlock</a>
                 <a id="2168" href="Leios.Short.html#2168" class="Generalizable">rbs</a>    <a id="2175" class="Symbol">:</a> <a id="2177" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2182" href="Leios.Base.html#517" class="Record">RankingBlock</a>
                 <a id="2212" href="Leios.Short.html#2212" class="Generalizable">txs</a>    <a id="2219" class="Symbol">:</a> <a id="2221" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2226" href="Leios.Abstract.html#457" class="Function">Tx</a>
                 <a id="2246" href="Leios.Short.html#2246" class="Generalizable">V</a>      <a id="2253" class="Symbol">:</a> <a id="2255" href="Leios.Base.html#691" class="Function">VTy</a>
                 <a id="2276" href="Leios.Short.html#2276" class="Generalizable">SD</a>     <a id="2283" class="Symbol">:</a> <a id="2285" href="Leios.Base.html#460" class="Function">StakeDistr</a>
                 <a id="2313" href="Leios.Short.html#2313" class="Generalizable">pks</a>    <a id="2320" class="Symbol">:</a> <a id="2322" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2327" href="Leios.VRF.html#911" class="Function">PubKey</a>
                 <a id="2351" href="Leios.Short.html#2351" class="Generalizable">cert</a>   <a id="2358" class="Symbol">:</a> <a id="2360" href="Leios.Abstract.html#601" class="Function">EBCert</a>
</pre>-->
<h3 id="blockvote-production">Block/Vote production</h3>
IBs from the last 3 pipelines are directly included in the EB, when the
late IB inclusion flag is set
<pre class="Agda has-copy-button" id="B2"><div class="code-container"><div class="line-numbers"><a href="#B2-L1" id="B2-L1" class="line-number" data-line-number="1" data-block-id="B2">1</a><a href="#B2-L2" id="B2-L2" class="line-number" data-line-number="2" data-block-id="B2">2</a><a href="#B2-L3" id="B2-L3" class="line-number" data-line-number="3" data-block-id="B2">3</a><a href="#B2-L4" id="B2-L4" class="line-number" data-line-number="4" data-block-id="B2">4</a><a href="#B2-L5" id="B2-L5" class="line-number" data-line-number="5" data-block-id="B2">5</a><a href="#B2-L6" id="B2-L6" class="line-number" data-line-number="6" data-block-id="B2">6</a><a href="#B2-L7" id="B2-L7" class="line-number" data-line-number="7" data-block-id="B2">7</a></div><div class="code-content"><div id="B2-LC1" class="code-line"><a id="IBSelection"></a><a id="2512" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#2512" data-hoverable="true" data-position="2512" data-target-file="Leios.Short.html">IBSelection</a> <a id="2524" class="Symbol">:</a> <a id="2526" href="Leios.Protocol.html#B1-L45" class="Record type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="2537" class="Symbol">→</a> <a id="2539" href="Agda.Builtin.Bool.html#B1-L6" class="Datatype type-hoverable" data-original-href="Agda.Builtin.Bool.html#173" data-hoverable="true" data-position="173" data-target-file="Agda.Builtin.Bool.html">Bool</a> <a id="2544" class="Symbol">→</a> <a id="2546" href="Leios.Blocks.html#B1-L58" class="Record type-hoverable" data-original-href="Leios.Blocks.html#1518" data-hoverable="true" data-position="1518" data-target-file="Leios.Blocks.html">InputBlock</a> <a id="2557" class="Symbol">→</a> <a id="2559" href="Agda.Primitive.html#B1-L14" class="Primitive type-hoverable" data-original-href="Agda.Primitive.html#388" data-hoverable="true" data-position="388" data-target-file="Agda.Primitive.html">Type</a></div><div id="B2-LC2" class="code-line"><a id="2564" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#2512" data-hoverable="true" data-position="2512" data-target-file="Leios.Short.html">IBSelection</a> <a id="2576" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#2576" data-hoverable="true" data-position="2576" data-target-file="Leios.Short.html">s</a> <a id="2578" href="Agda.Builtin.Bool.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Bool.html#192" data-hoverable="true" data-position="192" data-target-file="Agda.Builtin.Bool.html">false</a> <a id="2584" class="Symbol">=</a> <a id="2586" href="Leios.Blocks.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Leios.Blocks.html#770" data-hoverable="true" data-position="770" data-target-file="Leios.Blocks.html">_∈ᴮ</a> <a id="2590" href="Leios.Prelude.html#B1-L45" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1209" data-hoverable="true" data-position="1209" data-target-file="Leios.Prelude.html">slice</a> <a id="2596" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="2598" class="Symbol">(</a><a id="2599" href="Leios.Protocol.html#B1-L56" class="Field type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">LeiosState.slot</a> <a id="2615" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#2576" data-hoverable="true" data-position="2576" data-target-file="Leios.Short.html">s</a><a id="2616" class="Symbol">)</a> <a id="2618" class="Number">3</a></div><div id="B2-LC3" class="code-line"><a id="2620" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#2512" data-hoverable="true" data-position="2512" data-target-file="Leios.Short.html">IBSelection</a> <a id="2632" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#2632" data-hoverable="true" data-position="2632" data-target-file="Leios.Short.html">s</a> <a id="2634" href="Agda.Builtin.Bool.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Bool.html#198" data-hoverable="true" data-position="198" data-target-file="Agda.Builtin.Bool.html">true</a>  <a id="2640" class="Symbol">=</a> <a id="2642" href="Leios.Blocks.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Leios.Blocks.html#770" data-hoverable="true" data-position="770" data-target-file="Leios.Blocks.html">_∈ᴮ</a> <a id="2646" href="Leios.Prelude.html#B1-L51" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1475" data-hoverable="true" data-position="1475" data-target-file="Leios.Prelude.html">slices</a> <a id="2653" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="2655" class="Symbol">(</a><a id="2656" href="Leios.Protocol.html#B1-L56" class="Field type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">LeiosState.slot</a> <a id="2672" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#2632" data-hoverable="true" data-position="2632" data-target-file="Leios.Short.html">s</a><a id="2673" class="Symbol">)</a> <a id="2675" class="Number">3</a> <a id="2677" class="Number">6</a></div><div id="B2-LC4" class="code-line">&nbsp;</div><div id="B2-LC5" class="code-line"><a id="IBSelection?"></a><a id="2680" href="Leios.Short.html#B1-L5" class="Function type-hoverable" data-original-href="Leios.Short.html#2680" data-hoverable="true" data-position="2680" data-target-file="Leios.Short.html">IBSelection?</a> <a id="2693" class="Symbol">:</a> <a id="2695" class="Symbol">(</a><a id="2696" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#2696" data-hoverable="true" data-position="2696" data-target-file="Leios.Short.html">s</a> <a id="2698" class="Symbol">:</a> <a id="2700" href="Leios.Protocol.html#B1-L45" class="Record type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a><a id="2710" class="Symbol">)</a> <a id="2712" class="Symbol">→</a> <a id="2714" class="Symbol">(</a><a id="2715" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#2715" data-hoverable="true" data-position="2715" data-target-file="Leios.Short.html">b</a> <a id="2717" class="Symbol">:</a> <a id="2719" href="Agda.Builtin.Bool.html#B1-L6" class="Datatype type-hoverable" data-original-href="Agda.Builtin.Bool.html#173" data-hoverable="true" data-position="173" data-target-file="Agda.Builtin.Bool.html">Bool</a><a id="2723" class="Symbol">)</a> <a id="2725" class="Symbol">→</a> <a id="2727" class="Symbol">(</a><a id="2728" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#2728" data-hoverable="true" data-position="2728" data-target-file="Leios.Short.html">ib</a> <a id="2731" class="Symbol">:</a> <a id="2733" href="Leios.Blocks.html#B1-L58" class="Record type-hoverable" data-original-href="Leios.Blocks.html#1518" data-hoverable="true" data-position="1518" data-target-file="Leios.Blocks.html">InputBlock</a><a id="2743" class="Symbol">)</a> <a id="2745" class="Symbol">→</a> <a id="2747" href="Relation.Nullary.Decidable.Core.html#B1-L49" class="Record type-hoverable" data-original-href="Relation.Nullary.Decidable.Core.html#1861" data-hoverable="true" data-position="1861" data-target-file="Relation.Nullary.Decidable.Core.html">Dec</a> <a id="2751" class="Symbol">(</a><a id="2752" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#2512" data-hoverable="true" data-position="2512" data-target-file="Leios.Short.html">IBSelection</a> <a id="2764" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#2696" data-hoverable="true" data-position="2696" data-target-file="Leios.Short.html">s</a> <a id="2766" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#2715" data-hoverable="true" data-position="2715" data-target-file="Leios.Short.html">b</a> <a id="2768" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#2728" data-hoverable="true" data-position="2728" data-target-file="Leios.Short.html">ib</a><a id="2770" class="Symbol">)</a></div><div id="B2-LC6" class="code-line"><a id="2772" href="Leios.Short.html#B1-L5" class="Function type-hoverable" data-original-href="Leios.Short.html#2680" data-hoverable="true" data-position="2680" data-target-file="Leios.Short.html">IBSelection?</a> <a id="2785" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#2785" data-hoverable="true" data-position="2785" data-target-file="Leios.Short.html">s</a> <a id="2787" href="Agda.Builtin.Bool.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Bool.html#192" data-hoverable="true" data-position="192" data-target-file="Agda.Builtin.Bool.html">false</a> <a id="2793" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#2793" data-hoverable="true" data-position="2793" data-target-file="Leios.Short.html">ib</a> <a id="2796" class="Symbol">=</a> <a id="2798" href="Leios.Blocks.html#B1-L21" class="Field type-hoverable" data-original-href="Leios.Blocks.html#640" data-hoverable="true" data-position="640" data-target-file="Leios.Blocks.html">slotNumber</a> <a id="2809" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#2793" data-hoverable="true" data-position="2793" data-target-file="Leios.Short.html">ib</a> <a id="2812" href="Axiom.Set.html#B1-L324" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#10771" data-hoverable="true" data-position="10771" data-target-file="Axiom.Set.html">∈?</a> <a id="2815" href="Leios.Prelude.html#B1-L45" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1209" data-hoverable="true" data-position="1209" data-target-file="Leios.Prelude.html">slice</a> <a id="2821" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="2823" class="Symbol">(</a><a id="2824" href="Leios.Protocol.html#B1-L56" class="Field type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">LeiosState.slot</a> <a id="2840" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#2785" data-hoverable="true" data-position="2785" data-target-file="Leios.Short.html">s</a><a id="2841" class="Symbol">)</a> <a id="2843" class="Number">3</a></div><div id="B2-LC7" class="code-line"><a id="2845" href="Leios.Short.html#B1-L5" class="Function type-hoverable" data-original-href="Leios.Short.html#2680" data-hoverable="true" data-position="2680" data-target-file="Leios.Short.html">IBSelection?</a> <a id="2858" href="Leios.Short.html#B1-L7" class="Bound type-hoverable" data-original-href="Leios.Short.html#2858" data-hoverable="true" data-position="2858" data-target-file="Leios.Short.html">s</a> <a id="2860" href="Agda.Builtin.Bool.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Bool.html#198" data-hoverable="true" data-position="198" data-target-file="Agda.Builtin.Bool.html">true</a> <a id="2865" href="Leios.Short.html#B1-L7" class="Bound type-hoverable" data-original-href="Leios.Short.html#2865" data-hoverable="true" data-position="2865" data-target-file="Leios.Short.html">ib</a>  <a id="2869" class="Symbol">=</a> <a id="2871" href="Leios.Blocks.html#B1-L21" class="Field type-hoverable" data-original-href="Leios.Blocks.html#640" data-hoverable="true" data-position="640" data-target-file="Leios.Blocks.html">slotNumber</a> <a id="2882" href="Leios.Short.html#B1-L7" class="Bound type-hoverable" data-original-href="Leios.Short.html#2865" data-hoverable="true" data-position="2865" data-target-file="Leios.Short.html">ib</a> <a id="2885" href="Axiom.Set.html#B1-L324" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#10771" data-hoverable="true" data-position="10771" data-target-file="Axiom.Set.html">∈?</a> <a id="2888" href="Leios.Prelude.html#B1-L51" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1475" data-hoverable="true" data-position="1475" data-target-file="Leios.Prelude.html">slices</a> <a id="2895" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="2897" class="Symbol">(</a><a id="2898" href="Leios.Protocol.html#B1-L56" class="Field type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">LeiosState.slot</a> <a id="2914" href="Leios.Short.html#B1-L7" class="Bound type-hoverable" data-original-href="Leios.Short.html#2858" data-hoverable="true" data-position="2858" data-target-file="Leios.Short.html">s</a><a id="2915" class="Symbol">)</a> <a id="2917" class="Number">3</a> <a id="2919" class="Number">6</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<p>We now define the rules for block production given by the relation
<code>_↝_</code>. These are split in two:</p>
<ol type="1">
<li>Positive rules, when we do need to create a block.</li>
<li>Negative rules, when we cannot create a block.</li>
</ol>
<p>The purpose of the negative rules is to properly adjust the upkeep if
we cannot make a block.</p>
<p>Note that <code>_↝_</code>, starting with an empty upkeep can always
make exactly three steps corresponding to the three types of Leios
specific blocks.</p>
<pre class="Agda has-copy-button" id="B3"><div class="code-container"><div class="line-numbers"><a href="#B3-L1" id="B3-L1" class="line-number" data-line-number="1" data-block-id="B3">1</a></div><div class="code-content"><div id="B3-LC1" class="code-line"><a id="3375" class="Keyword">data</a> <a id="_↝_"></a><a id="3380" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">_↝_</a> <a id="3384" class="Symbol">:</a> <a id="3386" href="Leios.Protocol.html#B1-L45" class="Record type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="3397" class="Symbol">→</a> <a id="3399" href="Leios.Protocol.html#B1-L45" class="Record type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="3410" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="3412" href="Agda.Builtin.Maybe.html#B1-L5" class="Datatype type-hoverable" data-original-href="Agda.Builtin.Maybe.html#135" data-hoverable="true" data-position="135" data-target-file="Agda.Builtin.Maybe.html">Maybe</a> <a id="3418" class="Symbol">(</a><a id="3419" href="Leios.FFD.html#B1-L14" class="Datatype type-hoverable" data-original-href="Leios.FFD.html#288" data-hoverable="true" data-position="288" data-target-file="Leios.FFD.html">FFDAbstract.Input</a> <a id="3437" href="Leios.Blocks.html#B1-L178" class="Function type-hoverable" data-original-href="Leios.Blocks.html#5611" data-hoverable="true" data-position="5611" data-target-file="Leios.Blocks.html">ffdAbstract</a><a id="3448" class="Symbol">)</a> <a id="3450" class="Symbol">→</a> <a id="3452" href="Agda.Primitive.html#B1-L14" class="Primitive type-hoverable" data-original-href="Agda.Primitive.html#388" data-hoverable="true" data-position="388" data-target-file="Agda.Primitive.html">Type</a> <a id="3457" class="Keyword">where</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<h4 id="positive-rules">Positive rules</h4>
<pre class="Agda has-copy-button" id="B4"><div class="code-container"><div class="line-numbers"><a href="#B4-L1" id="B4-L1" class="line-number" data-line-number="1" data-block-id="B4">1</a><a href="#B4-L2" id="B4-L2" class="line-number" data-line-number="2" data-block-id="B4">2</a><a href="#B4-L3" id="B4-L3" class="line-number" data-line-number="3" data-block-id="B4">3</a><a href="#B4-L4" id="B4-L4" class="line-number" data-line-number="4" data-block-id="B4">4</a><a href="#B4-L5" id="B4-L5" class="line-number" data-line-number="5" data-block-id="B4">5</a><a href="#B4-L6" id="B4-L6" class="line-number" data-line-number="6" data-block-id="B4">6</a><a href="#B4-L7" id="B4-L7" class="line-number" data-line-number="7" data-block-id="B4">7</a></div><div class="code-content"><div id="B4-LC1" class="code-line">  <a id="_↝_.IB-Role"></a><a id="3497" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#3497" data-hoverable="true" data-position="3497" data-target-file="Leios.Short.html">IB-Role</a> <a id="3505" class="Symbol">:</a> <a id="3507" class="Keyword">let</a> <a id="3511" class="Keyword">open</a> <a id="3516" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="3527" href="Leios.Short.html#1759" class="Generalizable">s</a></div><div id="B4-LC2" class="code-line">                <a id="3545" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#3545" data-hoverable="true" data-position="3545" data-target-file="Leios.Short.html">b</a> <a id="3547" class="Symbol">=</a> <a id="3549" href="Leios.Blocks.html#B1-L152" class="InductiveConstructor type-hoverable" data-original-href="Leios.Blocks.html#4766" data-hoverable="true" data-position="4766" data-target-file="Leios.Blocks.html">ibBody</a> <a id="3556" class="Symbol">(</a><a id="3557" class="Keyword">record</a> <a id="3564" class="Symbol">{</a> <a id="3566" href="Leios.Blocks.html#B1-L56" class="Field type-hoverable" data-original-href="Leios.Blocks.html#1496" data-hoverable="true" data-position="1496" data-target-file="Leios.Blocks.html">txs</a> <a id="3570" class="Symbol">=</a> <a id="3572" href="Leios.Protocol.html#B1-L49" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1650" data-hoverable="true" data-position="1650" data-target-file="Leios.Protocol.html">ToPropose</a> <a id="3582" class="Symbol">})</a></div><div id="B4-LC3" class="code-line">                <a id="3601" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#3601" data-hoverable="true" data-position="3601" data-target-file="Leios.Short.html">h</a> <a id="3603" class="Symbol">=</a> <a id="3605" href="Leios.Blocks.html#B1-L147" class="InductiveConstructor type-hoverable" data-original-href="Leios.Blocks.html#4635" data-hoverable="true" data-position="4635" data-target-file="Leios.Blocks.html">ibHeader</a> <a id="3614" class="Symbol">(</a><a id="3615" href="Leios.Blocks.html#B1-L84" class="Function type-hoverable" data-original-href="Leios.Blocks.html#2311" data-hoverable="true" data-position="2311" data-target-file="Leios.Blocks.html">mkIBHeader</a> <a id="3626" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="3631" href="Leios.SpecStructure.html#B1-L26" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#601" data-hoverable="true" data-position="601" data-target-file="Leios.SpecStructure.html">id</a> <a id="3634" href="Leios.Short.html#1832" class="Generalizable">π</a> <a id="3636" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#730" data-hoverable="true" data-position="730" data-target-file="Leios.SpecStructure.html">sk-IB</a> <a id="3642" href="Leios.Protocol.html#B1-L49" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1650" data-hoverable="true" data-position="1650" data-target-file="Leios.Protocol.html">ToPropose</a><a id="3651" class="Symbol">)</a></div><div id="B4-LC4" class="code-line">          <a id="3663" class="Keyword">in</a></div><div id="B4-LC5" class="code-line">          <a id="3676" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="3678" href="Leios.VRF.html#B1-L37" class="Function type-hoverable" data-original-href="Leios.VRF.html#1245" data-hoverable="true" data-position="1245" data-target-file="Leios.VRF.html">canProduceIB</a> <a id="3691" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="3696" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#730" data-hoverable="true" data-position="730" data-target-file="Leios.SpecStructure.html">sk-IB</a> <a id="3702" class="Symbol">(</a><a id="3703" href="Leios.Protocol.html#B1-L145" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4757" data-hoverable="true" data-position="4757" data-target-file="Leios.Protocol.html">stake</a> <a id="3709" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="3710" class="Symbol">)</a> <a id="3712" href="Leios.Short.html#1832" class="Generalizable">π</a></div><div id="B4-LC6" class="code-line">          <a id="3724" href="Prelude.InferenceRules.html#B1-L160" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#11316" data-hoverable="true" data-position="11316" data-target-file="Prelude.InferenceRules.html">─────────────────────────────────────────────────────────────────────────</a></div><div id="B4-LC7" class="code-line">          <a id="3808" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="3810" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">↝</a> <a id="3812" class="Symbol">(</a><a id="3813" href="Leios.Protocol.html#B1-L113" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3830" data-hoverable="true" data-position="3830" data-target-file="Leios.Protocol.html">addUpkeep</a> <a id="3823" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="3825" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a> <a id="3833" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="3835" href="Agda.Builtin.Maybe.html#B1-L6" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#173" data-hoverable="true" data-position="173" data-target-file="Agda.Builtin.Maybe.html">just</a> <a id="3840" class="Symbol">(</a><a id="3841" href="Leios.FFD.html#B1-L15" class="InductiveConstructor type-hoverable" data-original-href="Leios.FFD.html#311" data-hoverable="true" data-position="311" data-target-file="Leios.FFD.html">Send</a> <a id="3846" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#3601" data-hoverable="true" data-position="3601" data-target-file="Leios.Short.html">h</a> <a id="3848" class="Symbol">(</a><a id="3849" href="Agda.Builtin.Maybe.html#B1-L6" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#173" data-hoverable="true" data-position="173" data-target-file="Agda.Builtin.Maybe.html">just</a> <a id="3854" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#3545" data-hoverable="true" data-position="3545" data-target-file="Leios.Short.html">b</a><a id="3855" class="Symbol">)))</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
When η = 0 there is no indirect ledger inclusion; in case η &gt; 0
earlier EBs might be referenced (Full-Short Leios).
<pre class="Agda has-copy-button" id="B5"><div class="code-container"><div class="line-numbers"><a href="#B5-L1" id="B5-L1" class="line-number" data-line-number="1" data-block-id="B5">1</a><a href="#B5-L2" id="B5-L2" class="line-number" data-line-number="2" data-block-id="B5">2</a><a href="#B5-L3" id="B5-L3" class="line-number" data-line-number="3" data-block-id="B5">3</a><a href="#B5-L4" id="B5-L4" class="line-number" data-line-number="4" data-block-id="B5">4</a><a href="#B5-L5" id="B5-L5" class="line-number" data-line-number="5" data-block-id="B5">5</a><a href="#B5-L6" id="B5-L6" class="line-number" data-line-number="6" data-block-id="B5">6</a><a href="#B5-L7" id="B5-L7" class="line-number" data-line-number="7" data-block-id="B5">7</a><a href="#B5-L8" id="B5-L8" class="line-number" data-line-number="8" data-block-id="B5">8</a><a href="#B5-L9" id="B5-L9" class="line-number" data-line-number="9" data-block-id="B5">9</a><a href="#B5-L10" id="B5-L10" class="line-number" data-line-number="10" data-block-id="B5">10</a><a href="#B5-L11" id="B5-L11" class="line-number" data-line-number="11" data-block-id="B5">11</a><a href="#B5-L12" id="B5-L12" class="line-number" data-line-number="12" data-block-id="B5">12</a><a href="#B5-L13" id="B5-L13" class="line-number" data-line-number="13" data-block-id="B5">13</a><a href="#B5-L14" id="B5-L14" class="line-number" data-line-number="14" data-block-id="B5">14</a><a href="#B5-L15" id="B5-L15" class="line-number" data-line-number="15" data-block-id="B5">15</a><a href="#B5-L16" id="B5-L16" class="line-number" data-line-number="16" data-block-id="B5">16</a></div><div class="code-content"><div id="B5-LC1" class="code-line">  <a id="_↝_.EB-Role"></a><a id="3989" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#3989" data-hoverable="true" data-position="3989" data-target-file="Leios.Short.html">EB-Role</a> <a id="3997" class="Symbol">:</a> <a id="3999" class="Keyword">let</a> <a id="4003" class="Keyword">open</a> <a id="4008" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="4019" href="Leios.Short.html#1759" class="Generalizable">s</a></div><div id="B5-LC2" class="code-line">                <a id="4037" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#4037" data-hoverable="true" data-position="4037" data-target-file="Leios.Short.html">ibs</a> <a id="4041" class="Symbol">=</a> <a id="4043" href="Data.List.Base.html#B1-L377" class="Function type-hoverable" data-original-href="Data.List.Base.html#10687" data-hoverable="true" data-position="10687" data-target-file="Data.List.Base.html">L.filter</a> <a id="4052" class="Symbol">(</a><a id="4053" href="Leios.Short.html#B1-L5" class="Function type-hoverable" data-original-href="Leios.Short.html#2680" data-hoverable="true" data-position="2680" data-target-file="Leios.Short.html">IBSelection?</a> <a id="4066" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="4068" href="Leios.Abstract.html#B1-L33" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1064" data-hoverable="true" data-position="1064" data-target-file="Leios.Abstract.html">Late-IB-Inclusion</a><a id="4085" class="Symbol">)</a> <a id="4087" href="Leios.Protocol.html#B1-L50" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1681" data-hoverable="true" data-position="1681" data-target-file="Leios.Protocol.html">IBs</a></div><div id="B5-LC3" class="code-line">                <a id="4107" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#4107" data-hoverable="true" data-position="4107" data-target-file="Leios.Short.html">LI</a>  <a id="4111" class="Symbol">=</a> <a id="4113" href="abstract-set-theory.Prelude.html#B1-L53" class="Function type-hoverable" data-original-href="abstract-set-theory.Prelude.html#1824" data-hoverable="true" data-position="1824" data-target-file="abstract-set-theory.Prelude.html">map</a> <a id="4117" href="Leios.Blocks.html#B1-L95" class="Function type-hoverable" data-original-href="Leios.Blocks.html#2717" data-hoverable="true" data-position="2717" data-target-file="Leios.Blocks.html">getIBRef</a> <a id="4126" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#4037" data-hoverable="true" data-position="4037" data-target-file="Leios.Short.html">ibs</a></div><div id="B5-LC4" class="code-line">                <a id="4146" href="Leios.Short.html#B1-L4" class="Bound type-hoverable" data-original-href="Leios.Short.html#4146" data-hoverable="true" data-position="4146" data-target-file="Leios.Short.html">LE</a>  <a id="4150" class="Symbol">=</a> <a id="4152" href="abstract-set-theory.Prelude.html#B1-L53" class="Function type-hoverable" data-original-href="abstract-set-theory.Prelude.html#1824" data-hoverable="true" data-position="1824" data-target-file="abstract-set-theory.Prelude.html">map</a> <a id="4156" href="Leios.Blocks.html#B1-L137" class="Function type-hoverable" data-original-href="Leios.Blocks.html#4281" data-hoverable="true" data-position="4281" data-target-file="Leios.Blocks.html">getEBRef</a> <a id="4165" href="Leios.Short.html#2123" class="Generalizable">ebs</a></div><div id="B5-LC5" class="code-line">                <a id="4185" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#4185" data-hoverable="true" data-position="4185" data-target-file="Leios.Short.html">h</a>   <a id="4189" class="Symbol">=</a> <a id="4191" href="Leios.Blocks.html#B1-L124" class="Function type-hoverable" data-original-href="Leios.Blocks.html#3777" data-hoverable="true" data-position="3777" data-target-file="Leios.Blocks.html">mkEB</a> <a id="4196" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="4201" href="Leios.SpecStructure.html#B1-L26" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#601" data-hoverable="true" data-position="601" data-target-file="Leios.SpecStructure.html">id</a> <a id="4204" href="Leios.Short.html#1832" class="Generalizable">π</a> <a id="4206" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#736" data-hoverable="true" data-position="736" data-target-file="Leios.SpecStructure.html">sk-EB</a> <a id="4212" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a> <a id="4215" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#4107" data-hoverable="true" data-position="4107" data-target-file="Leios.Short.html">LI</a> <a id="4218" href="Leios.Short.html#B1-L4" class="Bound type-hoverable" data-original-href="Leios.Short.html#4146" data-hoverable="true" data-position="4146" data-target-file="Leios.Short.html">LE</a></div><div id="B5-LC6" class="code-line">                <a id="4237" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#4237" data-hoverable="true" data-position="4237" data-target-file="Leios.Short.html">P</a>   <a id="4241" class="Symbol">=</a> <a id="4243" class="Symbol">λ</a> <a id="4245" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#4245" data-hoverable="true" data-position="4245" data-target-file="Leios.Short.html">x</a> <a id="4247" class="Symbol">→</a> <a id="4249" href="Leios.Short.html#1601" class="Function">isVoteCertified</a> <a id="4265" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="4267" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#4245" data-hoverable="true" data-position="4245" data-target-file="Leios.Short.html">x</a></div><div id="B5-LC7" class="code-line">                         <a id="4294" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="4296" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#4245" data-hoverable="true" data-position="4245" data-target-file="Leios.Short.html">x</a> <a id="4298" href="abstract-set-theory.Prelude.html#B1-L18" class="Function Operator type-hoverable" data-original-href="abstract-set-theory.Prelude.html#563" data-hoverable="true" data-position="563" data-target-file="abstract-set-theory.Prelude.html">∈ˡ</a> <a id="4301" href="Leios.Protocol.html#B1-L68" class="Function type-hoverable" data-original-href="Leios.Protocol.html#2363" data-hoverable="true" data-position="2363" data-target-file="Leios.Protocol.html">EBs</a></div><div id="B5-LC8" class="code-line">                         <a id="4330" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="4332" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#4245" data-hoverable="true" data-position="4245" data-target-file="Leios.Short.html">x</a> <a id="4334" href="Leios.Blocks.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Leios.Blocks.html#770" data-hoverable="true" data-position="770" data-target-file="Leios.Blocks.html">∈ᴮ</a> <a id="4337" href="Leios.Prelude.html#B1-L51" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1475" data-hoverable="true" data-position="1475" data-target-file="Leios.Prelude.html">slices</a> <a id="4344" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="4346" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="4351" class="Number">2</a> <a id="4353" class="Symbol">(</a><a id="4354" class="Number">3</a> <a id="4356" href="Agda.Builtin.Nat.html#B1-L31" class="Primitive Operator type-hoverable" data-original-href="Agda.Builtin.Nat.html#539" data-hoverable="true" data-position="539" data-target-file="Agda.Builtin.Nat.html">*</a> <a id="4358" href="Leios.Abstract.html#B1-L32" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1050" data-hoverable="true" data-position="1050" data-target-file="Leios.Abstract.html">η</a> <a id="4360" href="Data.Nat.Base.html#B1-L317" class="Function Operator type-hoverable" data-original-href="Data.Nat.Base.html#7096" data-hoverable="true" data-position="7096" data-target-file="Data.Nat.Base.html">/</a> <a id="4362" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a><a id="4363" class="Symbol">)</a></div><div id="B5-LC9" class="code-line">                <a id="4381" href="Leios.Short.html#B1-L9" class="Bound type-hoverable" data-original-href="Leios.Short.html#4381" data-hoverable="true" data-position="4381" data-target-file="Leios.Short.html">slots</a> <a id="4387" class="Symbol">=</a> <a id="4389" href="abstract-set-theory.Prelude.html#B1-L53" class="Function type-hoverable" data-original-href="abstract-set-theory.Prelude.html#1824" data-hoverable="true" data-position="1824" data-target-file="abstract-set-theory.Prelude.html">map</a> <a id="4393" href="Leios.Blocks.html#B1-L21" class="Field type-hoverable" data-original-href="Leios.Blocks.html#640" data-hoverable="true" data-position="640" data-target-file="Leios.Blocks.html">slotNumber</a></div><div id="B5-LC10" class="code-line">          <a id="4414" class="Keyword">in</a></div><div id="B5-LC11" class="code-line">          <a id="4427" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="4429" href="Leios.Protocol.html#B1-L92" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3063" data-hoverable="true" data-position="3063" data-target-file="Leios.Protocol.html">needsUpkeep</a> <a id="4441" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1139" data-hoverable="true" data-position="1139" data-target-file="Leios.Short.html">EB-Role</a></div><div id="B5-LC12" class="code-line">          <a id="4459" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="4461" href="Leios.VRF.html#B1-L49" class="Function type-hoverable" data-original-href="Leios.VRF.html#1849" data-hoverable="true" data-position="1849" data-target-file="Leios.VRF.html">canProduceEB</a> <a id="4474" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="4479" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#736" data-hoverable="true" data-position="736" data-target-file="Leios.SpecStructure.html">sk-EB</a> <a id="4485" class="Symbol">(</a><a id="4486" href="Leios.Protocol.html#B1-L145" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4757" data-hoverable="true" data-position="4757" data-target-file="Leios.Protocol.html">stake</a> <a id="4492" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="4493" class="Symbol">)</a> <a id="4495" href="Leios.Short.html#1832" class="Generalizable">π</a></div><div id="B5-LC13" class="code-line">          <a id="4507" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="4509" href="Data.List.Relation.Unary.All.html#B1-L48" class="Datatype type-hoverable" data-original-href="Data.List.Relation.Unary.All.html#1639" data-hoverable="true" data-position="1639" data-target-file="Data.List.Relation.Unary.All.html">All.All</a> <a id="4517" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#4237" data-hoverable="true" data-position="4237" data-target-file="Leios.Short.html">P</a> <a id="4519" href="Leios.Short.html#2123" class="Generalizable">ebs</a></div><div id="B5-LC14" class="code-line">          <a id="4533" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="4535" href="Data.List.Relation.Unary.Unique.Setoid.html#B1-L25" class="Datatype type-hoverable" data-original-href="Data.List.Relation.Unary.Unique.Setoid.html#785" data-hoverable="true" data-position="785" data-target-file="Data.List.Relation.Unary.Unique.Setoid.html">Unique</a> <a id="4542" class="Symbol">(</a><a id="4543" href="Leios.Short.html#B1-L9" class="Bound type-hoverable" data-original-href="Leios.Short.html#4381" data-hoverable="true" data-position="4381" data-target-file="Leios.Short.html">slots</a> <a id="4549" href="Leios.Short.html#2123" class="Generalizable">ebs</a><a id="4552" class="Symbol">)</a> <a id="4554" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="4556" href="Axiom.Set.html#B1-L169" class="Function type-hoverable" data-original-href="Axiom.Set.html#5718" data-hoverable="true" data-position="5718" data-target-file="Axiom.Set.html">fromList</a> <a id="4565" class="Symbol">(</a><a id="4566" href="Leios.Short.html#B1-L9" class="Bound type-hoverable" data-original-href="Leios.Short.html#4381" data-hoverable="true" data-position="4381" data-target-file="Leios.Short.html">slots</a> <a id="4572" href="Leios.Short.html#2123" class="Generalizable">ebs</a><a id="4575" class="Symbol">)</a> <a id="4577" href="Axiom.Set.html#B1-L76" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#2587" data-hoverable="true" data-position="2587" data-target-file="Axiom.Set.html">≡ᵉ</a> <a id="4580" href="Axiom.Set.html#B1-L169" class="Function type-hoverable" data-original-href="Axiom.Set.html#5718" data-hoverable="true" data-position="5718" data-target-file="Axiom.Set.html">fromList</a> <a id="4589" class="Symbol">(</a><a id="4590" href="Leios.Short.html#B1-L9" class="Bound type-hoverable" data-original-href="Leios.Short.html#4381" data-hoverable="true" data-position="4381" data-target-file="Leios.Short.html">slots</a> <a id="4596" class="Symbol">(</a><a id="4597" href="Leios.Prelude.html#B1-L54" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1588" data-hoverable="true" data-position="1588" data-target-file="Leios.Prelude.html">filter</a> <a id="4604" href="Leios.Short.html#B1-L6" class="Bound type-hoverable" data-original-href="Leios.Short.html#4237" data-hoverable="true" data-position="4237" data-target-file="Leios.Short.html">P</a> <a id="4606" href="Leios.Protocol.html#B1-L68" class="Function type-hoverable" data-original-href="Leios.Protocol.html#2363" data-hoverable="true" data-position="2363" data-target-file="Leios.Protocol.html">EBs</a><a id="4609" class="Symbol">))</a></div><div id="B5-LC15" class="code-line">          <a id="4622" href="Prelude.InferenceRules.html#B1-L160" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#11316" data-hoverable="true" data-position="11316" data-target-file="Prelude.InferenceRules.html">─────────────────────────────────────────────────────────────────────────</a></div><div id="B5-LC16" class="code-line">          <a id="4706" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="4708" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">↝</a> <a id="4710" class="Symbol">(</a><a id="4711" href="Leios.Protocol.html#B1-L113" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3830" data-hoverable="true" data-position="3830" data-target-file="Leios.Protocol.html">addUpkeep</a> <a id="4721" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="4723" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1139" data-hoverable="true" data-position="1139" data-target-file="Leios.Short.html">EB-Role</a> <a id="4731" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="4733" href="Agda.Builtin.Maybe.html#B1-L6" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#173" data-hoverable="true" data-position="173" data-target-file="Agda.Builtin.Maybe.html">just</a> <a id="4738" class="Symbol">(</a><a id="4739" href="Leios.FFD.html#B1-L15" class="InductiveConstructor type-hoverable" data-original-href="Leios.FFD.html#311" data-hoverable="true" data-position="311" data-target-file="Leios.FFD.html">Send</a> <a id="4744" class="Symbol">(</a><a id="4745" href="Leios.Blocks.html#B1-L148" class="InductiveConstructor type-hoverable" data-original-href="Leios.Blocks.html#4668" data-hoverable="true" data-position="4668" data-target-file="Leios.Blocks.html">ebHeader</a> <a id="4754" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#4185" data-hoverable="true" data-position="4185" data-target-file="Leios.Short.html">h</a><a id="4755" class="Symbol">)</a> <a id="4757" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a><a id="4764" class="Symbol">))</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<pre class="Agda has-copy-button" id="B6"><div class="code-container"><div class="line-numbers"><a href="#B6-L1" id="B6-L1" class="line-number" data-line-number="1" data-block-id="B6">1</a><a href="#B6-L2" id="B6-L2" class="line-number" data-line-number="2" data-block-id="B6">2</a><a href="#B6-L3" id="B6-L3" class="line-number" data-line-number="3" data-block-id="B6">3</a><a href="#B6-L4" id="B6-L4" class="line-number" data-line-number="4" data-block-id="B6">4</a><a href="#B6-L5" id="B6-L5" class="line-number" data-line-number="5" data-block-id="B6">5</a><a href="#B6-L6" id="B6-L6" class="line-number" data-line-number="6" data-block-id="B6">6</a><a href="#B6-L7" id="B6-L7" class="line-number" data-line-number="7" data-block-id="B6">7</a><a href="#B6-L8" id="B6-L8" class="line-number" data-line-number="8" data-block-id="B6">8</a></div><div class="code-content"><div id="B6-LC1" class="code-line">  <a id="_↝_.VT-Role"></a><a id="4781" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#4781" data-hoverable="true" data-position="4781" data-target-file="Leios.Short.html">VT-Role</a> <a id="4789" class="Symbol">:</a> <a id="4791" class="Keyword">let</a> <a id="4795" class="Keyword">open</a> <a id="4800" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="4811" href="Leios.Short.html#1759" class="Generalizable">s</a></div><div id="B6-LC2" class="code-line">                <a id="4829" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#4829" data-hoverable="true" data-position="4829" data-target-file="Leios.Short.html">EBs'</a> <a id="4834" class="Symbol">=</a> <a id="4836" href="Leios.Prelude.html#B1-L54" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1588" data-hoverable="true" data-position="1588" data-target-file="Leios.Prelude.html">filter</a> <a id="4843" class="Symbol">(</a><a id="4844" href="Leios.Protocol.html#B1-L249" class="Function type-hoverable" data-original-href="Leios.Protocol.html#8272" data-hoverable="true" data-position="8272" data-target-file="Leios.Protocol.html">allIBRefsKnown</a> <a id="4859" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="4860" class="Symbol">)</a> <a id="4862" href="Function.Base.html#B1-L77" class="Function Operator type-hoverable" data-original-href="Function.Base.html#1974" data-hoverable="true" data-position="1974" data-target-file="Function.Base.html">$</a> <a id="4864" href="Leios.Prelude.html#B1-L54" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1588" data-hoverable="true" data-position="1588" data-target-file="Leios.Prelude.html">filter</a> <a id="4871" class="Symbol">(</a><a id="4872" href="Leios.Blocks.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Leios.Blocks.html#770" data-hoverable="true" data-position="770" data-target-file="Leios.Blocks.html">_∈ᴮ</a> <a id="4876" href="Leios.Prelude.html#B1-L45" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1209" data-hoverable="true" data-position="1209" data-target-file="Leios.Prelude.html">slice</a> <a id="4882" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="4884" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="4889" class="Number">1</a><a id="4890" class="Symbol">)</a> <a id="4892" href="Leios.Protocol.html#B1-L68" class="Function type-hoverable" data-original-href="Leios.Protocol.html#2363" data-hoverable="true" data-position="2363" data-target-file="Leios.Protocol.html">EBs</a></div><div id="B6-LC3" class="code-line">                <a id="4912" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#4912" data-hoverable="true" data-position="4912" data-target-file="Leios.Short.html">votes</a> <a id="4918" class="Symbol">=</a> <a id="4920" href="abstract-set-theory.Prelude.html#B1-L53" class="Function type-hoverable" data-original-href="abstract-set-theory.Prelude.html#1824" data-hoverable="true" data-position="1824" data-target-file="abstract-set-theory.Prelude.html">map</a> <a id="4924" class="Symbol">(</a><a id="4925" href="Leios.Abstract.html#B1-L26" class="Function type-hoverable" data-original-href="Leios.Abstract.html#844" data-hoverable="true" data-position="844" data-target-file="Leios.Abstract.html">vote</a> <a id="4930" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#742" data-hoverable="true" data-position="742" data-target-file="Leios.SpecStructure.html">sk-VT</a> <a id="4936" href="Function.Base.html#B1-L52" class="Function Operator type-hoverable" data-original-href="Function.Base.html#1115" data-hoverable="true" data-position="1115" data-target-file="Function.Base.html">∘</a> <a id="4938" href="Class.Hashable.html#B1-L7" class="Field type-hoverable" data-original-href="Class.Hashable.html#167" data-hoverable="true" data-position="167" data-target-file="Class.Hashable.html">hash</a><a id="4942" class="Symbol">)</a> <a id="4944" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#4829" data-hoverable="true" data-position="4829" data-target-file="Leios.Short.html">EBs'</a></div><div id="B6-LC4" class="code-line">          <a id="4959" class="Keyword">in</a></div><div id="B6-LC5" class="code-line">          <a id="4972" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="4974" href="Leios.Protocol.html#B1-L95" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3123" data-hoverable="true" data-position="3123" data-target-file="Leios.Protocol.html">needsUpkeep-Stage</a> <a id="4992" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a></div><div id="B6-LC6" class="code-line">          <a id="5010" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="5012" href="Leios.VRF.html#B1-L61" class="Function type-hoverable" data-original-href="Leios.VRF.html#2453" data-hoverable="true" data-position="2453" data-target-file="Leios.VRF.html">canProduceV</a> <a id="5024" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="5029" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#742" data-hoverable="true" data-position="742" data-target-file="Leios.SpecStructure.html">sk-VT</a> <a id="5035" class="Symbol">(</a><a id="5036" href="Leios.Protocol.html#B1-L145" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4757" data-hoverable="true" data-position="4757" data-target-file="Leios.Protocol.html">stake</a> <a id="5042" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="5043" class="Symbol">)</a></div><div id="B6-LC7" class="code-line">          <a id="5055" href="Prelude.InferenceRules.html#B1-L160" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#11316" data-hoverable="true" data-position="11316" data-target-file="Prelude.InferenceRules.html">─────────────────────────────────────────────────────────────────────────</a></div><div id="B6-LC8" class="code-line">          <a id="5139" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5141" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">↝</a> <a id="5143" class="Symbol">(</a><a id="5144" href="Leios.Protocol.html#B1-L117" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4000" data-hoverable="true" data-position="4000" data-target-file="Leios.Protocol.html">addUpkeep-Stage</a> <a id="5160" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5162" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a> <a id="5170" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="5172" href="Agda.Builtin.Maybe.html#B1-L6" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#173" data-hoverable="true" data-position="173" data-target-file="Agda.Builtin.Maybe.html">just</a> <a id="5177" class="Symbol">(</a><a id="5178" href="Leios.FFD.html#B1-L15" class="InductiveConstructor type-hoverable" data-original-href="Leios.FFD.html#311" data-hoverable="true" data-position="311" data-target-file="Leios.FFD.html">Send</a> <a id="5183" class="Symbol">(</a><a id="5184" href="Leios.Blocks.html#B1-L149" class="InductiveConstructor type-hoverable" data-original-href="Leios.Blocks.html#4706" data-hoverable="true" data-position="4706" data-target-file="Leios.Blocks.html">vtHeader</a> <a id="5193" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#4912" data-hoverable="true" data-position="4912" data-target-file="Leios.Short.html">votes</a><a id="5198" class="Symbol">)</a> <a id="5200" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a><a id="5207" class="Symbol">))</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<h4 id="negative-rules">Negative rules</h4>
<pre class="Agda has-copy-button" id="B7"><div class="code-container"><div class="line-numbers"><a href="#B7-L1" id="B7-L1" class="line-number" data-line-number="1" data-block-id="B7">1</a><a href="#B7-L2" id="B7-L2" class="line-number" data-line-number="2" data-block-id="B7">2</a><a href="#B7-L3" id="B7-L3" class="line-number" data-line-number="3" data-block-id="B7">3</a><a href="#B7-L4" id="B7-L4" class="line-number" data-line-number="4" data-block-id="B7">4</a><a href="#B7-L5" id="B7-L5" class="line-number" data-line-number="5" data-block-id="B7">5</a></div><div class="code-content"><div id="B7-LC1" class="code-line">  <a id="_↝_.No-IB-Role"></a><a id="5244" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#5244" data-hoverable="true" data-position="5244" data-target-file="Leios.Short.html">No-IB-Role</a> <a id="5255" class="Symbol">:</a> <a id="5257" class="Keyword">let</a> <a id="5261" class="Keyword">open</a> <a id="5266" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="5277" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5279" class="Keyword">in</a></div><div id="B7-LC2" class="code-line">             <a id="5295" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="5297" href="Leios.Protocol.html#B1-L92" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3063" data-hoverable="true" data-position="3063" data-target-file="Leios.Protocol.html">needsUpkeep</a> <a id="5309" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a></div><div id="B7-LC3" class="code-line">             <a id="5330" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="5332" class="Symbol">(∀</a> <a id="5335" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#5335" data-hoverable="true" data-position="5335" data-target-file="Leios.Short.html">π</a> <a id="5337" class="Symbol">→</a> <a id="5339" href="Relation.Nullary.Negation.Core.html#B1-L26" class="Function Operator type-hoverable" data-original-href="Relation.Nullary.Negation.Core.html#658" data-hoverable="true" data-position="658" data-target-file="Relation.Nullary.Negation.Core.html">¬</a> <a id="5341" href="Leios.VRF.html#B1-L37" class="Function type-hoverable" data-original-href="Leios.VRF.html#1245" data-hoverable="true" data-position="1245" data-target-file="Leios.VRF.html">canProduceIB</a> <a id="5354" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="5359" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#730" data-hoverable="true" data-position="730" data-target-file="Leios.SpecStructure.html">sk-IB</a> <a id="5365" class="Symbol">(</a><a id="5366" href="Leios.Protocol.html#B1-L145" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4757" data-hoverable="true" data-position="4757" data-target-file="Leios.Protocol.html">stake</a> <a id="5372" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="5373" class="Symbol">)</a> <a id="5375" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#5335" data-hoverable="true" data-position="5335" data-target-file="Leios.Short.html">π</a><a id="5376" class="Symbol">)</a></div><div id="B7-LC4" class="code-line">             <a id="5391" href="Prelude.InferenceRules.html#B1-L188" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#13122" data-hoverable="true" data-position="13122" data-target-file="Prelude.InferenceRules.html">─────────────────────────────────────────────</a></div><div id="B7-LC5" class="code-line">             <a id="5450" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5452" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">↝</a> <a id="5454" class="Symbol">(</a><a id="5455" href="Leios.Protocol.html#B1-L113" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3830" data-hoverable="true" data-position="3830" data-target-file="Leios.Protocol.html">addUpkeep</a> <a id="5465" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5467" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a> <a id="5475" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="5477" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a><a id="5484" class="Symbol">)</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<pre class="Agda has-copy-button" id="B8"><div class="code-container"><div class="line-numbers"><a href="#B8-L1" id="B8-L1" class="line-number" data-line-number="1" data-block-id="B8">1</a><a href="#B8-L2" id="B8-L2" class="line-number" data-line-number="2" data-block-id="B8">2</a><a href="#B8-L3" id="B8-L3" class="line-number" data-line-number="3" data-block-id="B8">3</a><a href="#B8-L4" id="B8-L4" class="line-number" data-line-number="4" data-block-id="B8">4</a><a href="#B8-L5" id="B8-L5" class="line-number" data-line-number="5" data-block-id="B8">5</a></div><div class="code-content"><div id="B8-LC1" class="code-line">  <a id="_↝_.No-EB-Role"></a><a id="5500" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#5500" data-hoverable="true" data-position="5500" data-target-file="Leios.Short.html">No-EB-Role</a> <a id="5511" class="Symbol">:</a> <a id="5513" class="Keyword">let</a> <a id="5517" class="Keyword">open</a> <a id="5522" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="5533" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5535" class="Keyword">in</a></div><div id="B8-LC2" class="code-line">             <a id="5551" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="5553" href="Leios.Protocol.html#B1-L92" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3063" data-hoverable="true" data-position="3063" data-target-file="Leios.Protocol.html">needsUpkeep</a> <a id="5565" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1139" data-hoverable="true" data-position="1139" data-target-file="Leios.Short.html">EB-Role</a></div><div id="B8-LC3" class="code-line">             <a id="5586" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="5588" class="Symbol">(∀</a> <a id="5591" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#5591" data-hoverable="true" data-position="5591" data-target-file="Leios.Short.html">π</a> <a id="5593" class="Symbol">→</a> <a id="5595" href="Relation.Nullary.Negation.Core.html#B1-L26" class="Function Operator type-hoverable" data-original-href="Relation.Nullary.Negation.Core.html#658" data-hoverable="true" data-position="658" data-target-file="Relation.Nullary.Negation.Core.html">¬</a> <a id="5597" href="Leios.VRF.html#B1-L49" class="Function type-hoverable" data-original-href="Leios.VRF.html#1849" data-hoverable="true" data-position="1849" data-target-file="Leios.VRF.html">canProduceEB</a> <a id="5610" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="5615" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#736" data-hoverable="true" data-position="736" data-target-file="Leios.SpecStructure.html">sk-EB</a> <a id="5621" class="Symbol">(</a><a id="5622" href="Leios.Protocol.html#B1-L145" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4757" data-hoverable="true" data-position="4757" data-target-file="Leios.Protocol.html">stake</a> <a id="5628" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="5629" class="Symbol">)</a> <a id="5631" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#5591" data-hoverable="true" data-position="5591" data-target-file="Leios.Short.html">π</a><a id="5632" class="Symbol">)</a></div><div id="B8-LC4" class="code-line">             <a id="5647" href="Prelude.InferenceRules.html#B1-L188" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#13122" data-hoverable="true" data-position="13122" data-target-file="Prelude.InferenceRules.html">─────────────────────────────────────────────</a></div><div id="B8-LC5" class="code-line">             <a id="5706" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5708" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">↝</a> <a id="5710" class="Symbol">(</a><a id="5711" href="Leios.Protocol.html#B1-L113" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3830" data-hoverable="true" data-position="3830" data-target-file="Leios.Protocol.html">addUpkeep</a> <a id="5721" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5723" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1139" data-hoverable="true" data-position="1139" data-target-file="Leios.Short.html">EB-Role</a> <a id="5731" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="5733" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a><a id="5740" class="Symbol">)</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<pre class="Agda has-copy-button" id="B9"><div class="code-container"><div class="line-numbers"><a href="#B9-L1" id="B9-L1" class="line-number" data-line-number="1" data-block-id="B9">1</a><a href="#B9-L2" id="B9-L2" class="line-number" data-line-number="2" data-block-id="B9">2</a><a href="#B9-L3" id="B9-L3" class="line-number" data-line-number="3" data-block-id="B9">3</a><a href="#B9-L4" id="B9-L4" class="line-number" data-line-number="4" data-block-id="B9">4</a><a href="#B9-L5" id="B9-L5" class="line-number" data-line-number="5" data-block-id="B9">5</a></div><div class="code-content"><div id="B9-LC1" class="code-line">  <a id="_↝_.No-VT-Role"></a><a id="5756" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#5756" data-hoverable="true" data-position="5756" data-target-file="Leios.Short.html">No-VT-Role</a> <a id="5767" class="Symbol">:</a> <a id="5769" class="Keyword">let</a> <a id="5773" class="Keyword">open</a> <a id="5778" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="5789" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5791" class="Keyword">in</a></div><div id="B9-LC2" class="code-line">             <a id="5807" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="5809" href="Leios.Protocol.html#B1-L95" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3123" data-hoverable="true" data-position="3123" data-target-file="Leios.Protocol.html">needsUpkeep-Stage</a> <a id="5827" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a></div><div id="B9-LC3" class="code-line">             <a id="5848" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="5850" href="Relation.Nullary.Negation.Core.html#B1-L26" class="Function Operator type-hoverable" data-original-href="Relation.Nullary.Negation.Core.html#658" data-hoverable="true" data-position="658" data-target-file="Relation.Nullary.Negation.Core.html">¬</a> <a id="5852" href="Leios.VRF.html#B1-L61" class="Function type-hoverable" data-original-href="Leios.VRF.html#2453" data-hoverable="true" data-position="2453" data-target-file="Leios.VRF.html">canProduceV</a> <a id="5864" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="5869" href="Leios.SpecStructure.html#B1-L32" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#742" data-hoverable="true" data-position="742" data-target-file="Leios.SpecStructure.html">sk-VT</a> <a id="5875" class="Symbol">(</a><a id="5876" href="Leios.Protocol.html#B1-L145" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4757" data-hoverable="true" data-position="4757" data-target-file="Leios.Protocol.html">stake</a> <a id="5882" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="5883" class="Symbol">)</a></div><div id="B9-LC4" class="code-line">             <a id="5898" href="Prelude.InferenceRules.html#B1-L188" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#13122" data-hoverable="true" data-position="13122" data-target-file="Prelude.InferenceRules.html">─────────────────────────────────────────────</a></div><div id="B9-LC5" class="code-line">             <a id="5957" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5959" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">↝</a> <a id="5961" class="Symbol">(</a><a id="5962" href="Leios.Protocol.html#B1-L117" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4000" data-hoverable="true" data-position="4000" data-target-file="Leios.Protocol.html">addUpkeep-Stage</a> <a id="5978" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5980" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a> <a id="5988" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="5990" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a><a id="5997" class="Symbol">)</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<h3 id="uniform-short-pipeline">Uniform short-pipeline</h3>
<pre class="Agda has-copy-button" id="B10"><div class="code-container"><div class="line-numbers"><a href="#B10-L1" id="B10-L1" class="line-number" data-line-number="1" data-block-id="B10">1</a><a href="#B10-L2" id="B10-L2" class="line-number" data-line-number="2" data-block-id="B10">2</a><a href="#B10-L3" id="B10-L3" class="line-number" data-line-number="3" data-block-id="B10">3</a><a href="#B10-L4" id="B10-L4" class="line-number" data-line-number="4" data-block-id="B10">4</a><a href="#B10-L5" id="B10-L5" class="line-number" data-line-number="5" data-block-id="B10">5</a><a href="#B10-L6" id="B10-L6" class="line-number" data-line-number="6" data-block-id="B10">6</a><a href="#B10-L7" id="B10-L7" class="line-number" data-line-number="7" data-block-id="B10">7</a><a href="#B10-L8" id="B10-L8" class="line-number" data-line-number="8" data-block-id="B10">8</a></div><div class="code-content"><div id="B10-LC1" class="code-line"><a id="stage"></a><a id="6038" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6044" class="Symbol">:</a> <a id="6046" href="Agda.Builtin.Nat.html#B1-L8" class="Datatype type-hoverable" data-original-href="Agda.Builtin.Nat.html#203" data-hoverable="true" data-position="203" data-target-file="Agda.Builtin.Nat.html">ℕ</a> <a id="6048" class="Symbol">→</a> <a id="6050" class="Symbol">⦃</a> <a id="6052" href="Leios.Short.html#B1-L1" class="Bound type-hoverable" data-original-href="Leios.Short.html#6052" data-hoverable="true" data-position="6052" data-target-file="Leios.Short.html">_</a> <a id="6054" class="Symbol">:</a> <a id="6056" href="Data.Nat.Base.html#B1-L116" class="Record type-hoverable" data-original-href="Data.Nat.Base.html#3260" data-hoverable="true" data-position="3260" data-target-file="Data.Nat.Base.html">NonZero</a> <a id="6064" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="6066" class="Symbol">⦄</a> <a id="6068" class="Symbol">→</a> <a id="6070" href="Agda.Builtin.Nat.html#B1-L8" class="Datatype type-hoverable" data-original-href="Agda.Builtin.Nat.html#203" data-hoverable="true" data-position="203" data-target-file="Agda.Builtin.Nat.html">ℕ</a></div><div id="B10-LC2" class="code-line"><a id="6072" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6078" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6078" data-hoverable="true" data-position="6078" data-target-file="Leios.Short.html">s</a> <a id="6080" class="Symbol">=</a> <a id="6082" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6078" data-hoverable="true" data-position="6078" data-target-file="Leios.Short.html">s</a> <a id="6084" href="Data.Nat.Base.html#B1-L317" class="Function Operator type-hoverable" data-original-href="Data.Nat.Base.html#7096" data-hoverable="true" data-position="7096" data-target-file="Data.Nat.Base.html">/</a> <a id="6086" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a></div><div id="B10-LC3" class="code-line">&nbsp;</div><div id="B10-LC4" class="code-line"><a id="beginningOfStage"></a><a id="6089" href="Leios.Short.html#B1-L4" class="Function type-hoverable" data-original-href="Leios.Short.html#6089" data-hoverable="true" data-position="6089" data-target-file="Leios.Short.html">beginningOfStage</a> <a id="6106" class="Symbol">:</a> <a id="6108" href="Agda.Builtin.Nat.html#B1-L8" class="Datatype type-hoverable" data-original-href="Agda.Builtin.Nat.html#203" data-hoverable="true" data-position="203" data-target-file="Agda.Builtin.Nat.html">ℕ</a> <a id="6110" class="Symbol">→</a> <a id="6112" href="Agda.Primitive.html#B1-L14" class="Primitive type-hoverable" data-original-href="Agda.Primitive.html#388" data-hoverable="true" data-position="388" data-target-file="Agda.Primitive.html">Type</a></div><div id="B10-LC5" class="code-line"><a id="6117" href="Leios.Short.html#B1-L4" class="Function type-hoverable" data-original-href="Leios.Short.html#6089" data-hoverable="true" data-position="6089" data-target-file="Leios.Short.html">beginningOfStage</a> <a id="6134" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#6134" data-hoverable="true" data-position="6134" data-target-file="Leios.Short.html">s</a> <a id="6136" class="Symbol">=</a> <a id="6138" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6144" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#6134" data-hoverable="true" data-position="6134" data-target-file="Leios.Short.html">s</a> <a id="6146" href="Agda.Builtin.Nat.html#B1-L31" class="Primitive Operator type-hoverable" data-original-href="Agda.Builtin.Nat.html#539" data-hoverable="true" data-position="539" data-target-file="Agda.Builtin.Nat.html">*</a> <a id="6148" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="6150" href="Agda.Builtin.Equality.html#B1-L6" class="Datatype Operator type-hoverable" data-original-href="Agda.Builtin.Equality.html#150" data-hoverable="true" data-position="150" data-target-file="Agda.Builtin.Equality.html">≡</a> <a id="6152" href="Leios.Short.html#B1-L5" class="Bound type-hoverable" data-original-href="Leios.Short.html#6134" data-hoverable="true" data-position="6134" data-target-file="Leios.Short.html">s</a></div><div id="B10-LC6" class="code-line">&nbsp;</div><div id="B10-LC7" class="code-line"><a id="endOfStage"></a><a id="6155" href="Leios.Short.html#B1-L7" class="Function type-hoverable" data-original-href="Leios.Short.html#6155" data-hoverable="true" data-position="6155" data-target-file="Leios.Short.html">endOfStage</a> <a id="6166" class="Symbol">:</a> <a id="6168" href="Agda.Builtin.Nat.html#B1-L8" class="Datatype type-hoverable" data-original-href="Agda.Builtin.Nat.html#203" data-hoverable="true" data-position="203" data-target-file="Agda.Builtin.Nat.html">ℕ</a> <a id="6170" class="Symbol">→</a> <a id="6172" href="Agda.Primitive.html#B1-L14" class="Primitive type-hoverable" data-original-href="Agda.Primitive.html#388" data-hoverable="true" data-position="388" data-target-file="Agda.Primitive.html">Type</a></div><div id="B10-LC8" class="code-line"><a id="6177" href="Leios.Short.html#B1-L7" class="Function type-hoverable" data-original-href="Leios.Short.html#6155" data-hoverable="true" data-position="6155" data-target-file="Leios.Short.html">endOfStage</a> <a id="6188" href="Leios.Short.html#B1-L8" class="Bound type-hoverable" data-original-href="Leios.Short.html#6188" data-hoverable="true" data-position="6188" data-target-file="Leios.Short.html">s</a> <a id="6190" class="Symbol">=</a> <a id="6192" href="Agda.Builtin.Nat.html#B1-L10" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Nat.html#234" data-hoverable="true" data-position="234" data-target-file="Agda.Builtin.Nat.html">suc</a> <a id="6196" class="Symbol">(</a><a id="6197" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6203" href="Leios.Short.html#B1-L8" class="Bound type-hoverable" data-original-href="Leios.Short.html#6188" data-hoverable="true" data-position="6188" data-target-file="Leios.Short.html">s</a><a id="6204" class="Symbol">)</a> <a id="6206" href="Agda.Builtin.Equality.html#B1-L6" class="Datatype Operator type-hoverable" data-original-href="Agda.Builtin.Equality.html#150" data-hoverable="true" data-position="150" data-target-file="Agda.Builtin.Equality.html">≡</a> <a id="6208" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6214" class="Symbol">(</a><a id="6215" href="Agda.Builtin.Nat.html#B1-L10" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Nat.html#234" data-hoverable="true" data-position="234" data-target-file="Agda.Builtin.Nat.html">suc</a> <a id="6219" href="Leios.Short.html#B1-L8" class="Bound type-hoverable" data-original-href="Leios.Short.html#6188" data-hoverable="true" data-position="6188" data-target-file="Leios.Short.html">s</a><a id="6220" class="Symbol">)</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
Predicate needed for slot transition. Special care needs to be taken
when starting from genesis.
<pre class="Agda has-copy-button" id="B11"><div class="code-container"><div class="line-numbers"><a href="#B11-L1" id="B11-L1" class="line-number" data-line-number="1" data-block-id="B11">1</a><a href="#B11-L2" id="B11-L2" class="line-number" data-line-number="2" data-block-id="B11">2</a><a href="#B11-L3" id="B11-L3" class="line-number" data-line-number="3" data-block-id="B11">3</a><a href="#B11-L4" id="B11-L4" class="line-number" data-line-number="4" data-block-id="B11">4</a><a href="#B11-L5" id="B11-L5" class="line-number" data-line-number="5" data-block-id="B11">5</a><a href="#B11-L6" id="B11-L6" class="line-number" data-line-number="6" data-block-id="B11">6</a><a href="#B11-L7" id="B11-L7" class="line-number" data-line-number="7" data-block-id="B11">7</a><a href="#B11-L8" id="B11-L8" class="line-number" data-line-number="8" data-block-id="B11">8</a><a href="#B11-L9" id="B11-L9" class="line-number" data-line-number="9" data-block-id="B11">9</a><a href="#B11-L10" id="B11-L10" class="line-number" data-line-number="10" data-block-id="B11">10</a><a href="#B11-L11" id="B11-L11" class="line-number" data-line-number="11" data-block-id="B11">11</a></div><div class="code-content"><div id="B11-LC1" class="code-line"><a id="allDone"></a><a id="6331" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6331" data-hoverable="true" data-position="6331" data-target-file="Leios.Short.html">allDone</a> <a id="6339" class="Symbol">:</a> <a id="6341" href="Leios.Protocol.html#B1-L45" class="Record type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="6352" class="Symbol">→</a> <a id="6354" href="Agda.Primitive.html#B1-L14" class="Primitive type-hoverable" data-original-href="Agda.Primitive.html#388" data-hoverable="true" data-position="388" data-target-file="Agda.Primitive.html">Type</a></div><div id="B11-LC2" class="code-line"><a id="6359" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6331" data-hoverable="true" data-position="6331" data-target-file="Leios.Short.html">allDone</a> <a id="6367" class="Keyword">record</a> <a id="6374" class="Symbol">{</a> <a id="6376" href="Leios.Protocol.html#B1-L56" class="Field type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="6381" class="Symbol">=</a> <a id="6383" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6385" class="Symbol">;</a> <a id="6387" href="Leios.Protocol.html#B1-L59" class="Field type-hoverable" data-original-href="Leios.Protocol.html#2019" data-hoverable="true" data-position="2019" data-target-file="Leios.Protocol.html">Upkeep</a> <a id="6394" class="Symbol">=</a> <a id="6396" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6396" data-hoverable="true" data-position="6396" data-target-file="Leios.Short.html">u</a> <a id="6398" class="Symbol">;</a> <a id="6400" href="Leios.Protocol.html#B1-L60" class="Field type-hoverable" data-original-href="Leios.Protocol.html#2055" data-hoverable="true" data-position="2055" data-target-file="Leios.Protocol.html">Upkeep-Stage</a> <a id="6413" class="Symbol">=</a> <a id="6415" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6415" data-hoverable="true" data-position="6415" data-target-file="Leios.Short.html">v</a> <a id="6417" class="Symbol">}</a> <a id="6419" class="Symbol">=</a></div><div id="B11-LC3" class="code-line">  <a id="6423" class="Comment">-- bootstrapping</a></div><div id="B11-LC4" class="code-line">    <a id="6444" class="Symbol">(</a><a id="6445" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6451" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6453" href="Class.HasOrder.Core.html#B1-L24" class="Field Operator type-hoverable" data-original-href="Class.HasOrder.Core.html#555" data-hoverable="true" data-position="555" data-target-file="Class.HasOrder.Core.html">&lt;</a> <a id="6455" class="Number">3</a> <a id="6457" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a>                        <a id="6482" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6396" data-hoverable="true" data-position="6396" data-target-file="Leios.Short.html">u</a> <a id="6484" href="Axiom.Set.html#B1-L76" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#2587" data-hoverable="true" data-position="2587" data-target-file="Axiom.Set.html">≡ᵉ</a> <a id="6487" href="Axiom.Set.html#B1-L169" class="Function type-hoverable" data-original-href="Axiom.Set.html#5718" data-hoverable="true" data-position="5718" data-target-file="Axiom.Set.html">fromList</a> <a id="6496" class="Symbol">(</a><a id="6497" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a>           <a id="6515" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6517" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a> <a id="6522" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6524" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a><a id="6526" class="Symbol">))</a></div><div id="B11-LC5" class="code-line">  <a id="6531" href="Data.Sum.Base.html#B1-L28" class="Datatype Operator type-hoverable" data-original-href="Data.Sum.Base.html#625" data-hoverable="true" data-position="625" data-target-file="Data.Sum.Base.html">⊎</a> <a id="6533" class="Symbol">(</a><a id="6534" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6540" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6542" href="Agda.Builtin.Equality.html#B1-L6" class="Datatype Operator type-hoverable" data-original-href="Agda.Builtin.Equality.html#150" data-hoverable="true" data-position="150" data-target-file="Agda.Builtin.Equality.html">≡</a> <a id="6544" class="Number">3</a> <a id="6546" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a>   <a id="6550" href="Leios.Short.html#B1-L4" class="Function type-hoverable" data-original-href="Leios.Short.html#6089" data-hoverable="true" data-position="6089" data-target-file="Leios.Short.html">beginningOfStage</a> <a id="6567" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6569" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="6571" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6396" data-hoverable="true" data-position="6396" data-target-file="Leios.Short.html">u</a> <a id="6573" href="Axiom.Set.html#B1-L76" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#2587" data-hoverable="true" data-position="2587" data-target-file="Axiom.Set.html">≡ᵉ</a> <a id="6576" href="Axiom.Set.html#B1-L169" class="Function type-hoverable" data-original-href="Axiom.Set.html#5718" data-hoverable="true" data-position="5718" data-target-file="Axiom.Set.html">fromList</a> <a id="6585" class="Symbol">(</a><a id="6586" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a> <a id="6594" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6596" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1139" data-hoverable="true" data-position="1139" data-target-file="Leios.Short.html">EB-Role</a> <a id="6604" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6606" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a> <a id="6611" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6613" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a><a id="6615" class="Symbol">))</a></div><div id="B11-LC6" class="code-line">  <a id="6620" href="Data.Sum.Base.html#B1-L28" class="Datatype Operator type-hoverable" data-original-href="Data.Sum.Base.html#625" data-hoverable="true" data-position="625" data-target-file="Data.Sum.Base.html">⊎</a> <a id="6622" class="Symbol">(</a><a id="6623" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6629" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6631" href="Agda.Builtin.Equality.html#B1-L6" class="Datatype Operator type-hoverable" data-original-href="Agda.Builtin.Equality.html#150" data-hoverable="true" data-position="150" data-target-file="Agda.Builtin.Equality.html">≡</a> <a id="6633" class="Number">3</a> <a id="6635" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="6637" href="Relation.Nullary.Negation.Core.html#B1-L26" class="Function Operator type-hoverable" data-original-href="Relation.Nullary.Negation.Core.html#658" data-hoverable="true" data-position="658" data-target-file="Relation.Nullary.Negation.Core.html">¬</a> <a id="6639" href="Leios.Short.html#B1-L4" class="Function type-hoverable" data-original-href="Leios.Short.html#6089" data-hoverable="true" data-position="6089" data-target-file="Leios.Short.html">beginningOfStage</a> <a id="6656" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6658" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="6660" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6396" data-hoverable="true" data-position="6396" data-target-file="Leios.Short.html">u</a> <a id="6662" href="Axiom.Set.html#B1-L76" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#2587" data-hoverable="true" data-position="2587" data-target-file="Axiom.Set.html">≡ᵉ</a> <a id="6665" href="Axiom.Set.html#B1-L169" class="Function type-hoverable" data-original-href="Axiom.Set.html#5718" data-hoverable="true" data-position="5718" data-target-file="Axiom.Set.html">fromList</a> <a id="6674" class="Symbol">(</a><a id="6675" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a>           <a id="6693" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6695" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a> <a id="6700" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6702" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a><a id="6704" class="Symbol">))</a></div><div id="B11-LC7" class="code-line">  <a id="6709" class="Comment">-- done</a></div><div id="B11-LC8" class="code-line">  <a id="6719" href="Data.Sum.Base.html#B1-L28" class="Datatype Operator type-hoverable" data-original-href="Data.Sum.Base.html#625" data-hoverable="true" data-position="625" data-target-file="Data.Sum.Base.html">⊎</a> <a id="6721" class="Symbol">(</a><a id="6722" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6728" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6730" href="Class.HasOrder.Core.html#B1-L30" class="Function Operator type-hoverable" data-original-href="Class.HasOrder.Core.html#748" data-hoverable="true" data-position="748" data-target-file="Class.HasOrder.Core.html">&gt;</a> <a id="6732" class="Number">3</a> <a id="6734" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a>   <a id="6738" href="Leios.Short.html#B1-L4" class="Function type-hoverable" data-original-href="Leios.Short.html#6089" data-hoverable="true" data-position="6089" data-target-file="Leios.Short.html">beginningOfStage</a> <a id="6755" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6757" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="6759" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6396" data-hoverable="true" data-position="6396" data-target-file="Leios.Short.html">u</a> <a id="6761" href="Axiom.Set.html#B1-L76" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#2587" data-hoverable="true" data-position="2587" data-target-file="Axiom.Set.html">≡ᵉ</a> <a id="6764" href="Axiom.Set.html#B1-L169" class="Function type-hoverable" data-original-href="Axiom.Set.html#5718" data-hoverable="true" data-position="5718" data-target-file="Axiom.Set.html">fromList</a> <a id="6773" class="Symbol">(</a><a id="6774" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a> <a id="6782" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6784" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1139" data-hoverable="true" data-position="1139" data-target-file="Leios.Short.html">EB-Role</a> <a id="6792" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6794" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a> <a id="6799" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6801" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a><a id="6803" class="Symbol">))</a></div><div id="B11-LC9" class="code-line">  <a id="6808" href="Data.Sum.Base.html#B1-L28" class="Datatype Operator type-hoverable" data-original-href="Data.Sum.Base.html#625" data-hoverable="true" data-position="625" data-target-file="Data.Sum.Base.html">⊎</a> <a id="6810" class="Symbol">(</a><a id="6811" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6038" data-hoverable="true" data-position="6038" data-target-file="Leios.Short.html">stage</a> <a id="6817" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6819" href="Class.HasOrder.Core.html#B1-L30" class="Function Operator type-hoverable" data-original-href="Class.HasOrder.Core.html#748" data-hoverable="true" data-position="748" data-target-file="Class.HasOrder.Core.html">&gt;</a> <a id="6821" class="Number">3</a> <a id="6823" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="6825" href="Relation.Nullary.Negation.Core.html#B1-L26" class="Function Operator type-hoverable" data-original-href="Relation.Nullary.Negation.Core.html#658" data-hoverable="true" data-position="658" data-target-file="Relation.Nullary.Negation.Core.html">¬</a> <a id="6827" href="Leios.Short.html#B1-L4" class="Function type-hoverable" data-original-href="Leios.Short.html#6089" data-hoverable="true" data-position="6089" data-target-file="Leios.Short.html">beginningOfStage</a> <a id="6844" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6846" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="6848" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6396" data-hoverable="true" data-position="6396" data-target-file="Leios.Short.html">u</a> <a id="6850" href="Axiom.Set.html#B1-L76" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#2587" data-hoverable="true" data-position="2587" data-target-file="Axiom.Set.html">≡ᵉ</a> <a id="6853" href="Axiom.Set.html#B1-L169" class="Function type-hoverable" data-original-href="Axiom.Set.html#5718" data-hoverable="true" data-position="5718" data-target-file="Axiom.Set.html">fromList</a> <a id="6862" class="Symbol">(</a><a id="6863" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1131" data-hoverable="true" data-position="1131" data-target-file="Leios.Short.html">IB-Role</a>           <a id="6881" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6883" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a> <a id="6888" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6890" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a><a id="6892" class="Symbol">)</a> <a id="6894" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a></div><div id="B11-LC10" class="code-line">       <a id="6903" class="Symbol">(((</a>  <a id="6908" href="Leios.Short.html#B1-L7" class="Function type-hoverable" data-original-href="Leios.Short.html#6155" data-hoverable="true" data-position="6155" data-target-file="Leios.Short.html">endOfStage</a> <a id="6919" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a> <a id="6921" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="6923" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6415" data-hoverable="true" data-position="6415" data-target-file="Leios.Short.html">v</a> <a id="6925" href="Axiom.Set.html#B1-L76" class="Function Operator type-hoverable" data-original-href="Axiom.Set.html#2587" data-hoverable="true" data-position="2587" data-target-file="Axiom.Set.html">≡ᵉ</a> <a id="6928" href="Axiom.Set.html#B1-L169" class="Function type-hoverable" data-original-href="Axiom.Set.html#5718" data-hoverable="true" data-position="5718" data-target-file="Axiom.Set.html">fromList</a> <a id="6937" class="Symbol">(</a><a id="6938" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a> <a id="6946" href="Agda.Builtin.List.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.List.html#199" data-hoverable="true" data-position="199" data-target-file="Agda.Builtin.List.html">∷</a> <a id="6948" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a><a id="6950" class="Symbol">))</a></div><div id="B11-LC11" class="code-line">       <a id="6960" href="Data.Sum.Base.html#B1-L28" class="Datatype Operator type-hoverable" data-original-href="Data.Sum.Base.html#625" data-hoverable="true" data-position="625" data-target-file="Data.Sum.Base.html">⊎</a> <a id="6962" class="Symbol">(</a><a id="6963" href="Relation.Nullary.Negation.Core.html#B1-L26" class="Function Operator type-hoverable" data-original-href="Relation.Nullary.Negation.Core.html#658" data-hoverable="true" data-position="658" data-target-file="Relation.Nullary.Negation.Core.html">¬</a> <a id="6965" href="Leios.Short.html#B1-L7" class="Function type-hoverable" data-original-href="Leios.Short.html#6155" data-hoverable="true" data-position="6155" data-target-file="Leios.Short.html">endOfStage</a> <a id="6976" href="Leios.Short.html#B1-L2" class="Bound type-hoverable" data-original-href="Leios.Short.html#6383" data-hoverable="true" data-position="6383" data-target-file="Leios.Short.html">s</a><a id="6977" class="Symbol">))))</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<h3 id="full-short-leios-transitions">(Full-)Short Leios
transitions</h3>
The relation describing the transition given input and state ####
Initialization
<pre class="Agda has-copy-button" id="B12"><div class="code-container"><div class="line-numbers"><a href="#B12-L1" id="B12-L1" class="line-number" data-line-number="1" data-block-id="B12">1</a><a href="#B12-L2" id="B12-L2" class="line-number" data-line-number="2" data-block-id="B12">2</a><a href="#B12-L3" id="B12-L3" class="line-number" data-line-number="3" data-block-id="B12">3</a><a href="#B12-L4" id="B12-L4" class="line-number" data-line-number="4" data-block-id="B12">4</a><a href="#B12-L5" id="B12-L5" class="line-number" data-line-number="5" data-block-id="B12">5</a><a href="#B12-L6" id="B12-L6" class="line-number" data-line-number="6" data-block-id="B12">6</a><a href="#B12-L7" id="B12-L7" class="line-number" data-line-number="7" data-block-id="B12">7</a><a href="#B12-L8" id="B12-L8" class="line-number" data-line-number="8" data-block-id="B12">8</a></div><div class="code-content"><div id="B12-LC1" class="code-line"><a id="7110" class="Keyword">open</a> <a id="7115" href="Leios.Protocol.html#B1-L311" class="Module type-hoverable" data-original-href="Leios.Protocol.html#10272" data-hoverable="true" data-position="10272" data-target-file="Leios.Protocol.html">Types</a> <a id="7121" href="Leios.Short.html#414" class="Bound">params</a></div><div id="B12-LC2" class="code-line">&nbsp;</div><div id="B12-LC3" class="code-line"><a id="7129" class="Keyword">data</a> <a id="_⊢_"></a><a id="7134" href="Leios.Short.html#B1-L3" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7134" data-hoverable="true" data-position="7134" data-target-file="Leios.Short.html">_⊢_</a> <a id="7138" class="Symbol">:</a> <a id="7140" href="Leios.Base.html#B1-L28" class="Function type-hoverable" data-original-href="Leios.Base.html#691" data-hoverable="true" data-position="691" data-target-file="Leios.Base.html">VTy</a> <a id="7144" class="Symbol">→</a> <a id="7146" href="Leios.Protocol.html#B1-L45" class="Record type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="7157" class="Symbol">→</a> <a id="7159" href="Agda.Primitive.html#B1-L14" class="Primitive type-hoverable" data-original-href="Agda.Primitive.html#388" data-hoverable="true" data-position="388" data-target-file="Agda.Primitive.html">Type</a> <a id="7164" class="Keyword">where</a></div><div id="B12-LC4" class="code-line">  <a id="_⊢_.Init"></a><a id="7172" href="Leios.Short.html#B1-L4" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#7172" data-hoverable="true" data-position="7172" data-target-file="Leios.Short.html">Init</a> <a id="7177" class="Symbol">:</a></div><div id="B12-LC5" class="code-line">       <a id="7186" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="7188" href="Leios.Short.html#1898" class="Generalizable">ks</a> <a id="7191" href="Leios.KeyRegistration.html#B1-L20" class="Function Operator type-hoverable" data-original-href="Leios.KeyRegistration.html#476" data-hoverable="true" data-position="476" data-target-file="Leios.KeyRegistration.html">K.-⟦</a> <a id="7196" href="Leios.KeyRegistration.html#B1-L13" class="InductiveConstructor type-hoverable" data-original-href="Leios.KeyRegistration.html#302" data-hoverable="true" data-position="302" data-target-file="Leios.KeyRegistration.html">K.INIT</a> <a id="7203" href="Leios.SpecStructure.html#B1-L33" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#766" data-hoverable="true" data-position="766" data-target-file="Leios.SpecStructure.html">pk-IB</a> <a id="7209" href="Leios.SpecStructure.html#B1-L33" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#772" data-hoverable="true" data-position="772" data-target-file="Leios.SpecStructure.html">pk-EB</a> <a id="7215" href="Leios.SpecStructure.html#B1-L33" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#778" data-hoverable="true" data-position="778" data-target-file="Leios.SpecStructure.html">pk-VT</a> <a id="7221" href="Leios.KeyRegistration.html#B1-L20" class="Function Operator type-hoverable" data-original-href="Leios.KeyRegistration.html#476" data-hoverable="true" data-position="476" data-target-file="Leios.KeyRegistration.html">/</a> <a id="7223" href="Leios.KeyRegistration.html#B1-L16" class="InductiveConstructor type-hoverable" data-original-href="Leios.KeyRegistration.html#374" data-hoverable="true" data-position="374" data-target-file="Leios.KeyRegistration.html">K.PUBKEYS</a> <a id="7233" href="Leios.Short.html#2313" class="Generalizable">pks</a> <a id="7237" href="Leios.KeyRegistration.html#B1-L20" class="Function Operator type-hoverable" data-original-href="Leios.KeyRegistration.html#476" data-hoverable="true" data-position="476" data-target-file="Leios.KeyRegistration.html">⟧⇀</a> <a id="7240" href="Leios.Short.html#1901" class="Generalizable">ks'</a></div><div id="B12-LC6" class="code-line">       <a id="7251" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="7253" href="Leios.SpecStructure.html#B1-L39" class="Field type-hoverable" data-original-href="Leios.SpecStructure.html#904" data-hoverable="true" data-position="904" data-target-file="Leios.SpecStructure.html">initBaseState</a> <a id="7267" href="Leios.Base.html#B1-L100" class="Function Operator type-hoverable" data-original-href="Leios.Base.html#3336" data-hoverable="true" data-position="3336" data-target-file="Leios.Base.html">B.-⟦</a> <a id="7272" href="Leios.Base.html#B1-L47" class="InductiveConstructor type-hoverable" data-original-href="Leios.Base.html#1450" data-hoverable="true" data-position="1450" data-target-file="Leios.Base.html">B.INIT</a> <a id="7279" class="Symbol">(</a><a id="7280" href="Leios.Base.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Base.html#737" data-hoverable="true" data-position="737" data-target-file="Leios.Base.html">V-chkCerts</a> <a id="7291" href="Leios.Short.html#2313" class="Generalizable">pks</a><a id="7294" class="Symbol">)</a> <a id="7296" href="Leios.Base.html#B1-L100" class="Function Operator type-hoverable" data-original-href="Leios.Base.html#3336" data-hoverable="true" data-position="3336" data-target-file="Leios.Base.html">/</a> <a id="7298" href="Leios.Base.html#B1-L80" class="InductiveConstructor type-hoverable" data-original-href="Leios.Base.html#2651" data-hoverable="true" data-position="2651" data-target-file="Leios.Base.html">B.STAKE</a> <a id="7306" href="Leios.Short.html#2276" class="Generalizable">SD</a> <a id="7309" href="Leios.Base.html#B1-L100" class="Function Operator type-hoverable" data-original-href="Leios.Base.html#3336" data-hoverable="true" data-position="3336" data-target-file="Leios.Base.html">⟧⇀</a> <a id="7312" href="Leios.Short.html#1864" class="Generalizable">bs'</a> <a id="7316" class="Comment">-- TODO: replace this line</a></div><div id="B12-LC7" class="code-line">       <a id="7350" href="Prelude.InferenceRules.html#B1-L169" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#11982" data-hoverable="true" data-position="11982" data-target-file="Prelude.InferenceRules.html">────────────────────────────────────────────────────────────────</a></div><div id="B12-LC8" class="code-line">       <a id="7422" href="Leios.Short.html#2246" class="Generalizable">V</a> <a id="7424" href="Leios.Short.html#B1-L3" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7134" data-hoverable="true" data-position="7134" data-target-file="Leios.Short.html">⊢</a> <a id="7426" href="Leios.Protocol.html#B1-L120" class="Function type-hoverable" data-original-href="Leios.Protocol.html#4153" data-hoverable="true" data-position="4153" data-target-file="Leios.Protocol.html">initLeiosState</a> <a id="7441" href="Leios.Short.html#2246" class="Generalizable">V</a> <a id="7443" href="Leios.Short.html#2276" class="Generalizable">SD</a> <a id="7446" href="Leios.Short.html#2313" class="Generalizable">pks</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<pre class="Agda has-copy-button" id="B13"><div class="code-container"><div class="line-numbers"><a href="#B13-L1" id="B13-L1" class="line-number" data-line-number="1" data-block-id="B13">1</a></div><div class="code-content"><div id="B13-LC1" class="code-line"><a id="7462" class="Keyword">data</a> <a id="_-⟦_/_⟧⇀_"></a><a id="7467" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">_-⟦_/_⟧⇀_</a> <a id="7477" class="Symbol">:</a> <a id="7479" href="CategoricalCrypto.Base.html#B1-L101" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#3417" data-hoverable="true" data-position="3417" data-target-file="CategoricalCrypto.Base.html">MachineType</a> <a id="7491" class="Symbol">(</a><a id="7492" href="Leios.Protocol.html#B1-L342" class="Function type-hoverable" data-original-href="Leios.Protocol.html#11005" data-hoverable="true" data-position="11005" data-target-file="Leios.Protocol.html">FFD</a> <a id="7496" href="CategoricalCrypto.Base.html#B1-L30" class="Function Operator type-hoverable" data-original-href="CategoricalCrypto.Base.html#831" data-hoverable="true" data-position="831" data-target-file="CategoricalCrypto.Base.html">⊗</a> <a id="7498" href="Leios.Protocol.html#B1-L350" class="Function type-hoverable" data-original-href="Leios.Protocol.html#11200" data-hoverable="true" data-position="11200" data-target-file="Leios.Protocol.html">BaseC</a><a id="7503" class="Symbol">)</a> <a id="7505" class="Symbol">(</a><a id="7506" href="Leios.Protocol.html#B1-L328" class="Function type-hoverable" data-original-href="Leios.Protocol.html#10717" data-hoverable="true" data-position="10717" data-target-file="Leios.Protocol.html">IO</a> <a id="7509" href="CategoricalCrypto.Base.html#B1-L30" class="Function Operator type-hoverable" data-original-href="CategoricalCrypto.Base.html#831" data-hoverable="true" data-position="831" data-target-file="CategoricalCrypto.Base.html">⊗</a> <a id="7511" href="Leios.Protocol.html#B1-L331" class="Function type-hoverable" data-original-href="Leios.Protocol.html#10761" data-hoverable="true" data-position="10761" data-target-file="Leios.Protocol.html">Adv</a><a id="7514" class="Symbol">)</a> <a id="7516" href="Leios.Protocol.html#B1-L45" class="Record type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="7527" class="Keyword">where</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<h4 id="network-and-ledger">Network and Ledger</h4>
<pre class="Agda has-copy-button" id="B14"><div class="code-container"><div class="line-numbers"><a href="#B14-L1" id="B14-L1" class="line-number" data-line-number="1" data-block-id="B14">1</a><a href="#B14-L2" id="B14-L2" class="line-number" data-line-number="2" data-block-id="B14">2</a><a href="#B14-L3" id="B14-L3" class="line-number" data-line-number="3" data-block-id="B14">3</a><a href="#B14-L4" id="B14-L4" class="line-number" data-line-number="4" data-block-id="B14">4</a><a href="#B14-L5" id="B14-L5" class="line-number" data-line-number="5" data-block-id="B14">5</a><a href="#B14-L6" id="B14-L6" class="line-number" data-line-number="6" data-block-id="B14">6</a><a href="#B14-L7" id="B14-L7" class="line-number" data-line-number="7" data-block-id="B14">7</a><a href="#B14-L8" id="B14-L8" class="line-number" data-line-number="8" data-block-id="B14">8</a><a href="#B14-L9" id="B14-L9" class="line-number" data-line-number="9" data-block-id="B14">9</a><a href="#B14-L10" id="B14-L10" class="line-number" data-line-number="10" data-block-id="B14">10</a><a href="#B14-L11" id="B14-L11" class="line-number" data-line-number="11" data-block-id="B14">11</a><a href="#B14-L12" id="B14-L12" class="line-number" data-line-number="12" data-block-id="B14">12</a><a href="#B14-L13" id="B14-L13" class="line-number" data-line-number="13" data-block-id="B14">13</a></div><div class="code-content"><div id="B14-LC1" class="code-line">  <a id="_-⟦_/_⟧⇀_.Slot₁"></a><a id="7571" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#7571" data-hoverable="true" data-position="7571" data-target-file="Leios.Short.html">Slot₁</a> <a id="7577" class="Symbol">:</a> <a id="7579" class="Keyword">let</a> <a id="7583" class="Keyword">open</a> <a id="7588" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="7599" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="7601" class="Keyword">in</a></div><div id="B14-LC2" class="code-line">        <a id="7612" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="7614" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#6331" data-hoverable="true" data-position="6331" data-target-file="Leios.Short.html">allDone</a> <a id="7622" href="Leios.Short.html#1759" class="Generalizable">s</a></div><div id="B14-LC3" class="code-line">        <a id="7632" href="Prelude.InferenceRules.html#B1-L141" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#9644" data-hoverable="true" data-position="9644" data-target-file="Prelude.InferenceRules.html">────────────────────────────────────────────────────────────────────────────────────────────</a></div><div id="B14-LC4" class="code-line">        <a id="7733" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="7735" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">-⟦</a> <a id="7738" href="CategoricalCrypto.Base.html#B1-L64" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2047" data-hoverable="true" data-position="2047" data-target-file="CategoricalCrypto.Base.html">honestOutputI</a> <a id="7752" class="Symbol">(</a><a id="7753" href="CategoricalCrypto.Base.html#B1-L37" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1013" data-hoverable="true" data-position="1013" data-target-file="CategoricalCrypto.Base.html">rcvˡ</a> <a id="7758" class="Symbol">(</a><a id="7759" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="7762" href="Leios.Protocol.html#B1-L337" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10869" data-hoverable="true" data-position="10869" data-target-file="Leios.Protocol.html">FFD-OUT</a> <a id="7770" href="Leios.Short.html#1932" class="Generalizable">msgs</a><a id="7774" class="Symbol">))</a> <a id="7777" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">/</a> <a id="7779" href="CategoricalCrypto.Base.html#B1-L70" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2273" data-hoverable="true" data-position="2273" data-target-file="CategoricalCrypto.Base.html">honestInputO'</a> <a id="7793" class="Symbol">(</a><a id="7794" href="CategoricalCrypto.Base.html#B1-L46" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1301" data-hoverable="true" data-position="1301" data-target-file="CategoricalCrypto.Base.html">sndʳ</a> <a id="7799" class="Symbol">(</a><a id="7800" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="7803" href="Leios.Protocol.html#B1-L346" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#11093" data-hoverable="true" data-position="11093" data-target-file="Leios.Protocol.html">FTCH-LDG</a><a id="7811" class="Symbol">))</a> <a id="7814" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">⟧⇀</a> <a id="7817" class="Keyword">record</a> <a id="7824" href="Leios.Short.html#1759" class="Generalizable">s</a></div><div id="B14-LC5" class="code-line">            <a id="7838" class="Symbol">{</a> <a id="7840" href="Leios.Protocol.html#B1-L56" class="Field type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a>         <a id="7853" class="Symbol">=</a> <a id="7855" href="Agda.Builtin.Nat.html#B1-L10" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Nat.html#234" data-hoverable="true" data-position="234" data-target-file="Agda.Builtin.Nat.html">suc</a> <a id="7859" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a></div><div id="B14-LC6" class="code-line">            <a id="7876" class="Symbol">;</a> <a id="7878" href="Leios.Protocol.html#B1-L59" class="Field type-hoverable" data-original-href="Leios.Protocol.html#2019" data-hoverable="true" data-position="2019" data-target-file="Leios.Protocol.html">Upkeep</a>       <a id="7891" class="Symbol">=</a> <a id="7893" href="Class.HasEmptySet.html#B1-L14" class="Field type-hoverable" data-original-href="Class.HasEmptySet.html#287" data-hoverable="true" data-position="287" data-target-file="Class.HasEmptySet.html">∅</a></div><div id="B14-LC7" class="code-line">            <a id="7907" class="Symbol">;</a> <a id="7909" href="Leios.Protocol.html#B1-L60" class="Field type-hoverable" data-original-href="Leios.Protocol.html#2055" data-hoverable="true" data-position="2055" data-target-file="Leios.Protocol.html">Upkeep-Stage</a> <a id="7922" class="Symbol">=</a> <a id="7924" href="Class.Decidable.Core.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Class.Decidable.Core.html#593" data-hoverable="true" data-position="593" data-target-file="Class.Decidable.Core.html">ifᵈ</a> <a id="7928" class="Symbol">(</a><a id="7929" href="Leios.Short.html#B1-L7" class="Function type-hoverable" data-original-href="Leios.Short.html#6155" data-hoverable="true" data-position="6155" data-target-file="Leios.Short.html">endOfStage</a> <a id="7940" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a><a id="7944" class="Symbol">)</a> <a id="7946" href="Class.Decidable.Core.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Class.Decidable.Core.html#593" data-hoverable="true" data-position="593" data-target-file="Class.Decidable.Core.html">then</a> <a id="7951" href="Class.HasEmptySet.html#B1-L14" class="Field type-hoverable" data-original-href="Class.HasEmptySet.html#287" data-hoverable="true" data-position="287" data-target-file="Class.HasEmptySet.html">∅</a> <a id="7953" href="Class.Decidable.Core.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Class.Decidable.Core.html#593" data-hoverable="true" data-position="593" data-target-file="Class.Decidable.Core.html">else</a> <a id="7958" href="Leios.Protocol.html#B1-L60" class="Function type-hoverable" data-original-href="Leios.Protocol.html#2055" data-hoverable="true" data-position="2055" data-target-file="Leios.Protocol.html">Upkeep-Stage</a></div><div id="B14-LC8" class="code-line">            <a id="7983" class="Symbol">}</a> <a id="7985" href="Leios.Protocol.html#B1-L296" class="Function Operator type-hoverable" data-original-href="Leios.Protocol.html#9778" data-hoverable="true" data-position="9778" data-target-file="Leios.Protocol.html">↑</a> <a id="7987" href="Data.List.Base.html#B1-L377" class="Function type-hoverable" data-original-href="Data.List.Base.html#10687" data-hoverable="true" data-position="10687" data-target-file="Data.List.Base.html">L.filter</a> <a id="7996" class="Symbol">(</a><a id="7997" href="Leios.Protocol.html#B1-L240" class="Function type-hoverable" data-original-href="Leios.Protocol.html#8015" data-hoverable="true" data-position="8015" data-target-file="Leios.Protocol.html">isValid?</a> <a id="8006" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="8007" class="Symbol">)</a> <a id="8009" href="Leios.Short.html#1932" class="Generalizable">msgs</a></div><div id="B14-LC9" class="code-line">&nbsp;</div><div id="B14-LC10" class="code-line">  <a id="_-⟦_/_⟧⇀_.Slot₂"></a><a id="8017" href="Leios.Short.html#B1-L10" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#8017" data-hoverable="true" data-position="8017" data-target-file="Leios.Short.html">Slot₂</a> <a id="8023" class="Symbol">:</a> <a id="8025" class="Keyword">let</a> <a id="8029" class="Keyword">open</a> <a id="8034" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="8045" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8047" class="Keyword">in</a></div><div id="B14-LC11" class="code-line">        <a id="8058" href="Prelude.InferenceRules.html#B1-L516" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#42427" data-hoverable="true" data-position="42427" data-target-file="Prelude.InferenceRules.html">────────────────────────────────────────────────────────</a></div><div id="B14-LC12" class="code-line">        <a id="8123" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8125" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">-⟦</a> <a id="8128" href="CategoricalCrypto.Base.html#B1-L64" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2047" data-hoverable="true" data-position="2047" data-target-file="CategoricalCrypto.Base.html">honestOutputI</a> <a id="8142" class="Symbol">(</a><a id="8143" href="CategoricalCrypto.Base.html#B1-L40" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1109" data-hoverable="true" data-position="1109" data-target-file="CategoricalCrypto.Base.html">rcvʳ</a> <a id="8148" class="Symbol">(</a><a id="8149" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="8152" href="Leios.Protocol.html#B1-L348" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#11156" data-hoverable="true" data-position="11156" data-target-file="Leios.Protocol.html">BASE-LDG</a> <a id="8161" href="Leios.Short.html#2168" class="Generalizable">rbs</a><a id="8164" class="Symbol">))</a> <a id="8167" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">/</a> <a id="8169" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a> <a id="8177" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">⟧⇀</a></div><div id="B14-LC13" class="code-line">          <a id="8190" class="Keyword">record</a> <a id="8197" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8199" class="Symbol">{</a> <a id="8201" href="Leios.Protocol.html#B1-L48" class="Field type-hoverable" data-original-href="Leios.Protocol.html#1609" data-hoverable="true" data-position="1609" data-target-file="Leios.Protocol.html">RBs</a> <a id="8205" class="Symbol">=</a> <a id="8207" href="Leios.Short.html#2168" class="Generalizable">rbs</a> <a id="8211" class="Symbol">}</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<pre class="Agda has-copy-button" id="B15"><div class="code-container"><div class="line-numbers"><a href="#B15-L1" id="B15-L1" class="line-number" data-line-number="1" data-block-id="B15">1</a><a href="#B15-L2" id="B15-L2" class="line-number" data-line-number="2" data-block-id="B15">2</a><a href="#B15-L3" id="B15-L3" class="line-number" data-line-number="3" data-block-id="B15">3</a></div><div class="code-content"><div id="B15-LC1" class="code-line">  <a id="_-⟦_/_⟧⇀_.Ftch"></a><a id="8227" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#8227" data-hoverable="true" data-position="8227" data-target-file="Leios.Short.html">Ftch</a> <a id="8232" class="Symbol">:</a></div><div id="B15-LC2" class="code-line">       <a id="8241" href="Prelude.InferenceRules.html#B1-L481" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#38332" data-hoverable="true" data-position="38332" data-target-file="Prelude.InferenceRules.html">───────────────────────────────────────────────────────────────────────────────────────────</a></div><div id="B15-LC3" class="code-line">       <a id="8340" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8342" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">-⟦</a> <a id="8345" href="CategoricalCrypto.Base.html#B1-L49" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1397" data-hoverable="true" data-position="1397" data-target-file="CategoricalCrypto.Base.html">honestInputI</a> <a id="8358" class="Symbol">(</a><a id="8359" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="8362" href="Leios.Protocol.html#B1-L324" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10648" data-hoverable="true" data-position="10648" data-target-file="Leios.Protocol.html">FetchLdgI</a><a id="8371" class="Symbol">)</a> <a id="8373" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">/</a> <a id="8375" href="CategoricalCrypto.Base.html#B1-L55" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1641" data-hoverable="true" data-position="1641" data-target-file="CategoricalCrypto.Base.html">honestOutputO'</a> <a id="8390" class="Symbol">(</a><a id="8391" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="8394" href="Leios.Protocol.html#B1-L325" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10671" data-hoverable="true" data-position="10671" data-target-file="Leios.Protocol.html">FetchLdgO</a> <a id="8404" class="Symbol">(</a><a id="8405" href="Leios.Protocol.html#B1-L89" class="Function type-hoverable" data-original-href="Leios.Protocol.html#2921" data-hoverable="true" data-position="2921" data-target-file="Leios.Protocol.html">LeiosState.Ledger</a> <a id="8423" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="8424" class="Symbol">))</a> <a id="8427" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">⟧⇀</a> <a id="8430" href="Leios.Short.html#1759" class="Generalizable">s</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<h4 id="base-chain">Base chain</h4>
Note: Submitted data to the base chain is only taken into account if the
party submitting is the block producer on the base chain for the given
slot
<pre class="Agda has-copy-button" id="B16"><div class="code-container"><div class="line-numbers"><a href="#B16-L1" id="B16-L1" class="line-number" data-line-number="1" data-block-id="B16">1</a><a href="#B16-L2" id="B16-L2" class="line-number" data-line-number="2" data-block-id="B16">2</a><a href="#B16-L3" id="B16-L3" class="line-number" data-line-number="3" data-block-id="B16">3</a></div><div class="code-content"><div id="B16-LC1" class="code-line">  <a id="_-⟦_/_⟧⇀_.Base₁"></a><a id="8624" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#8624" data-hoverable="true" data-position="8624" data-target-file="Leios.Short.html">Base₁</a>   <a id="8632" class="Symbol">:</a></div><div id="B16-LC2" class="code-line">          <a id="8644" href="Prelude.InferenceRules.html#B1-L494" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#39853" data-hoverable="true" data-position="39853" data-target-file="Prelude.InferenceRules.html">──────────────────────────────────────────────────────────────────────────────</a></div><div id="B16-LC3" class="code-line">          <a id="8733" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8735" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">-⟦</a> <a id="8738" href="CategoricalCrypto.Base.html#B1-L49" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1397" data-hoverable="true" data-position="1397" data-target-file="CategoricalCrypto.Base.html">honestInputI</a> <a id="8751" class="Symbol">(</a><a id="8752" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="8755" href="Leios.Protocol.html#B1-L323" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10615" data-hoverable="true" data-position="10615" data-target-file="Leios.Protocol.html">SubmitTxs</a> <a id="8765" href="Leios.Short.html#2212" class="Generalizable">txs</a><a id="8768" class="Symbol">)</a> <a id="8770" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">/</a> <a id="8772" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a> <a id="8780" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">⟧⇀</a> <a id="8783" class="Keyword">record</a> <a id="8790" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8792" class="Symbol">{</a> <a id="8794" href="Leios.Protocol.html#B1-L49" class="Field type-hoverable" data-original-href="Leios.Protocol.html#1650" data-hoverable="true" data-position="1650" data-target-file="Leios.Protocol.html">ToPropose</a> <a id="8804" class="Symbol">=</a> <a id="8806" href="Leios.Short.html#2212" class="Generalizable">txs</a> <a id="8810" class="Symbol">}</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<pre class="Agda has-copy-button" id="B17"><div class="code-container"><div class="line-numbers"><a href="#B17-L1" id="B17-L1" class="line-number" data-line-number="1" data-block-id="B17">1</a><a href="#B17-L2" id="B17-L2" class="line-number" data-line-number="2" data-block-id="B17">2</a><a href="#B17-L3" id="B17-L3" class="line-number" data-line-number="3" data-block-id="B17">3</a><a href="#B17-L4" id="B17-L4" class="line-number" data-line-number="4" data-block-id="B17">4</a><a href="#B17-L5" id="B17-L5" class="line-number" data-line-number="5" data-block-id="B17">5</a><a href="#B17-L6" id="B17-L6" class="line-number" data-line-number="6" data-block-id="B17">6</a><a href="#B17-L7" id="B17-L7" class="line-number" data-line-number="7" data-block-id="B17">7</a><a href="#B17-L8" id="B17-L8" class="line-number" data-line-number="8" data-block-id="B17">8</a><a href="#B17-L9" id="B17-L9" class="line-number" data-line-number="9" data-block-id="B17">9</a><a href="#B17-L10" id="B17-L10" class="line-number" data-line-number="10" data-block-id="B17">10</a><a href="#B17-L11" id="B17-L11" class="line-number" data-line-number="11" data-block-id="B17">11</a><a href="#B17-L12" id="B17-L12" class="line-number" data-line-number="12" data-block-id="B17">12</a><a href="#B17-L13" id="B17-L13" class="line-number" data-line-number="13" data-block-id="B17">13</a></div><div class="code-content"><div id="B17-LC1" class="code-line">  <a id="_-⟦_/_⟧⇀_.Base₂a"></a><a id="8826" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#8826" data-hoverable="true" data-position="8826" data-target-file="Leios.Short.html">Base₂a</a>  <a id="8834" class="Symbol">:</a> <a id="8836" class="Keyword">let</a> <a id="8840" class="Keyword">open</a> <a id="8845" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="8856" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8858" class="Keyword">in</a></div><div id="B17-LC2" class="code-line">          <a id="8871" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="8873" href="Leios.Protocol.html#B1-L92" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3063" data-hoverable="true" data-position="3063" data-target-file="Leios.Protocol.html">needsUpkeep</a> <a id="8885" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a></div><div id="B17-LC3" class="code-line">          <a id="8900" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="8902" class="Symbol">(</a><a id="8903" href="Leios.Short.html#2083" class="Generalizable">eb</a> <a id="8906" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="8908" href="Leios.Short.html#2351" class="Generalizable">cert</a><a id="8912" class="Symbol">)</a> <a id="8914" href="Class.IsSet.html#B1-L22" class="Function Operator type-hoverable" data-original-href="Class.IsSet.html#458" data-hoverable="true" data-position="458" data-target-file="Class.IsSet.html">∈</a> <a id="8916" href="Leios.Prelude.html#B1-L54" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1588" data-hoverable="true" data-position="1588" data-target-file="Leios.Prelude.html">filter</a> <a id="8923" class="Symbol">(λ</a> <a id="8926" class="Symbol">(</a><a id="8927" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#8927" data-hoverable="true" data-position="8927" data-target-file="Leios.Short.html">x</a> <a id="8929" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="8931" class="Symbol">_)</a> <a id="8934" class="Symbol">→</a> <a id="8936" href="Leios.Short.html#B1-L3" class="Bound type-hoverable" data-original-href="Leios.Short.html#8927" data-hoverable="true" data-position="8927" data-target-file="Leios.Short.html">x</a> <a id="8938" href="Leios.Blocks.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Leios.Blocks.html#770" data-hoverable="true" data-position="770" data-target-file="Leios.Blocks.html">∈ᴮ</a> <a id="8941" href="Leios.Prelude.html#B1-L45" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1209" data-hoverable="true" data-position="1209" data-target-file="Leios.Prelude.html">slice</a> <a id="8947" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="8949" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="8954" class="Number">2</a><a id="8955" class="Symbol">)</a> <a id="8957" class="Symbol">(</a><a id="8958" href="Leios.Protocol.html#B1-L105" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3521" data-hoverable="true" data-position="3521" data-target-file="Leios.Protocol.html">ebsWithCert</a> <a id="8970" href="Leios.Prelude.html#B1-L27" class="InductiveConstructor type-hoverable" data-original-href="Leios.Prelude.html#726" data-hoverable="true" data-position="726" data-target-file="Leios.Prelude.html">fzero</a><a id="8975" class="Symbol">)</a></div><div id="B17-LC4" class="code-line">          <a id="8987" href="Prelude.InferenceRules.html#B1-L150" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#10481" data-hoverable="true" data-position="10481" data-target-file="Prelude.InferenceRules.html">───────────────────────────────────────────────────────────────────────────────────</a></div><div id="B17-LC5" class="code-line">          <a id="9081" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9083" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">-⟦</a> <a id="9086" href="CategoricalCrypto.Base.html#B1-L64" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2047" data-hoverable="true" data-position="2047" data-target-file="CategoricalCrypto.Base.html">honestOutputI</a> <a id="9100" class="Symbol">(</a><a id="9101" href="CategoricalCrypto.Base.html#B1-L37" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1013" data-hoverable="true" data-position="1013" data-target-file="CategoricalCrypto.Base.html">rcvˡ</a> <a id="9106" class="Symbol">(</a><a id="9107" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="9110" href="Leios.Protocol.html#B1-L339" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10960" data-hoverable="true" data-position="10960" data-target-file="Leios.Protocol.html">SLOT</a><a id="9114" class="Symbol">))</a> <a id="9117" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">/</a> <a id="9119" href="CategoricalCrypto.Base.html#B1-L70" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2273" data-hoverable="true" data-position="2273" data-target-file="CategoricalCrypto.Base.html">honestInputO'</a> <a id="9133" class="Symbol">(</a><a id="9134" href="CategoricalCrypto.Base.html#B1-L46" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1301" data-hoverable="true" data-position="1301" data-target-file="CategoricalCrypto.Base.html">sndʳ</a> <a id="9139" class="Symbol">(</a><a id="9140" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="9143" href="Leios.Protocol.html#B1-L347" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#11117" data-hoverable="true" data-position="11117" data-target-file="Leios.Protocol.html">SUBMIT</a> <a id="9150" class="Keyword">record</a> <a id="9157" class="Symbol">{</a> <a id="9159" href="Leios.Base.html#B1-L22" class="Field type-hoverable" data-original-href="Leios.Base.html#551" data-hoverable="true" data-position="551" data-target-file="Leios.Base.html">txs</a> <a id="9163" class="Symbol">=</a> <a id="9165" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a> <a id="9168" class="Symbol">;</a> <a id="9170" href="Leios.Base.html#B1-L23" class="Field type-hoverable" data-original-href="Leios.Base.html#573" data-hoverable="true" data-position="573" data-target-file="Leios.Base.html">announcedEB</a> <a id="9182" class="Symbol">=</a> <a id="9184" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a> <a id="9192" class="Symbol">;</a> <a id="9194" href="Leios.Base.html#B1-L24" class="Field type-hoverable" data-original-href="Leios.Base.html#606" data-hoverable="true" data-position="606" data-target-file="Leios.Base.html">ebCert</a> <a id="9201" class="Symbol">=</a> <a id="9203" href="Agda.Builtin.Maybe.html#B1-L6" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#173" data-hoverable="true" data-position="173" data-target-file="Agda.Builtin.Maybe.html">just</a> <a id="9208" href="Leios.Short.html#2351" class="Generalizable">cert</a> <a id="9213" class="Symbol">}))</a> <a id="9217" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">⟧⇀</a></div><div id="B17-LC6" class="code-line">            <a id="9232" href="Leios.Protocol.html#B1-L113" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3830" data-hoverable="true" data-position="3830" data-target-file="Leios.Protocol.html">addUpkeep</a> <a id="9242" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9244" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a></div><div id="B17-LC7" class="code-line">&nbsp;</div><div id="B17-LC8" class="code-line">  <a id="_-⟦_/_⟧⇀_.Base₂b"></a><a id="9252" href="Leios.Short.html#B1-L8" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#9252" data-hoverable="true" data-position="9252" data-target-file="Leios.Short.html">Base₂b</a>  <a id="9260" class="Symbol">:</a> <a id="9262" class="Keyword">let</a> <a id="9266" class="Keyword">open</a> <a id="9271" href="Leios.Protocol.html#B1-L45" class="Module type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a> <a id="9282" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9284" class="Keyword">in</a></div><div id="B17-LC9" class="code-line">          <a id="9297" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="9299" href="Leios.Protocol.html#B1-L92" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3063" data-hoverable="true" data-position="3063" data-target-file="Leios.Protocol.html">needsUpkeep</a> <a id="9311" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a></div><div id="B17-LC10" class="code-line">          <a id="9326" href="Prelude.InferenceRules.html#B1-L685" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56006" data-hoverable="true" data-position="56006" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="9328" href="Agda.Builtin.List.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.List.html#184" data-hoverable="true" data-position="184" data-target-file="Agda.Builtin.List.html">[]</a> <a id="9331" href="Agda.Builtin.Equality.html#B1-L6" class="Datatype Operator type-hoverable" data-original-href="Agda.Builtin.Equality.html#150" data-hoverable="true" data-position="150" data-target-file="Agda.Builtin.Equality.html">≡</a> <a id="9333" href="Leios.Prelude.html#B1-L54" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1588" data-hoverable="true" data-position="1588" data-target-file="Leios.Prelude.html">filter</a> <a id="9340" class="Symbol">(λ</a> <a id="9343" href="Leios.Short.html#B1-L10" class="Bound type-hoverable" data-original-href="Leios.Short.html#9343" data-hoverable="true" data-position="9343" data-target-file="Leios.Short.html">x</a> <a id="9345" class="Symbol">→</a> <a id="9347" href="Leios.Short.html#1601" class="Function">isVoteCertified</a> <a id="9363" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9365" href="Leios.Short.html#B1-L10" class="Bound type-hoverable" data-original-href="Leios.Short.html#9343" data-hoverable="true" data-position="9343" data-target-file="Leios.Short.html">x</a> <a id="9367" href="Data.Product.Base.html#B1-L70" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1618" data-hoverable="true" data-position="1618" data-target-file="Data.Product.Base.html">×</a> <a id="9369" href="Leios.Short.html#B1-L10" class="Bound type-hoverable" data-original-href="Leios.Short.html#9343" data-hoverable="true" data-position="9343" data-target-file="Leios.Short.html">x</a> <a id="9371" href="Leios.Blocks.html#B1-L28" class="Function Operator type-hoverable" data-original-href="Leios.Blocks.html#770" data-hoverable="true" data-position="770" data-target-file="Leios.Blocks.html">∈ᴮ</a> <a id="9374" href="Leios.Prelude.html#B1-L45" class="Function type-hoverable" data-original-href="Leios.Prelude.html#1209" data-hoverable="true" data-position="1209" data-target-file="Leios.Prelude.html">slice</a> <a id="9380" href="Leios.Abstract.html#B1-L30" class="Function type-hoverable" data-original-href="Leios.Abstract.html#1002" data-hoverable="true" data-position="1002" data-target-file="Leios.Abstract.html">L</a> <a id="9382" href="Leios.Protocol.html#B1-L56" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1922" data-hoverable="true" data-position="1922" data-target-file="Leios.Protocol.html">slot</a> <a id="9387" class="Number">2</a><a id="9388" class="Symbol">)</a> <a id="9390" href="Leios.Protocol.html#B1-L68" class="Function type-hoverable" data-original-href="Leios.Protocol.html#2363" data-hoverable="true" data-position="2363" data-target-file="Leios.Protocol.html">EBs</a></div><div id="B17-LC11" class="code-line">          <a id="9404" href="Prelude.InferenceRules.html#B1-L143" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#9837" data-hoverable="true" data-position="9837" data-target-file="Prelude.InferenceRules.html">──────────────────────────────────────────────────────────────────────────────────────────</a></div><div id="B17-LC12" class="code-line">          <a id="9505" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9507" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">-⟦</a> <a id="9510" href="CategoricalCrypto.Base.html#B1-L64" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2047" data-hoverable="true" data-position="2047" data-target-file="CategoricalCrypto.Base.html">honestOutputI</a> <a id="9524" class="Symbol">(</a><a id="9525" href="CategoricalCrypto.Base.html#B1-L37" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1013" data-hoverable="true" data-position="1013" data-target-file="CategoricalCrypto.Base.html">rcvˡ</a> <a id="9530" class="Symbol">(</a><a id="9531" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="9534" href="Leios.Protocol.html#B1-L339" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10960" data-hoverable="true" data-position="10960" data-target-file="Leios.Protocol.html">SLOT</a><a id="9538" class="Symbol">))</a> <a id="9541" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">/</a> <a id="9543" href="CategoricalCrypto.Base.html#B1-L70" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2273" data-hoverable="true" data-position="2273" data-target-file="CategoricalCrypto.Base.html">honestInputO'</a> <a id="9557" class="Symbol">(</a><a id="9558" href="CategoricalCrypto.Base.html#B1-L46" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1301" data-hoverable="true" data-position="1301" data-target-file="CategoricalCrypto.Base.html">sndʳ</a> <a id="9563" class="Symbol">(</a><a id="9564" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="9567" href="Leios.Protocol.html#B1-L347" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#11117" data-hoverable="true" data-position="11117" data-target-file="Leios.Protocol.html">SUBMIT</a> <a id="9574" class="Keyword">record</a> <a id="9581" class="Symbol">{</a> <a id="9583" href="Leios.Base.html#B1-L22" class="Field type-hoverable" data-original-href="Leios.Base.html#551" data-hoverable="true" data-position="551" data-target-file="Leios.Base.html">txs</a> <a id="9587" class="Symbol">=</a> <a id="9589" href="Leios.Protocol.html#B1-L49" class="Function type-hoverable" data-original-href="Leios.Protocol.html#1650" data-hoverable="true" data-position="1650" data-target-file="Leios.Protocol.html">ToPropose</a> <a id="9599" class="Symbol">;</a> <a id="9601" href="Leios.Base.html#B1-L23" class="Field type-hoverable" data-original-href="Leios.Base.html#573" data-hoverable="true" data-position="573" data-target-file="Leios.Base.html">announcedEB</a> <a id="9613" class="Symbol">=</a> <a id="9615" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a> <a id="9623" class="Symbol">;</a> <a id="9625" href="Leios.Base.html#B1-L24" class="Field type-hoverable" data-original-href="Leios.Base.html#606" data-hoverable="true" data-position="606" data-target-file="Leios.Base.html">ebCert</a> <a id="9632" class="Symbol">=</a> <a id="9634" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a> <a id="9642" class="Symbol">}))</a> <a id="9646" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">⟧⇀</a></div><div id="B17-LC13" class="code-line">            <a id="9661" href="Leios.Protocol.html#B1-L113" class="Function type-hoverable" data-original-href="Leios.Protocol.html#3830" data-hoverable="true" data-position="3830" data-target-file="Leios.Protocol.html">addUpkeep</a> <a id="9671" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9673" href="Leios.Short.html#B1-L2" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#1126" data-hoverable="true" data-position="1126" data-target-file="Leios.Short.html">Base</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<h4 id="protocol-rules">Protocol rules</h4>
<pre class="Agda has-copy-button" id="B18"><div class="code-container"><div class="line-numbers"><a href="#B18-L1" id="B18-L1" class="line-number" data-line-number="1" data-block-id="B18">1</a><a href="#B18-L2" id="B18-L2" class="line-number" data-line-number="2" data-block-id="B18">2</a><a href="#B18-L3" id="B18-L3" class="line-number" data-line-number="3" data-block-id="B18">3</a><a href="#B18-L4" id="B18-L4" class="line-number" data-line-number="4" data-block-id="B18">4</a><a href="#B18-L5" id="B18-L5" class="line-number" data-line-number="5" data-block-id="B18">5</a><a href="#B18-L6" id="B18-L6" class="line-number" data-line-number="6" data-block-id="B18">6</a><a href="#B18-L7" id="B18-L7" class="line-number" data-line-number="7" data-block-id="B18">7</a><a href="#B18-L8" id="B18-L8" class="line-number" data-line-number="8" data-block-id="B18">8</a><a href="#B18-L9" id="B18-L9" class="line-number" data-line-number="9" data-block-id="B18">9</a></div><div class="code-content"><div id="B18-LC1" class="code-line">  <a id="_-⟦_/_⟧⇀_.Roles₁"></a><a id="9712" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#9712" data-hoverable="true" data-position="9712" data-target-file="Leios.Short.html">Roles₁</a> <a id="9719" class="Symbol">:</a></div><div id="B18-LC2" class="code-line">         <a id="9730" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="9732" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9734" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">↝</a> <a id="9736" class="Symbol">(</a><a id="9737" href="Leios.Short.html#1761" class="Generalizable">s'</a> <a id="9740" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="9742" href="Agda.Builtin.Maybe.html#B1-L6" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#173" data-hoverable="true" data-position="173" data-target-file="Agda.Builtin.Maybe.html">just</a> <a id="9747" href="Leios.Short.html#2027" class="Generalizable">i</a><a id="9748" class="Symbol">)</a></div><div id="B18-LC3" class="code-line">         <a id="9759" href="Prelude.InferenceRules.html#B1-L155" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#10911" data-hoverable="true" data-position="10911" data-target-file="Prelude.InferenceRules.html">──────────────────────────────────────────────────────────────────────────────</a></div><div id="B18-LC4" class="code-line">         <a id="9847" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9849" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">-⟦</a> <a id="9852" href="CategoricalCrypto.Base.html#B1-L64" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2047" data-hoverable="true" data-position="2047" data-target-file="CategoricalCrypto.Base.html">honestOutputI</a> <a id="9866" class="Symbol">(</a><a id="9867" href="CategoricalCrypto.Base.html#B1-L37" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1013" data-hoverable="true" data-position="1013" data-target-file="CategoricalCrypto.Base.html">rcvˡ</a> <a id="9872" class="Symbol">(</a><a id="9873" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="9876" href="Leios.Protocol.html#B1-L339" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10960" data-hoverable="true" data-position="10960" data-target-file="Leios.Protocol.html">SLOT</a><a id="9880" class="Symbol">))</a> <a id="9883" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">/</a> <a id="9885" href="CategoricalCrypto.Base.html#B1-L70" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2273" data-hoverable="true" data-position="2273" data-target-file="CategoricalCrypto.Base.html">honestInputO'</a> <a id="9899" class="Symbol">(</a><a id="9900" href="CategoricalCrypto.Base.html#B1-L43" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1205" data-hoverable="true" data-position="1205" data-target-file="CategoricalCrypto.Base.html">sndˡ</a> <a id="9905" class="Symbol">(</a><a id="9906" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="9909" href="Leios.Protocol.html#B1-L338" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10925" data-hoverable="true" data-position="10925" data-target-file="Leios.Protocol.html">FFD-IN</a> <a id="9916" href="Leios.Short.html#2027" class="Generalizable">i</a><a id="9917" class="Symbol">))</a> <a id="9920" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">⟧⇀</a> <a id="9923" href="Leios.Short.html#1761" class="Generalizable">s'</a></div><div id="B18-LC5" class="code-line">&nbsp;</div><div id="B18-LC6" class="code-line">  <a id="_-⟦_/_⟧⇀_.Roles₂"></a><a id="9929" href="Leios.Short.html#B1-L6" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#9929" data-hoverable="true" data-position="9929" data-target-file="Leios.Short.html">Roles₂</a> <a id="9936" class="Symbol">:</a></div><div id="B18-LC7" class="code-line">         <a id="9947" href="Prelude.InferenceRules.html#B1-L689" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#56075" data-hoverable="true" data-position="56075" data-target-file="Prelude.InferenceRules.html">∙</a> <a id="9949" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9951" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#3380" data-hoverable="true" data-position="3380" data-target-file="Leios.Short.html">↝</a> <a id="9953" class="Symbol">(</a><a id="9954" href="Leios.Short.html#1761" class="Generalizable">s'</a> <a id="9957" href="Agda.Builtin.Sigma.html#B1-L8" class="InductiveConstructor Operator type-hoverable" data-original-href="Agda.Builtin.Sigma.html#235" data-hoverable="true" data-position="235" data-target-file="Agda.Builtin.Sigma.html">,</a> <a id="9959" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a><a id="9966" class="Symbol">)</a></div><div id="B18-LC8" class="code-line">         <a id="9977" href="Prelude.InferenceRules.html#B1-L182" class="Function Operator type-hoverable" data-original-href="Prelude.InferenceRules.html#12801" data-hoverable="true" data-position="12801" data-target-file="Prelude.InferenceRules.html">───────────────────────────────────────────────────</a></div><div id="B18-LC9" class="code-line">         <a id="10038" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="10040" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">-⟦</a> <a id="10043" href="CategoricalCrypto.Base.html#B1-L64" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#2047" data-hoverable="true" data-position="2047" data-target-file="CategoricalCrypto.Base.html">honestOutputI</a> <a id="10057" class="Symbol">(</a><a id="10058" href="CategoricalCrypto.Base.html#B1-L37" class="Function type-hoverable" data-original-href="CategoricalCrypto.Base.html#1013" data-hoverable="true" data-position="1013" data-target-file="CategoricalCrypto.Base.html">rcvˡ</a> <a id="10063" class="Symbol">(</a><a id="10064" href="Data.Product.Base.html#B1-L85" class="Function Operator type-hoverable" data-original-href="Data.Product.Base.html#1932" data-hoverable="true" data-position="1932" data-target-file="Data.Product.Base.html">-,</a> <a id="10067" href="Leios.Protocol.html#B1-L339" class="InductiveConstructor type-hoverable" data-original-href="Leios.Protocol.html#10960" data-hoverable="true" data-position="10960" data-target-file="Leios.Protocol.html">SLOT</a><a id="10071" class="Symbol">))</a> <a id="10074" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">/</a> <a id="10076" href="Agda.Builtin.Maybe.html#B1-L7" class="InductiveConstructor type-hoverable" data-original-href="Agda.Builtin.Maybe.html#194" data-hoverable="true" data-position="194" data-target-file="Agda.Builtin.Maybe.html">nothing</a> <a id="10084" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">⟧⇀</a> <a id="10087" href="Leios.Short.html#1761" class="Generalizable">s'</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
&lt;!–
<pre class="Agda has-copy-button" id="B19"><div class="code-container"><div class="line-numbers"><a href="#B19-L1" id="B19-L1" class="line-number" data-line-number="1" data-block-id="B19">1</a><a href="#B19-L2" id="B19-L2" class="line-number" data-line-number="2" data-block-id="B19">2</a><a href="#B19-L3" id="B19-L3" class="line-number" data-line-number="3" data-block-id="B19">3</a><a href="#B19-L4" id="B19-L4" class="line-number" data-line-number="4" data-block-id="B19">4</a><a href="#B19-L5" id="B19-L5" class="line-number" data-line-number="5" data-block-id="B19">5</a><a href="#B19-L6" id="B19-L6" class="line-number" data-line-number="6" data-block-id="B19">6</a><a href="#B19-L7" id="B19-L7" class="line-number" data-line-number="7" data-block-id="B19">7</a><a href="#B19-L8" id="B19-L8" class="line-number" data-line-number="8" data-block-id="B19">8</a><a href="#B19-L9" id="B19-L9" class="line-number" data-line-number="9" data-block-id="B19">9</a><a href="#B19-L10" id="B19-L10" class="line-number" data-line-number="10" data-block-id="B19">10</a><a href="#B19-L11" id="B19-L11" class="line-number" data-line-number="11" data-block-id="B19">11</a><a href="#B19-L12" id="B19-L12" class="line-number" data-line-number="12" data-block-id="B19">12</a><a href="#B19-L13" id="B19-L13" class="line-number" data-line-number="13" data-block-id="B19">13</a><a href="#B19-L14" id="B19-L14" class="line-number" data-line-number="14" data-block-id="B19">14</a><a href="#B19-L15" id="B19-L15" class="line-number" data-line-number="15" data-block-id="B19">15</a><a href="#B19-L16" id="B19-L16" class="line-number" data-line-number="16" data-block-id="B19">16</a><a href="#B19-L17" id="B19-L17" class="line-number" data-line-number="17" data-block-id="B19">17</a><a href="#B19-L18" id="B19-L18" class="line-number" data-line-number="18" data-block-id="B19">18</a><a href="#B19-L19" id="B19-L19" class="line-number" data-line-number="19" data-block-id="B19">19</a></div><div class="code-content"><div id="B19-LC1" class="code-line"><a id="ShortLeios"></a><a id="10107" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#10107" data-hoverable="true" data-position="10107" data-target-file="Leios.Short.html">ShortLeios</a> <a id="10118" class="Symbol">:</a> <a id="10120" href="CategoricalCrypto.Base.html#B1-L105" class="Record type-hoverable" data-original-href="CategoricalCrypto.Base.html#3569" data-hoverable="true" data-position="3569" data-target-file="CategoricalCrypto.Base.html">Machine</a> <a id="10128" class="Symbol">(</a><a id="10129" href="Leios.Protocol.html#B1-L342" class="Function type-hoverable" data-original-href="Leios.Protocol.html#11005" data-hoverable="true" data-position="11005" data-target-file="Leios.Protocol.html">FFD</a> <a id="10133" href="CategoricalCrypto.Base.html#B1-L30" class="Function Operator type-hoverable" data-original-href="CategoricalCrypto.Base.html#831" data-hoverable="true" data-position="831" data-target-file="CategoricalCrypto.Base.html">⊗</a> <a id="10135" href="Leios.Protocol.html#B1-L350" class="Function type-hoverable" data-original-href="Leios.Protocol.html#11200" data-hoverable="true" data-position="11200" data-target-file="Leios.Protocol.html">BaseC</a><a id="10140" class="Symbol">)</a> <a id="10142" class="Symbol">(</a><a id="10143" href="Leios.Protocol.html#B1-L328" class="Function type-hoverable" data-original-href="Leios.Protocol.html#10717" data-hoverable="true" data-position="10717" data-target-file="Leios.Protocol.html">IO</a> <a id="10146" href="CategoricalCrypto.Base.html#B1-L30" class="Function Operator type-hoverable" data-original-href="CategoricalCrypto.Base.html#831" data-hoverable="true" data-position="831" data-target-file="CategoricalCrypto.Base.html">⊗</a> <a id="10148" href="Leios.Protocol.html#B1-L331" class="Function type-hoverable" data-original-href="Leios.Protocol.html#10761" data-hoverable="true" data-position="10761" data-target-file="Leios.Protocol.html">Adv</a><a id="10151" class="Symbol">)</a></div><div id="B19-LC2" class="code-line"><a id="10153" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#10107" data-hoverable="true" data-position="10107" data-target-file="Leios.Short.html">ShortLeios</a> <a id="10164" class="Symbol">.</a><a id="10165" href="CategoricalCrypto.Base.html#B1-L107" class="Field type-hoverable" data-original-href="CategoricalCrypto.Base.html#3639" data-hoverable="true" data-position="3639" data-target-file="CategoricalCrypto.Base.html">Machine.State</a> <a id="10179" class="Symbol">=</a> <a id="10181" href="Leios.Protocol.html#B1-L45" class="Record type-hoverable" data-original-href="Leios.Protocol.html#1516" data-hoverable="true" data-position="1516" data-target-file="Leios.Protocol.html">LeiosState</a></div><div id="B19-LC3" class="code-line"><a id="10192" href="Leios.Short.html#B1-L1" class="Function type-hoverable" data-original-href="Leios.Short.html#10107" data-hoverable="true" data-position="10107" data-target-file="Leios.Short.html">ShortLeios</a> <a id="10203" class="Symbol">.</a><a id="10204" href="CategoricalCrypto.Base.html#B1-L108" class="Field type-hoverable" data-original-href="CategoricalCrypto.Base.html#3663" data-hoverable="true" data-position="3663" data-target-file="CategoricalCrypto.Base.html">Machine.stepRel</a> <a id="10220" class="Symbol">=</a> <a id="10222" href="Leios.Short.html#B1-L1" class="Datatype Operator type-hoverable" data-original-href="Leios.Short.html#7467" data-hoverable="true" data-position="7467" data-target-file="Leios.Short.html">_-⟦_/_⟧⇀_</a></div><div id="B19-LC4" class="code-line">&nbsp;</div><div id="B19-LC5" class="code-line"><a id="10233" class="Keyword">open</a> <a id="10238" class="Keyword">import</a> <a id="10245" href="GenPremises.html" class="Module">GenPremises</a></div><div id="B19-LC6" class="code-line">&nbsp;</div><div id="B19-LC7" class="code-line"><a id="10258" class="Keyword">unquoteDecl</a> <a id="IB-Role-premises"></a><a id="10270" href="Leios.Short.html#B1-L7" class="Function type-hoverable" data-original-href="Leios.Short.html#10270" data-hoverable="true" data-position="10270" data-target-file="Leios.Short.html">IB-Role-premises</a> <a id="10287" class="Symbol">=</a> <a id="10289" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10301" href="Leios.Short.html#B1-L7" class="Function type-hoverable" data-original-href="Leios.Short.html#10270" data-hoverable="true" data-position="10270" data-target-file="Leios.Short.html">IB-Role-premises</a> <a id="10318" class="Symbol">(</a><a id="10319" class="Keyword">quote</a> <a id="10325" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#3497" data-hoverable="true" data-position="3497" data-target-file="Leios.Short.html">_↝_.IB-Role</a><a id="10336" class="Symbol">)</a></div><div id="B19-LC8" class="code-line"><a id="10338" class="Keyword">unquoteDecl</a> <a id="EB-Role-premises"></a><a id="10350" href="Leios.Short.html#B1-L8" class="Function type-hoverable" data-original-href="Leios.Short.html#10350" data-hoverable="true" data-position="10350" data-target-file="Leios.Short.html">EB-Role-premises</a> <a id="10367" class="Symbol">=</a> <a id="10369" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10381" href="Leios.Short.html#B1-L8" class="Function type-hoverable" data-original-href="Leios.Short.html#10350" data-hoverable="true" data-position="10350" data-target-file="Leios.Short.html">EB-Role-premises</a> <a id="10398" class="Symbol">(</a><a id="10399" class="Keyword">quote</a> <a id="10405" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#3989" data-hoverable="true" data-position="3989" data-target-file="Leios.Short.html">_↝_.EB-Role</a><a id="10416" class="Symbol">)</a></div><div id="B19-LC9" class="code-line"><a id="10418" class="Keyword">unquoteDecl</a> <a id="VT-Role-premises"></a><a id="10430" href="Leios.Short.html#B1-L9" class="Function type-hoverable" data-original-href="Leios.Short.html#10430" data-hoverable="true" data-position="10430" data-target-file="Leios.Short.html">VT-Role-premises</a> <a id="10447" class="Symbol">=</a> <a id="10449" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10461" href="Leios.Short.html#B1-L9" class="Function type-hoverable" data-original-href="Leios.Short.html#10430" data-hoverable="true" data-position="10430" data-target-file="Leios.Short.html">VT-Role-premises</a> <a id="10478" class="Symbol">(</a><a id="10479" class="Keyword">quote</a> <a id="10485" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#4781" data-hoverable="true" data-position="4781" data-target-file="Leios.Short.html">_↝_.VT-Role</a><a id="10496" class="Symbol">)</a></div><div id="B19-LC10" class="code-line">&nbsp;</div><div id="B19-LC11" class="code-line"><a id="10499" class="Keyword">unquoteDecl</a> <a id="No-IB-Role-premises"></a><a id="10511" href="Leios.Short.html#B1-L11" class="Function type-hoverable" data-original-href="Leios.Short.html#10511" data-hoverable="true" data-position="10511" data-target-file="Leios.Short.html">No-IB-Role-premises</a> <a id="10531" class="Symbol">=</a> <a id="10533" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10545" href="Leios.Short.html#B1-L11" class="Function type-hoverable" data-original-href="Leios.Short.html#10511" data-hoverable="true" data-position="10511" data-target-file="Leios.Short.html">No-IB-Role-premises</a> <a id="10565" class="Symbol">(</a><a id="10566" class="Keyword">quote</a> <a id="10572" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#5244" data-hoverable="true" data-position="5244" data-target-file="Leios.Short.html">No-IB-Role</a><a id="10582" class="Symbol">)</a></div><div id="B19-LC12" class="code-line"><a id="10584" class="Keyword">unquoteDecl</a> <a id="No-EB-Role-premises"></a><a id="10596" href="Leios.Short.html#B1-L12" class="Function type-hoverable" data-original-href="Leios.Short.html#10596" data-hoverable="true" data-position="10596" data-target-file="Leios.Short.html">No-EB-Role-premises</a> <a id="10616" class="Symbol">=</a> <a id="10618" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10630" href="Leios.Short.html#B1-L12" class="Function type-hoverable" data-original-href="Leios.Short.html#10596" data-hoverable="true" data-position="10596" data-target-file="Leios.Short.html">No-EB-Role-premises</a> <a id="10650" class="Symbol">(</a><a id="10651" class="Keyword">quote</a> <a id="10657" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#5500" data-hoverable="true" data-position="5500" data-target-file="Leios.Short.html">No-EB-Role</a><a id="10667" class="Symbol">)</a></div><div id="B19-LC13" class="code-line"><a id="10669" class="Keyword">unquoteDecl</a> <a id="No-VT-Role-premises"></a><a id="10681" href="Leios.Short.html#B1-L13" class="Function type-hoverable" data-original-href="Leios.Short.html#10681" data-hoverable="true" data-position="10681" data-target-file="Leios.Short.html">No-VT-Role-premises</a> <a id="10701" class="Symbol">=</a> <a id="10703" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10715" href="Leios.Short.html#B1-L13" class="Function type-hoverable" data-original-href="Leios.Short.html#10681" data-hoverable="true" data-position="10681" data-target-file="Leios.Short.html">No-VT-Role-premises</a> <a id="10735" class="Symbol">(</a><a id="10736" class="Keyword">quote</a> <a id="10742" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#5756" data-hoverable="true" data-position="5756" data-target-file="Leios.Short.html">No-VT-Role</a><a id="10752" class="Symbol">)</a></div><div id="B19-LC14" class="code-line">&nbsp;</div><div id="B19-LC15" class="code-line"><a id="10755" class="Keyword">unquoteDecl</a> <a id="Slot₁-premises"></a><a id="10767" href="Leios.Short.html#B1-L15" class="Function type-hoverable" data-original-href="Leios.Short.html#10767" data-hoverable="true" data-position="10767" data-target-file="Leios.Short.html">Slot₁-premises</a> <a id="10782" class="Symbol">=</a> <a id="10784" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10796" href="Leios.Short.html#B1-L15" class="Function type-hoverable" data-original-href="Leios.Short.html#10767" data-hoverable="true" data-position="10767" data-target-file="Leios.Short.html">Slot₁-premises</a> <a id="10811" class="Symbol">(</a><a id="10812" class="Keyword">quote</a> <a id="10818" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#7571" data-hoverable="true" data-position="7571" data-target-file="Leios.Short.html">Slot₁</a><a id="10823" class="Symbol">)</a></div><div id="B19-LC16" class="code-line"><a id="10825" class="Keyword">unquoteDecl</a> <a id="Slot₂-premises"></a><a id="10837" href="Leios.Short.html#B1-L16" class="Function type-hoverable" data-original-href="Leios.Short.html#10837" data-hoverable="true" data-position="10837" data-target-file="Leios.Short.html">Slot₂-premises</a> <a id="10852" class="Symbol">=</a> <a id="10854" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10866" href="Leios.Short.html#B1-L16" class="Function type-hoverable" data-original-href="Leios.Short.html#10837" data-hoverable="true" data-position="10837" data-target-file="Leios.Short.html">Slot₂-premises</a> <a id="10881" class="Symbol">(</a><a id="10882" class="Keyword">quote</a> <a id="10888" href="Leios.Short.html#B1-L10" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#8017" data-hoverable="true" data-position="8017" data-target-file="Leios.Short.html">Slot₂</a><a id="10893" class="Symbol">)</a></div><div id="B19-LC17" class="code-line"><a id="10895" class="Keyword">unquoteDecl</a> <a id="Base₁-premises"></a><a id="10907" href="Leios.Short.html#B1-L17" class="Function type-hoverable" data-original-href="Leios.Short.html#10907" data-hoverable="true" data-position="10907" data-target-file="Leios.Short.html">Base₁-premises</a> <a id="10922" class="Symbol">=</a> <a id="10924" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="10936" href="Leios.Short.html#B1-L17" class="Function type-hoverable" data-original-href="Leios.Short.html#10907" data-hoverable="true" data-position="10907" data-target-file="Leios.Short.html">Base₁-premises</a> <a id="10951" class="Symbol">(</a><a id="10952" class="Keyword">quote</a> <a id="10958" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#8624" data-hoverable="true" data-position="8624" data-target-file="Leios.Short.html">Base₁</a><a id="10963" class="Symbol">)</a></div><div id="B19-LC18" class="code-line"><a id="10965" class="Keyword">unquoteDecl</a> <a id="Base₂a-premises"></a><a id="10977" href="Leios.Short.html#B1-L18" class="Function type-hoverable" data-original-href="Leios.Short.html#10977" data-hoverable="true" data-position="10977" data-target-file="Leios.Short.html">Base₂a-premises</a> <a id="10993" class="Symbol">=</a> <a id="10995" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="11007" href="Leios.Short.html#B1-L18" class="Function type-hoverable" data-original-href="Leios.Short.html#10977" data-hoverable="true" data-position="10977" data-target-file="Leios.Short.html">Base₂a-premises</a> <a id="11023" class="Symbol">(</a><a id="11024" class="Keyword">quote</a> <a id="11030" href="Leios.Short.html#B1-L1" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#8826" data-hoverable="true" data-position="8826" data-target-file="Leios.Short.html">Base₂a</a><a id="11036" class="Symbol">)</a></div><div id="B19-LC19" class="code-line"><a id="11038" class="Keyword">unquoteDecl</a> <a id="Base₂b-premises"></a><a id="11050" href="Leios.Short.html#B1-L19" class="Function type-hoverable" data-original-href="Leios.Short.html#11050" data-hoverable="true" data-position="11050" data-target-file="Leios.Short.html">Base₂b-premises</a> <a id="11066" class="Symbol">=</a> <a id="11068" href="GenPremises.html#B1-L322" class="Function type-hoverable" data-original-href="GenPremises.html#13557" data-hoverable="true" data-position="13557" data-target-file="GenPremises.html">genPremises</a> <a id="11080" href="Leios.Short.html#B1-L19" class="Function type-hoverable" data-original-href="Leios.Short.html#11050" data-hoverable="true" data-position="11050" data-target-file="Leios.Short.html">Base₂b-premises</a> <a id="11096" class="Symbol">(</a><a id="11097" class="Keyword">quote</a> <a id="11103" href="Leios.Short.html#B1-L8" class="InductiveConstructor type-hoverable" data-original-href="Leios.Short.html#9252" data-hoverable="true" data-position="9252" data-target-file="Leios.Short.html">Base₂b</a><a id="11109" class="Symbol">)</a></div></div></div><button class="copy-code-button" title="Copy code">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path fill="currentColor" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path fill="currentColor" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
        </svg>
      </button></pre>
<p>–!&gt;</p>


<script src="themeToggle.js" defer=""></script><script src="sidebarToggle.js" defer=""></script></div></div><script src="codeBlocks.js" defer=""></script><script src="search.js" defer=""></script><div id="type-preview-container" class="type-preview-container" style="display: none;"></div><script src="typePreview.js" defer=""></script></body></html>
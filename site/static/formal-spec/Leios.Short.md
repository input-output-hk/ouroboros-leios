## Short-Pipeline Leios

<!--
<pre class="Agda"><a id="39" class="Symbol">{-#</a> <a id="43" class="Keyword">OPTIONS</a> <a id="51" class="Pragma">--safe</a> <a id="58" class="Symbol">#-}</a>
<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Leios.Prelude.html" class="Module">Leios.Prelude</a> <a id="88" class="Keyword">hiding</a> <a id="95" class="Symbol">(</a><a id="96" href="Function.Base.html#704" class="Function">id</a><a id="98" class="Symbol">;</a> <a id="100" href="Class.Applicative.Core.html#497" class="Function Operator">_⊗_</a><a id="103" class="Symbol">)</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Leios.FFD.html" class="Module">Leios.FFD</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Leios.SpecStructure.html" class="Module">Leios.SpecStructure</a>
<a id="159" class="Keyword">open</a> <a id="164" class="Keyword">import</a> <a id="171" href="Leios.Config.html" class="Module">Leios.Config</a>

<a id="185" class="Keyword">open</a> <a id="190" class="Keyword">import</a> <a id="197" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>

<a id="246" class="Keyword">open</a> <a id="251" class="Keyword">import</a> <a id="258" href="CategoricalCrypto.html" class="Module">CategoricalCrypto</a> <a id="276" class="Keyword">hiding</a> <a id="283" class="Symbol">(</a><a id="284" href="CategoricalCrypto.Base.html#4712" class="Function">id</a><a id="286" class="Symbol">;</a> <a id="288" href="CategoricalCrypto.Base.html#7244" class="Function Operator">_∘_</a><a id="291" class="Symbol">)</a>

<a id="294" class="Keyword">module</a> <a id="301" href="Leios.Short.html" class="Module">Leios.Short</a> <a id="313" class="Symbol">(</a><a id="314" href="Leios.Short.html#314" class="Bound">⋯</a> <a id="316" class="Symbol">:</a> <a id="318" href="Leios.SpecStructure.html#286" class="Record">SpecStructure</a> <a id="332" class="Number">1</a><a id="333" class="Symbol">)</a>
  <a id="337" class="Symbol">(</a><a id="338" class="Keyword">let</a> <a id="342" class="Keyword">open</a> <a id="347" href="Leios.SpecStructure.html#286" class="Module">SpecStructure</a> <a id="361" href="Leios.Short.html#314" class="Bound">⋯</a> <a id="363" class="Keyword">renaming</a> <a id="372" class="Symbol">(</a><a id="373" href="Leios.Voting.html#203" class="Function">isVoteCertified</a> <a id="389" class="Symbol">to</a> <a id="392" class="Function">isVoteCertified&#39;</a><a id="408" class="Symbol">))</a>
  <a id="413" class="Symbol">(</a><a id="414" href="Leios.Short.html#414" class="Bound">params</a> <a id="421" class="Symbol">:</a> <a id="423" href="Leios.Config.html#923" class="Record">Params</a><a id="429" class="Symbol">)</a> <a id="431" class="Keyword">where</a>
</pre>-->

This document is a specification of Short-Pipeline Leios, usually
abbreviated as Short Leios. On a high level, the pipeline looks like this:

1. If elected, propose IB
2. Wait
3. Wait
4. If elected, propose EB
5. If elected, vote
   If elected, propose RB

### Upkeep

A node that never produces a block even though it could is not
supposed to be an honest node, and we prevent that by tracking whether
a node has checked if it can make a block in a particular slot.
`LeiosState` contains a set of `SlotUpkeep` and we ensure that this
set contains all elements before we can advance to the next slot,
resetting this field to the empty set.

<pre class="Agda"><a id="1095" class="Keyword">data</a> <a id="SlotUpkeep"></a><a id="1100" href="Leios.Short.html#1100" class="Datatype">SlotUpkeep</a> <a id="1111" class="Symbol">:</a> <a id="1113" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1118" class="Keyword">where</a>
  <a id="SlotUpkeep.Base"></a><a id="1126" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a> <a id="SlotUpkeep.IB-Role"></a><a id="1131" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a> <a id="SlotUpkeep.EB-Role"></a><a id="1139" href="Leios.Short.html#1139" class="InductiveConstructor">EB-Role</a> <a id="1147" class="Symbol">:</a> <a id="1149" href="Leios.Short.html#1100" class="Datatype">SlotUpkeep</a>

<a id="1161" class="Keyword">unquoteDecl</a> <a id="DecEq-SlotUpkeep"></a><a id="1173" href="Leios.Short.html#1173" class="Function">DecEq-SlotUpkeep</a> <a id="1190" class="Symbol">=</a> <a id="1192" href="Tactic.Derive.DecEq.html#3512" class="Function">derive-DecEq</a> <a id="1205" class="Symbol">((</a><a id="1207" class="Keyword">quote</a> <a id="1213" href="Leios.Short.html#1100" class="Datatype">SlotUpkeep</a> <a id="1224" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1226" href="Leios.Short.html#1173" class="Function">DecEq-SlotUpkeep</a><a id="1242" class="Symbol">)</a> <a id="1244" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1246" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1248" class="Symbol">)</a>
</pre><!--
<pre class="Agda"><a id="1267" class="Keyword">data</a> <a id="StageUpkeep"></a><a id="1272" href="Leios.Short.html#1272" class="Datatype">StageUpkeep</a> <a id="1284" class="Symbol">:</a> <a id="1286" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1291" class="Keyword">where</a>
  <a id="StageUpkeep.VT-Role"></a><a id="1299" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a> <a id="1307" class="Symbol">:</a> <a id="1309" href="Leios.Short.html#1272" class="Datatype">StageUpkeep</a>

<a id="1322" class="Keyword">unquoteDecl</a> <a id="DecEq-StageUpkeep"></a><a id="1334" href="Leios.Short.html#1334" class="Function">DecEq-StageUpkeep</a> <a id="1352" class="Symbol">=</a> <a id="1354" href="Tactic.Derive.DecEq.html#3512" class="Function">derive-DecEq</a> <a id="1367" class="Symbol">((</a><a id="1369" class="Keyword">quote</a> <a id="1375" href="Leios.Short.html#1272" class="Datatype">StageUpkeep</a> <a id="1387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1389" href="Leios.Short.html#1334" class="Function">DecEq-StageUpkeep</a><a id="1406" class="Symbol">)</a> <a id="1408" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1410" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1412" class="Symbol">)</a>
</pre><pre class="Agda"><a id="1426" class="Keyword">open</a> <a id="1431" class="Keyword">import</a> <a id="1438" href="Leios.Protocol.html" class="Module">Leios.Protocol</a> <a id="1453" class="Symbol">(</a><a id="1454" href="Leios.Short.html#314" class="Bound">⋯</a><a id="1455" class="Symbol">)</a> <a id="1457" href="Leios.Short.html#1100" class="Datatype">SlotUpkeep</a> <a id="1468" href="Leios.Short.html#1272" class="Datatype">StageUpkeep</a> <a id="1480" class="Keyword">public</a>

<a id="1488" class="Keyword">open</a> <a id="1493" href="Leios.Base.html#636" class="Module">BaseAbstract</a> <a id="1506" href="Leios.SpecStructure.html#835" class="Field">B&#39;</a> <a id="1509" class="Keyword">using</a> <a id="1515" class="Symbol">(</a><a id="1516" href="Leios.Base.html#671" class="Field">Cert</a><a id="1520" class="Symbol">;</a> <a id="1522" href="Leios.Base.html#737" class="Field">V-chkCerts</a><a id="1532" class="Symbol">;</a> <a id="1534" href="Leios.Base.html#691" class="Field">VTy</a><a id="1537" class="Symbol">;</a> <a id="1539" href="Leios.Base.html#710" class="Field">initSlot</a><a id="1547" class="Symbol">)</a>
<a id="1549" class="Keyword">open</a> <a id="1554" href="Leios.SpecStructure.html#1203" class="Module">FFD</a> <a id="1558" class="Keyword">hiding</a> <a id="1565" class="Symbol">(</a><a id="1566" href="Leios.FFD.html#562" class="Function Operator">_-⟦_/_⟧⇀_</a><a id="1575" class="Symbol">)</a>
<a id="1577" class="Keyword">open</a> <a id="1582" href="Leios.Blocks.html#4563" class="Module">GenFFD</a>
</pre><pre class="Agda"><a id="isVoteCertified"></a><a id="1601" href="Leios.Short.html#1601" class="Function">isVoteCertified</a> <a id="1617" class="Symbol">:</a> <a id="1619" href="Leios.Protocol.html#1513" class="Record">LeiosState</a> <a id="1630" class="Symbol">→</a> <a id="1632" href="Leios.Blocks.html#3246" class="Function">EndorserBlock</a> <a id="1646" class="Symbol">→</a> <a id="1648" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1653" href="Leios.Short.html#1601" class="Function">isVoteCertified</a> <a id="1669" href="Leios.Short.html#1669" class="Bound">s</a> <a id="1671" href="Leios.Short.html#1671" class="Bound">eb</a> <a id="1674" class="Symbol">=</a> <a id="1676" href="Leios.Short.html#392" class="Function">isVoteCertified&#39;</a> <a id="1693" class="Symbol">(</a><a id="1694" href="Leios.Protocol.html#2092" class="Field">LeiosState.votingState</a> <a id="1717" href="Leios.Short.html#1669" class="Bound">s</a><a id="1718" class="Symbol">)</a> <a id="1720" class="Symbol">(</a><a id="1721" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a> <a id="1724" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1726" href="Leios.Short.html#1671" class="Bound">eb</a><a id="1728" class="Symbol">)</a>
</pre><pre class="Agda"><a id="1742" class="Keyword">private</a> <a id="1750" class="Keyword">variable</a> <a id="1759" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="1761" href="Leios.Short.html#1761" class="Generalizable">s&#39;</a>   <a id="1766" class="Symbol">:</a> <a id="1768" href="Leios.Protocol.html#1513" class="Record">LeiosState</a>
                 <a id="1796" href="Leios.Short.html#1796" class="Generalizable">ffds&#39;</a>  <a id="1803" class="Symbol">:</a> <a id="1805" href="Leios.FFD.html#508" class="Function">FFD.State</a>
                 <a id="1832" href="Leios.Short.html#1832" class="Generalizable">π</a>      <a id="1839" class="Symbol">:</a> <a id="1841" href="Leios.Abstract.html#578" class="Function">VrfPf</a>
                 <a id="1864" href="Leios.Short.html#1864" class="Generalizable">bs&#39;</a>    <a id="1871" class="Symbol">:</a> <a id="1873" href="Leios.Base.html#3313" class="Function">B.State</a>
                 <a id="1898" href="Leios.Short.html#1898" class="Generalizable">ks</a> <a id="1901" href="Leios.Short.html#1901" class="Generalizable">ks&#39;</a> <a id="1905" class="Symbol">:</a> <a id="1907" href="Leios.KeyRegistration.html#453" class="Function">K.State</a>
                 <a id="1932" href="Leios.Short.html#1932" class="Generalizable">msgs</a>   <a id="1939" class="Symbol">:</a> <a id="1941" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1946" class="Symbol">(</a><a id="1947" href="Leios.FFD.html#117" class="Field">FFDAbstract.Header</a> <a id="1966" href="Leios.Blocks.html#5611" class="Function">ffdAbstract</a> <a id="1978" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1980" href="Leios.FFD.html#124" class="Field">FFDAbstract.Body</a> <a id="1997" href="Leios.Blocks.html#5611" class="Function">ffdAbstract</a><a id="2008" class="Symbol">)</a>
                 <a id="2027" href="Leios.Short.html#2027" class="Generalizable">i</a>      <a id="2034" class="Symbol">:</a> <a id="2036" href="Leios.FFD.html#288" class="Datatype">FFDAbstract.Input</a> <a id="2054" href="Leios.Blocks.html#5611" class="Function">ffdAbstract</a>
                 <a id="2083" href="Leios.Short.html#2083" class="Generalizable">eb</a>     <a id="2090" class="Symbol">:</a> <a id="2092" href="Leios.Blocks.html#3246" class="Function">EndorserBlock</a>
                 <a id="2123" href="Leios.Short.html#2123" class="Generalizable">ebs</a>    <a id="2130" class="Symbol">:</a> <a id="2132" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2137" href="Leios.Blocks.html#3246" class="Function">EndorserBlock</a>
                 <a id="2168" href="Leios.Short.html#2168" class="Generalizable">rbs</a>    <a id="2175" class="Symbol">:</a> <a id="2177" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2182" href="Leios.Base.html#517" class="Record">RankingBlock</a>
                 <a id="2212" href="Leios.Short.html#2212" class="Generalizable">txs</a>    <a id="2219" class="Symbol">:</a> <a id="2221" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2226" href="Leios.Abstract.html#457" class="Function">Tx</a>
                 <a id="2246" href="Leios.Short.html#2246" class="Generalizable">V</a>      <a id="2253" class="Symbol">:</a> <a id="2255" href="Leios.Base.html#691" class="Function">VTy</a>
                 <a id="2276" href="Leios.Short.html#2276" class="Generalizable">SD</a>     <a id="2283" class="Symbol">:</a> <a id="2285" href="Leios.Base.html#460" class="Function">StakeDistr</a>
                 <a id="2313" href="Leios.Short.html#2313" class="Generalizable">pks</a>    <a id="2320" class="Symbol">:</a> <a id="2322" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2327" href="Leios.VRF.html#911" class="Function">PubKey</a>
                 <a id="2351" href="Leios.Short.html#2351" class="Generalizable">cert</a>   <a id="2358" class="Symbol">:</a> <a id="2360" href="Leios.Abstract.html#601" class="Function">EBCert</a>
</pre>-->
### Block/Vote production

IBs from the last 3 pipelines are directly included in the EB, when the late IB inclusion
flag is set
<pre class="Agda"><a id="IBSelection"></a><a id="2512" href="Leios.Short.html#2512" class="Function">IBSelection</a> <a id="2524" class="Symbol">:</a> <a id="2526" href="Leios.Protocol.html#1513" class="Record">LeiosState</a> <a id="2537" class="Symbol">→</a> <a id="2539" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="2544" class="Symbol">→</a> <a id="2546" href="Leios.Blocks.html#1518" class="Record">InputBlock</a> <a id="2557" class="Symbol">→</a> <a id="2559" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2564" href="Leios.Short.html#2512" class="Function">IBSelection</a> <a id="2576" href="Leios.Short.html#2576" class="Bound">s</a> <a id="2578" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2584" class="Symbol">=</a> <a id="2586" href="Leios.Blocks.html#770" class="Function Operator">_∈ᴮ</a> <a id="2590" href="Leios.Prelude.html#1209" class="Function">slice</a> <a id="2596" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="2598" class="Symbol">(</a><a id="2599" href="Leios.Protocol.html#1919" class="Field">LeiosState.slot</a> <a id="2615" href="Leios.Short.html#2576" class="Bound">s</a><a id="2616" class="Symbol">)</a> <a id="2618" class="Number">3</a>
<a id="2620" href="Leios.Short.html#2512" class="Function">IBSelection</a> <a id="2632" href="Leios.Short.html#2632" class="Bound">s</a> <a id="2634" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="2640" class="Symbol">=</a> <a id="2642" href="Leios.Blocks.html#770" class="Function Operator">_∈ᴮ</a> <a id="2646" href="Leios.Prelude.html#1475" class="Function">slices</a> <a id="2653" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="2655" class="Symbol">(</a><a id="2656" href="Leios.Protocol.html#1919" class="Field">LeiosState.slot</a> <a id="2672" href="Leios.Short.html#2632" class="Bound">s</a><a id="2673" class="Symbol">)</a> <a id="2675" class="Number">3</a> <a id="2677" class="Number">6</a>

<a id="IBSelection?"></a><a id="2680" href="Leios.Short.html#2680" class="Function">IBSelection?</a> <a id="2693" class="Symbol">:</a> <a id="2695" class="Symbol">(</a><a id="2696" href="Leios.Short.html#2696" class="Bound">s</a> <a id="2698" class="Symbol">:</a> <a id="2700" href="Leios.Protocol.html#1513" class="Record">LeiosState</a><a id="2710" class="Symbol">)</a> <a id="2712" class="Symbol">→</a> <a id="2714" class="Symbol">(</a><a id="2715" href="Leios.Short.html#2715" class="Bound">b</a> <a id="2717" class="Symbol">:</a> <a id="2719" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="2723" class="Symbol">)</a> <a id="2725" class="Symbol">→</a> <a id="2727" class="Symbol">(</a><a id="2728" href="Leios.Short.html#2728" class="Bound">ib</a> <a id="2731" class="Symbol">:</a> <a id="2733" href="Leios.Blocks.html#1518" class="Record">InputBlock</a><a id="2743" class="Symbol">)</a> <a id="2745" class="Symbol">→</a> <a id="2747" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="2751" class="Symbol">(</a><a id="2752" href="Leios.Short.html#2512" class="Function">IBSelection</a> <a id="2764" href="Leios.Short.html#2696" class="Bound">s</a> <a id="2766" href="Leios.Short.html#2715" class="Bound">b</a> <a id="2768" href="Leios.Short.html#2728" class="Bound">ib</a><a id="2770" class="Symbol">)</a>
<a id="2772" href="Leios.Short.html#2680" class="Function">IBSelection?</a> <a id="2785" href="Leios.Short.html#2785" class="Bound">s</a> <a id="2787" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2793" href="Leios.Short.html#2793" class="Bound">ib</a> <a id="2796" class="Symbol">=</a> <a id="2798" href="Leios.Blocks.html#640" class="Field">slotNumber</a> <a id="2809" href="Leios.Short.html#2793" class="Bound">ib</a> <a id="2812" href="Axiom.Set.html#10771" class="Function Operator">∈?</a> <a id="2815" href="Leios.Prelude.html#1209" class="Function">slice</a> <a id="2821" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="2823" class="Symbol">(</a><a id="2824" href="Leios.Protocol.html#1919" class="Field">LeiosState.slot</a> <a id="2840" href="Leios.Short.html#2785" class="Bound">s</a><a id="2841" class="Symbol">)</a> <a id="2843" class="Number">3</a>
<a id="2845" href="Leios.Short.html#2680" class="Function">IBSelection?</a> <a id="2858" href="Leios.Short.html#2858" class="Bound">s</a> <a id="2860" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2865" href="Leios.Short.html#2865" class="Bound">ib</a>  <a id="2869" class="Symbol">=</a> <a id="2871" href="Leios.Blocks.html#640" class="Field">slotNumber</a> <a id="2882" href="Leios.Short.html#2865" class="Bound">ib</a> <a id="2885" href="Axiom.Set.html#10771" class="Function Operator">∈?</a> <a id="2888" href="Leios.Prelude.html#1475" class="Function">slices</a> <a id="2895" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="2897" class="Symbol">(</a><a id="2898" href="Leios.Protocol.html#1919" class="Field">LeiosState.slot</a> <a id="2914" href="Leios.Short.html#2858" class="Bound">s</a><a id="2915" class="Symbol">)</a> <a id="2917" class="Number">3</a> <a id="2919" class="Number">6</a>
</pre>We now define the rules for block production given by the relation `_↝_`. These are split in two:

1. Positive rules, when we do need to create a block.
2. Negative rules, when we cannot create a block.

The purpose of the negative rules is to properly adjust the upkeep if
we cannot make a block.

Note that `_↝_`, starting with an empty upkeep can always make exactly
three steps corresponding to the three types of Leios specific blocks.

<pre class="Agda"><a id="3375" class="Keyword">data</a> <a id="_↝_"></a><a id="3380" href="Leios.Short.html#3380" class="Datatype Operator">_↝_</a> <a id="3384" class="Symbol">:</a> <a id="3386" href="Leios.Protocol.html#1513" class="Record">LeiosState</a> <a id="3397" class="Symbol">→</a> <a id="3399" href="Leios.Protocol.html#1513" class="Record">LeiosState</a> <a id="3410" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3412" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3418" class="Symbol">(</a><a id="3419" href="Leios.FFD.html#288" class="Datatype">FFDAbstract.Input</a> <a id="3437" href="Leios.Blocks.html#5611" class="Function">ffdAbstract</a><a id="3448" class="Symbol">)</a> <a id="3450" class="Symbol">→</a> <a id="3452" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3457" class="Keyword">where</a>
</pre>#### Positive rules
<pre class="Agda">  <a id="_↝_.IB-Role"></a><a id="3497" href="Leios.Short.html#3497" class="InductiveConstructor">IB-Role</a> <a id="3505" class="Symbol">:</a> <a id="3507" class="Keyword">let</a> <a id="3511" class="Keyword">open</a> <a id="3516" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="3527" href="Leios.Short.html#1759" class="Generalizable">s</a>
                <a id="3545" href="Leios.Short.html#3545" class="Bound">b</a> <a id="3547" class="Symbol">=</a> <a id="3549" href="Leios.Blocks.html#4766" class="InductiveConstructor">ibBody</a> <a id="3556" class="Symbol">(</a><a id="3557" class="Keyword">record</a> <a id="3564" class="Symbol">{</a> <a id="3566" href="Leios.Blocks.html#1496" class="Field">txs</a> <a id="3570" class="Symbol">=</a> <a id="3572" href="Leios.Protocol.html#1647" class="Function">ToPropose</a> <a id="3582" class="Symbol">})</a>
                <a id="3601" href="Leios.Short.html#3601" class="Bound">h</a> <a id="3603" class="Symbol">=</a> <a id="3605" href="Leios.Blocks.html#4635" class="InductiveConstructor">ibHeader</a> <a id="3614" class="Symbol">(</a><a id="3615" href="Leios.Blocks.html#2311" class="Function">mkIBHeader</a> <a id="3626" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="3631" href="Leios.SpecStructure.html#601" class="Field">id</a> <a id="3634" href="Leios.Short.html#1832" class="Generalizable">π</a> <a id="3636" href="Leios.SpecStructure.html#730" class="Field">sk-IB</a> <a id="3642" href="Leios.Protocol.html#1647" class="Function">ToPropose</a><a id="3651" class="Symbol">)</a>
          <a id="3663" class="Keyword">in</a>
          <a id="3676" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3678" href="Leios.VRF.html#1245" class="Function">canProduceIB</a> <a id="3691" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="3696" href="Leios.SpecStructure.html#730" class="Field">sk-IB</a> <a id="3702" class="Symbol">(</a><a id="3703" href="Leios.Protocol.html#4654" class="Function">stake</a> <a id="3709" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="3710" class="Symbol">)</a> <a id="3712" href="Leios.Short.html#1832" class="Generalizable">π</a>
          <a id="3724" href="Prelude.InferenceRules.html#11316" class="Function Operator">─────────────────────────────────────────────────────────────────────────</a>
          <a id="3808" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="3810" href="Leios.Short.html#3380" class="Datatype Operator">↝</a> <a id="3812" class="Symbol">(</a><a id="3813" href="Leios.Protocol.html#3730" class="Function">addUpkeep</a> <a id="3823" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="3825" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a> <a id="3833" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3835" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3840" class="Symbol">(</a><a id="3841" href="Leios.FFD.html#311" class="InductiveConstructor">Send</a> <a id="3846" href="Leios.Short.html#3601" class="Bound">h</a> <a id="3848" class="Symbol">(</a><a id="3849" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3854" href="Leios.Short.html#3545" class="Bound">b</a><a id="3855" class="Symbol">)))</a>
</pre>When η = 0 there is no indirect ledger inclusion; in case η > 0 earlier EBs might
be referenced (Full-Short Leios).
<pre class="Agda">  <a id="_↝_.EB-Role"></a><a id="3989" href="Leios.Short.html#3989" class="InductiveConstructor">EB-Role</a> <a id="3997" class="Symbol">:</a> <a id="3999" class="Keyword">let</a> <a id="4003" class="Keyword">open</a> <a id="4008" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="4019" href="Leios.Short.html#1759" class="Generalizable">s</a>
                <a id="4037" href="Leios.Short.html#4037" class="Bound">ibs</a> <a id="4041" class="Symbol">=</a> <a id="4043" href="Data.List.Base.html#10687" class="Function">L.filter</a> <a id="4052" class="Symbol">(</a><a id="4053" href="Leios.Short.html#2680" class="Function">IBSelection?</a> <a id="4066" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="4068" href="Leios.Abstract.html#1064" class="Function">Late-IB-Inclusion</a><a id="4085" class="Symbol">)</a> <a id="4087" href="Leios.Protocol.html#1678" class="Function">IBs</a>
                <a id="4107" href="Leios.Short.html#4107" class="Bound">LI</a>  <a id="4111" class="Symbol">=</a> <a id="4113" href="abstract-set-theory.Prelude.html#1824" class="Function">map</a> <a id="4117" href="Leios.Blocks.html#2717" class="Function">getIBRef</a> <a id="4126" href="Leios.Short.html#4037" class="Bound">ibs</a>
                <a id="4146" href="Leios.Short.html#4146" class="Bound">LE</a>  <a id="4150" class="Symbol">=</a> <a id="4152" href="abstract-set-theory.Prelude.html#1824" class="Function">map</a> <a id="4156" href="Leios.Blocks.html#4281" class="Function">getEBRef</a> <a id="4165" href="Leios.Short.html#2123" class="Generalizable">ebs</a>
                <a id="4185" href="Leios.Short.html#4185" class="Bound">h</a>   <a id="4189" class="Symbol">=</a> <a id="4191" href="Leios.Blocks.html#3777" class="Function">mkEB</a> <a id="4196" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="4201" href="Leios.SpecStructure.html#601" class="Field">id</a> <a id="4204" href="Leios.Short.html#1832" class="Generalizable">π</a> <a id="4206" href="Leios.SpecStructure.html#736" class="Field">sk-EB</a> <a id="4212" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4215" href="Leios.Short.html#4107" class="Bound">LI</a> <a id="4218" href="Leios.Short.html#4146" class="Bound">LE</a>
                <a id="4237" href="Leios.Short.html#4237" class="Bound">P</a>   <a id="4241" class="Symbol">=</a> <a id="4243" class="Symbol">λ</a> <a id="4245" href="Leios.Short.html#4245" class="Bound">x</a> <a id="4247" class="Symbol">→</a> <a id="4249" href="Leios.Short.html#1601" class="Function">isVoteCertified</a> <a id="4265" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="4267" href="Leios.Short.html#4245" class="Bound">x</a>
                         <a id="4294" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4296" href="Leios.Short.html#4245" class="Bound">x</a> <a id="4298" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="4301" href="Leios.Protocol.html#2379" class="Function">EBs</a>
                         <a id="4330" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4332" href="Leios.Short.html#4245" class="Bound">x</a> <a id="4334" href="Leios.Blocks.html#770" class="Function Operator">∈ᴮ</a> <a id="4337" href="Leios.Prelude.html#1475" class="Function">slices</a> <a id="4344" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="4346" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="4351" class="Number">2</a> <a id="4353" class="Symbol">(</a><a id="4354" class="Number">3</a> <a id="4356" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4358" href="Leios.Abstract.html#1050" class="Function">η</a> <a id="4360" href="Data.Nat.Base.html#7096" class="Function Operator">/</a> <a id="4362" href="Leios.Abstract.html#1002" class="Function">L</a><a id="4363" class="Symbol">)</a>
                <a id="4381" href="Leios.Short.html#4381" class="Bound">slots</a> <a id="4387" class="Symbol">=</a> <a id="4389" href="abstract-set-theory.Prelude.html#1824" class="Function">map</a> <a id="4393" href="Leios.Blocks.html#640" class="Field">slotNumber</a>
          <a id="4414" class="Keyword">in</a>
          <a id="4427" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4429" href="Leios.Protocol.html#3088" class="Function">needsUpkeep</a> <a id="4441" href="Leios.Short.html#1139" class="InductiveConstructor">EB-Role</a>
          <a id="4459" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="4461" href="Leios.VRF.html#1849" class="Function">canProduceEB</a> <a id="4474" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="4479" href="Leios.SpecStructure.html#736" class="Field">sk-EB</a> <a id="4485" class="Symbol">(</a><a id="4486" href="Leios.Protocol.html#4654" class="Function">stake</a> <a id="4492" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="4493" class="Symbol">)</a> <a id="4495" href="Leios.Short.html#1832" class="Generalizable">π</a>
          <a id="4507" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="4509" href="Data.List.Relation.Unary.All.html#1639" class="Datatype">All.All</a> <a id="4517" href="Leios.Short.html#4237" class="Bound">P</a> <a id="4519" href="Leios.Short.html#2123" class="Generalizable">ebs</a>
          <a id="4533" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="4535" href="Data.List.Relation.Unary.Unique.Setoid.html#785" class="Datatype">Unique</a> <a id="4542" class="Symbol">(</a><a id="4543" href="Leios.Short.html#4381" class="Bound">slots</a> <a id="4549" href="Leios.Short.html#2123" class="Generalizable">ebs</a><a id="4552" class="Symbol">)</a> <a id="4554" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4556" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="4565" class="Symbol">(</a><a id="4566" href="Leios.Short.html#4381" class="Bound">slots</a> <a id="4572" href="Leios.Short.html#2123" class="Generalizable">ebs</a><a id="4575" class="Symbol">)</a> <a id="4577" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="4580" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="4589" class="Symbol">(</a><a id="4590" href="Leios.Short.html#4381" class="Bound">slots</a> <a id="4596" class="Symbol">(</a><a id="4597" href="Leios.Prelude.html#1588" class="Function">filter</a> <a id="4604" href="Leios.Short.html#4237" class="Bound">P</a> <a id="4606" href="Leios.Protocol.html#2379" class="Function">EBs</a><a id="4609" class="Symbol">))</a>
          <a id="4622" href="Prelude.InferenceRules.html#11316" class="Function Operator">─────────────────────────────────────────────────────────────────────────</a>
          <a id="4706" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="4708" href="Leios.Short.html#3380" class="Datatype Operator">↝</a> <a id="4710" class="Symbol">(</a><a id="4711" href="Leios.Protocol.html#3730" class="Function">addUpkeep</a> <a id="4721" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="4723" href="Leios.Short.html#1139" class="InductiveConstructor">EB-Role</a> <a id="4731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4733" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4738" class="Symbol">(</a><a id="4739" href="Leios.FFD.html#311" class="InductiveConstructor">Send</a> <a id="4744" class="Symbol">(</a><a id="4745" href="Leios.Blocks.html#4668" class="InductiveConstructor">ebHeader</a> <a id="4754" href="Leios.Short.html#4185" class="Bound">h</a><a id="4755" class="Symbol">)</a> <a id="4757" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="4764" class="Symbol">))</a>
</pre><pre class="Agda">  <a id="_↝_.VT-Role"></a><a id="4781" href="Leios.Short.html#4781" class="InductiveConstructor">VT-Role</a> <a id="4789" class="Symbol">:</a> <a id="4791" class="Keyword">let</a> <a id="4795" class="Keyword">open</a> <a id="4800" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="4811" href="Leios.Short.html#1759" class="Generalizable">s</a>
                <a id="4829" href="Leios.Short.html#4829" class="Bound">EBs&#39;</a> <a id="4834" class="Symbol">=</a> <a id="4836" href="Leios.Prelude.html#1588" class="Function">filter</a> <a id="4843" class="Symbol">(</a><a id="4844" href="Leios.Protocol.html#8190" class="Function">allIBRefsKnown</a> <a id="4859" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="4860" class="Symbol">)</a> <a id="4862" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4864" href="Leios.Prelude.html#1588" class="Function">filter</a> <a id="4871" class="Symbol">(</a><a id="4872" href="Leios.Blocks.html#770" class="Function Operator">_∈ᴮ</a> <a id="4876" href="Leios.Prelude.html#1209" class="Function">slice</a> <a id="4882" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="4884" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="4889" class="Number">1</a><a id="4890" class="Symbol">)</a> <a id="4892" href="Leios.Protocol.html#2379" class="Function">EBs</a>
                <a id="4912" href="Leios.Short.html#4912" class="Bound">votes</a> <a id="4918" class="Symbol">=</a> <a id="4920" href="abstract-set-theory.Prelude.html#1824" class="Function">map</a> <a id="4924" class="Symbol">(</a><a id="4925" href="Leios.Abstract.html#844" class="Function">vote</a> <a id="4930" href="Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="4936" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4938" href="Class.Hashable.html#167" class="Field">hash</a><a id="4942" class="Symbol">)</a> <a id="4944" href="Leios.Short.html#4829" class="Bound">EBs&#39;</a>
          <a id="4959" class="Keyword">in</a>
          <a id="4972" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4974" href="Leios.Protocol.html#3150" class="Function">needsUpkeep-Stage</a> <a id="4992" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a>
          <a id="5010" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="5012" href="Leios.VRF.html#2453" class="Function">canProduceV</a> <a id="5024" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="5029" href="Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="5035" class="Symbol">(</a><a id="5036" href="Leios.Protocol.html#4654" class="Function">stake</a> <a id="5042" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="5043" class="Symbol">)</a>
          <a id="5055" href="Prelude.InferenceRules.html#11316" class="Function Operator">─────────────────────────────────────────────────────────────────────────</a>
          <a id="5139" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5141" href="Leios.Short.html#3380" class="Datatype Operator">↝</a> <a id="5143" class="Symbol">(</a><a id="5144" href="Leios.Protocol.html#3896" class="Function">addUpkeep-Stage</a> <a id="5160" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5162" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a> <a id="5170" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5172" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5177" class="Symbol">(</a><a id="5178" href="Leios.FFD.html#311" class="InductiveConstructor">Send</a> <a id="5183" class="Symbol">(</a><a id="5184" href="Leios.Blocks.html#4706" class="InductiveConstructor">vtHeader</a> <a id="5193" href="Leios.Short.html#4912" class="Bound">votes</a><a id="5198" class="Symbol">)</a> <a id="5200" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="5207" class="Symbol">))</a>
</pre>#### Negative rules
<pre class="Agda">  <a id="_↝_.No-IB-Role"></a><a id="5244" href="Leios.Short.html#5244" class="InductiveConstructor">No-IB-Role</a> <a id="5255" class="Symbol">:</a> <a id="5257" class="Keyword">let</a> <a id="5261" class="Keyword">open</a> <a id="5266" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="5277" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5279" class="Keyword">in</a>
             <a id="5295" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="5297" href="Leios.Protocol.html#3088" class="Function">needsUpkeep</a> <a id="5309" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a>
             <a id="5330" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="5332" class="Symbol">(∀</a> <a id="5335" href="Leios.Short.html#5335" class="Bound">π</a> <a id="5337" class="Symbol">→</a> <a id="5339" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="5341" href="Leios.VRF.html#1245" class="Function">canProduceIB</a> <a id="5354" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="5359" href="Leios.SpecStructure.html#730" class="Field">sk-IB</a> <a id="5365" class="Symbol">(</a><a id="5366" href="Leios.Protocol.html#4654" class="Function">stake</a> <a id="5372" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="5373" class="Symbol">)</a> <a id="5375" href="Leios.Short.html#5335" class="Bound">π</a><a id="5376" class="Symbol">)</a>
             <a id="5391" href="Prelude.InferenceRules.html#13122" class="Function Operator">─────────────────────────────────────────────</a>
             <a id="5450" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5452" href="Leios.Short.html#3380" class="Datatype Operator">↝</a> <a id="5454" class="Symbol">(</a><a id="5455" href="Leios.Protocol.html#3730" class="Function">addUpkeep</a> <a id="5465" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5467" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a> <a id="5475" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5477" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="5484" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="_↝_.No-EB-Role"></a><a id="5500" href="Leios.Short.html#5500" class="InductiveConstructor">No-EB-Role</a> <a id="5511" class="Symbol">:</a> <a id="5513" class="Keyword">let</a> <a id="5517" class="Keyword">open</a> <a id="5522" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="5533" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5535" class="Keyword">in</a>
             <a id="5551" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="5553" href="Leios.Protocol.html#3088" class="Function">needsUpkeep</a> <a id="5565" href="Leios.Short.html#1139" class="InductiveConstructor">EB-Role</a>
             <a id="5586" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="5588" class="Symbol">(∀</a> <a id="5591" href="Leios.Short.html#5591" class="Bound">π</a> <a id="5593" class="Symbol">→</a> <a id="5595" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="5597" href="Leios.VRF.html#1849" class="Function">canProduceEB</a> <a id="5610" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="5615" href="Leios.SpecStructure.html#736" class="Field">sk-EB</a> <a id="5621" class="Symbol">(</a><a id="5622" href="Leios.Protocol.html#4654" class="Function">stake</a> <a id="5628" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="5629" class="Symbol">)</a> <a id="5631" href="Leios.Short.html#5591" class="Bound">π</a><a id="5632" class="Symbol">)</a>
             <a id="5647" href="Prelude.InferenceRules.html#13122" class="Function Operator">─────────────────────────────────────────────</a>
             <a id="5706" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5708" href="Leios.Short.html#3380" class="Datatype Operator">↝</a> <a id="5710" class="Symbol">(</a><a id="5711" href="Leios.Protocol.html#3730" class="Function">addUpkeep</a> <a id="5721" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5723" href="Leios.Short.html#1139" class="InductiveConstructor">EB-Role</a> <a id="5731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5733" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="5740" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="_↝_.No-VT-Role"></a><a id="5756" href="Leios.Short.html#5756" class="InductiveConstructor">No-VT-Role</a> <a id="5767" class="Symbol">:</a> <a id="5769" class="Keyword">let</a> <a id="5773" class="Keyword">open</a> <a id="5778" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="5789" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5791" class="Keyword">in</a>
             <a id="5807" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="5809" href="Leios.Protocol.html#3150" class="Function">needsUpkeep-Stage</a> <a id="5827" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a>
             <a id="5848" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="5850" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="5852" href="Leios.VRF.html#2453" class="Function">canProduceV</a> <a id="5864" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="5869" href="Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="5875" class="Symbol">(</a><a id="5876" href="Leios.Protocol.html#4654" class="Function">stake</a> <a id="5882" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="5883" class="Symbol">)</a>
             <a id="5898" href="Prelude.InferenceRules.html#13122" class="Function Operator">─────────────────────────────────────────────</a>
             <a id="5957" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5959" href="Leios.Short.html#3380" class="Datatype Operator">↝</a> <a id="5961" class="Symbol">(</a><a id="5962" href="Leios.Protocol.html#3896" class="Function">addUpkeep-Stage</a> <a id="5978" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="5980" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a> <a id="5988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5990" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="5997" class="Symbol">)</a>
</pre>### Uniform short-pipeline
<pre class="Agda"><a id="stage"></a><a id="6038" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6044" class="Symbol">:</a> <a id="6046" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6048" class="Symbol">→</a> <a id="6050" class="Symbol">⦃</a> <a id="6052" href="Leios.Short.html#6052" class="Bound">_</a> <a id="6054" class="Symbol">:</a> <a id="6056" href="Data.Nat.Base.html#3260" class="Record">NonZero</a> <a id="6064" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="6066" class="Symbol">⦄</a> <a id="6068" class="Symbol">→</a> <a id="6070" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="6072" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6078" href="Leios.Short.html#6078" class="Bound">s</a> <a id="6080" class="Symbol">=</a> <a id="6082" href="Leios.Short.html#6078" class="Bound">s</a> <a id="6084" href="Data.Nat.Base.html#7096" class="Function Operator">/</a> <a id="6086" href="Leios.Abstract.html#1002" class="Function">L</a>

<a id="beginningOfStage"></a><a id="6089" href="Leios.Short.html#6089" class="Function">beginningOfStage</a> <a id="6106" class="Symbol">:</a> <a id="6108" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6110" class="Symbol">→</a> <a id="6112" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="6117" href="Leios.Short.html#6089" class="Function">beginningOfStage</a> <a id="6134" href="Leios.Short.html#6134" class="Bound">s</a> <a id="6136" class="Symbol">=</a> <a id="6138" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6144" href="Leios.Short.html#6134" class="Bound">s</a> <a id="6146" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="6148" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="6150" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6152" href="Leios.Short.html#6134" class="Bound">s</a>

<a id="endOfStage"></a><a id="6155" href="Leios.Short.html#6155" class="Function">endOfStage</a> <a id="6166" class="Symbol">:</a> <a id="6168" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6170" class="Symbol">→</a> <a id="6172" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="6177" href="Leios.Short.html#6155" class="Function">endOfStage</a> <a id="6188" href="Leios.Short.html#6188" class="Bound">s</a> <a id="6190" class="Symbol">=</a> <a id="6192" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6196" class="Symbol">(</a><a id="6197" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6203" href="Leios.Short.html#6188" class="Bound">s</a><a id="6204" class="Symbol">)</a> <a id="6206" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6208" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6214" class="Symbol">(</a><a id="6215" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6219" href="Leios.Short.html#6188" class="Bound">s</a><a id="6220" class="Symbol">)</a>
</pre>Predicate needed for slot transition. Special care needs to be taken when starting from
genesis.
<pre class="Agda"><a id="allDone"></a><a id="6331" href="Leios.Short.html#6331" class="Function">allDone</a> <a id="6339" class="Symbol">:</a> <a id="6341" href="Leios.Protocol.html#1513" class="Record">LeiosState</a> <a id="6352" class="Symbol">→</a> <a id="6354" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="6359" href="Leios.Short.html#6331" class="Function">allDone</a> <a id="6367" class="Keyword">record</a> <a id="6374" class="Symbol">{</a> <a id="6376" href="Leios.Protocol.html#1919" class="Field">slot</a> <a id="6381" class="Symbol">=</a> <a id="6383" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6385" class="Symbol">;</a> <a id="6387" href="Leios.Protocol.html#2016" class="Field">Upkeep</a> <a id="6394" class="Symbol">=</a> <a id="6396" href="Leios.Short.html#6396" class="Bound">u</a> <a id="6398" class="Symbol">;</a> <a id="6400" href="Leios.Protocol.html#2055" class="Field">Upkeep-Stage</a> <a id="6413" class="Symbol">=</a> <a id="6415" href="Leios.Short.html#6415" class="Bound">v</a> <a id="6417" class="Symbol">}</a> <a id="6419" class="Symbol">=</a>
  <a id="6423" class="Comment">-- bootstrapping</a>
    <a id="6444" class="Symbol">(</a><a id="6445" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6451" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6453" href="Class.HasOrder.Core.html#555" class="Field Operator">&lt;</a> <a id="6455" class="Number">3</a> <a id="6457" href="Data.Product.Base.html#1618" class="Function Operator">×</a>                        <a id="6482" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a> <a id="6490" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6493" href="Leios.Short.html#6396" class="Bound">u</a>                <a id="6510" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6512" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a> <a id="6517" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6520" href="Leios.Short.html#6396" class="Bound">u</a><a id="6521" class="Symbol">)</a>
  <a id="6525" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6527" class="Symbol">(</a><a id="6528" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6534" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6536" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6538" class="Number">3</a> <a id="6540" href="Data.Product.Base.html#1618" class="Function Operator">×</a>   <a id="6544" href="Leios.Short.html#6089" class="Function">beginningOfStage</a> <a id="6561" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6563" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6565" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a> <a id="6573" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6576" href="Leios.Short.html#6396" class="Bound">u</a> <a id="6578" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6580" href="Leios.Short.html#1139" class="InductiveConstructor">EB-Role</a> <a id="6588" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6591" href="Leios.Short.html#6396" class="Bound">u</a> <a id="6593" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6595" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a> <a id="6600" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6603" href="Leios.Short.html#6396" class="Bound">u</a><a id="6604" class="Symbol">)</a>
  <a id="6608" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6610" class="Symbol">(</a><a id="6611" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6617" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6619" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6621" class="Number">3</a> <a id="6623" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6625" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="6627" href="Leios.Short.html#6089" class="Function">beginningOfStage</a> <a id="6644" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6646" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6648" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a> <a id="6656" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6659" href="Leios.Short.html#6396" class="Bound">u</a>                <a id="6676" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6678" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a> <a id="6683" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6686" href="Leios.Short.html#6396" class="Bound">u</a><a id="6687" class="Symbol">)</a>
  <a id="6691" class="Comment">-- done</a>
  <a id="6701" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6703" class="Symbol">(</a><a id="6704" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6710" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6712" href="Class.HasOrder.Core.html#748" class="Function Operator">&gt;</a> <a id="6714" class="Number">3</a> <a id="6716" href="Data.Product.Base.html#1618" class="Function Operator">×</a>   <a id="6720" href="Leios.Short.html#6089" class="Function">beginningOfStage</a> <a id="6737" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6739" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6741" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a> <a id="6749" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6752" href="Leios.Short.html#6396" class="Bound">u</a> <a id="6754" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6756" href="Leios.Short.html#1139" class="InductiveConstructor">EB-Role</a> <a id="6764" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6767" href="Leios.Short.html#6396" class="Bound">u</a> <a id="6769" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6771" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a> <a id="6776" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6779" href="Leios.Short.html#6396" class="Bound">u</a><a id="6780" class="Symbol">)</a>
  <a id="6784" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6786" class="Symbol">(</a><a id="6787" href="Leios.Short.html#6038" class="Function">stage</a> <a id="6793" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6795" href="Class.HasOrder.Core.html#748" class="Function Operator">&gt;</a> <a id="6797" class="Number">3</a> <a id="6799" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6801" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="6803" href="Leios.Short.html#6089" class="Function">beginningOfStage</a> <a id="6820" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6822" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6824" href="Leios.Short.html#1131" class="InductiveConstructor">IB-Role</a> <a id="6832" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6835" href="Leios.Short.html#6396" class="Bound">u</a>                <a id="6852" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6854" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a> <a id="6859" href="abstract-set-theory.Prelude.html#563" class="Function Operator">∈ˡ</a> <a id="6862" href="Leios.Short.html#6396" class="Bound">u</a><a id="6863" class="Symbol">)</a> <a id="6865" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
       <a id="6874" class="Symbol">(((</a>  <a id="6879" href="Leios.Short.html#6155" class="Function">endOfStage</a> <a id="6890" href="Leios.Short.html#6383" class="Bound">s</a> <a id="6892" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6894" href="Leios.Short.html#6415" class="Bound">v</a> <a id="6896" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="6899" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6908" class="Symbol">(</a><a id="6909" href="Leios.Short.html#1299" class="InductiveConstructor">VT-Role</a> <a id="6917" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6919" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6921" class="Symbol">))</a>
       <a id="6931" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6933" class="Symbol">(</a><a id="6934" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="6936" href="Leios.Short.html#6155" class="Function">endOfStage</a> <a id="6947" href="Leios.Short.html#6383" class="Bound">s</a><a id="6948" class="Symbol">)))</a>
</pre>### (Full-)Short Leios transitions
The relation describing the transition given input and state
#### Initialization
<pre class="Agda"><a id="7080" class="Keyword">open</a> <a id="7085" href="Leios.Protocol.html#10190" class="Module">Types</a> <a id="7091" href="Leios.Short.html#414" class="Bound">params</a>

<a id="7099" class="Keyword">data</a> <a id="_⊢_"></a><a id="7104" href="Leios.Short.html#7104" class="Datatype Operator">_⊢_</a> <a id="7108" class="Symbol">:</a> <a id="7110" href="Leios.Base.html#691" class="Function">VTy</a> <a id="7114" class="Symbol">→</a> <a id="7116" href="Leios.Protocol.html#1513" class="Record">LeiosState</a> <a id="7127" class="Symbol">→</a> <a id="7129" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7134" class="Keyword">where</a>
  <a id="_⊢_.Init"></a><a id="7142" href="Leios.Short.html#7142" class="InductiveConstructor">Init</a> <a id="7147" class="Symbol">:</a>
       <a id="7156" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="7158" href="Leios.Short.html#1898" class="Generalizable">ks</a> <a id="7161" href="Leios.KeyRegistration.html#476" class="Function Operator">K.-⟦</a> <a id="7166" href="Leios.KeyRegistration.html#302" class="InductiveConstructor">K.INIT</a> <a id="7173" href="Leios.SpecStructure.html#766" class="Field">pk-IB</a> <a id="7179" href="Leios.SpecStructure.html#772" class="Field">pk-EB</a> <a id="7185" href="Leios.SpecStructure.html#778" class="Field">pk-VT</a> <a id="7191" href="Leios.KeyRegistration.html#476" class="Function Operator">/</a> <a id="7193" href="Leios.KeyRegistration.html#374" class="InductiveConstructor">K.PUBKEYS</a> <a id="7203" href="Leios.Short.html#2313" class="Generalizable">pks</a> <a id="7207" href="Leios.KeyRegistration.html#476" class="Function Operator">⟧⇀</a> <a id="7210" href="Leios.Short.html#1901" class="Generalizable">ks&#39;</a>
       <a id="7221" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="7223" href="Leios.SpecStructure.html#904" class="Field">initBaseState</a> <a id="7237" href="Leios.Base.html#3336" class="Function Operator">B.-⟦</a> <a id="7242" href="Leios.Base.html#1450" class="InductiveConstructor">B.INIT</a> <a id="7249" class="Symbol">(</a><a id="7250" href="Leios.Base.html#737" class="Function">V-chkCerts</a> <a id="7261" href="Leios.Short.html#2313" class="Generalizable">pks</a><a id="7264" class="Symbol">)</a> <a id="7266" href="Leios.Base.html#3336" class="Function Operator">/</a> <a id="7268" href="Leios.Base.html#2651" class="InductiveConstructor">B.STAKE</a> <a id="7276" href="Leios.Short.html#2276" class="Generalizable">SD</a> <a id="7279" href="Leios.Base.html#3336" class="Function Operator">⟧⇀</a> <a id="7282" href="Leios.Short.html#1864" class="Generalizable">bs&#39;</a> <a id="7286" class="Comment">-- TODO: replace this line</a>
       <a id="7320" href="Prelude.InferenceRules.html#11982" class="Function Operator">────────────────────────────────────────────────────────────────</a>
       <a id="7392" href="Leios.Short.html#2246" class="Generalizable">V</a> <a id="7394" href="Leios.Short.html#7104" class="Datatype Operator">⊢</a> <a id="7396" href="Leios.Protocol.html#4049" class="Function">initLeiosState</a> <a id="7411" href="Leios.Short.html#2246" class="Generalizable">V</a> <a id="7413" href="Leios.Short.html#2276" class="Generalizable">SD</a> <a id="7416" href="Leios.Short.html#2313" class="Generalizable">pks</a>
</pre><pre class="Agda"><a id="7432" class="Keyword">data</a> <a id="_-⟦_/_⟧⇀_"></a><a id="7437" href="Leios.Short.html#7437" class="Datatype Operator">_-⟦_/_⟧⇀_</a> <a id="7447" class="Symbol">:</a> <a id="7449" href="CategoricalCrypto.Base.html#3417" class="Function">MachineType</a> <a id="7461" class="Symbol">(</a><a id="7462" href="Leios.Protocol.html#10923" class="Function">FFD</a> <a id="7466" href="CategoricalCrypto.Base.html#831" class="Function Operator">⊗</a> <a id="7468" href="Leios.Protocol.html#11118" class="Function">BaseC</a><a id="7473" class="Symbol">)</a> <a id="7475" class="Symbol">(</a><a id="7476" href="Leios.Protocol.html#10635" class="Function">IO</a> <a id="7479" href="CategoricalCrypto.Base.html#831" class="Function Operator">⊗</a> <a id="7481" href="Leios.Protocol.html#10679" class="Function">Adv</a><a id="7484" class="Symbol">)</a> <a id="7486" href="Leios.Protocol.html#1513" class="Record">LeiosState</a> <a id="7497" class="Keyword">where</a>
</pre>#### Network and Ledger
<pre class="Agda">  <a id="_-⟦_/_⟧⇀_.Slot₁"></a><a id="7541" href="Leios.Short.html#7541" class="InductiveConstructor">Slot₁</a> <a id="7547" class="Symbol">:</a> <a id="7549" class="Keyword">let</a> <a id="7553" class="Keyword">open</a> <a id="7558" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="7569" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="7571" class="Keyword">in</a>
        <a id="7582" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="7584" href="Leios.Short.html#6331" class="Function">allDone</a> <a id="7592" href="Leios.Short.html#1759" class="Generalizable">s</a>
        <a id="7602" href="Prelude.InferenceRules.html#9644" class="Function Operator">────────────────────────────────────────────────────────────────────────────────────────────</a>
        <a id="7703" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="7705" href="Leios.Short.html#7437" class="Datatype Operator">-⟦</a> <a id="7708" href="CategoricalCrypto.Base.html#2047" class="Function">honestOutputI</a> <a id="7722" class="Symbol">(</a><a id="7723" href="CategoricalCrypto.Base.html#1013" class="Function">rcvˡ</a> <a id="7728" class="Symbol">(</a><a id="7729" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="7732" href="Leios.Protocol.html#10787" class="InductiveConstructor">FFD-OUT</a> <a id="7740" href="Leios.Short.html#1932" class="Generalizable">msgs</a><a id="7744" class="Symbol">))</a> <a id="7747" href="Leios.Short.html#7437" class="Datatype Operator">/</a> <a id="7749" href="CategoricalCrypto.Base.html#2273" class="Function">honestInputO&#39;</a> <a id="7763" class="Symbol">(</a><a id="7764" href="CategoricalCrypto.Base.html#1301" class="Function">sndʳ</a> <a id="7769" class="Symbol">(</a><a id="7770" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="7773" href="Leios.Protocol.html#11011" class="InductiveConstructor">FTCH-LDG</a><a id="7781" class="Symbol">))</a> <a id="7784" href="Leios.Short.html#7437" class="Datatype Operator">⟧⇀</a> <a id="7787" class="Keyword">record</a> <a id="7794" href="Leios.Short.html#1759" class="Generalizable">s</a>
            <a id="7808" class="Symbol">{</a> <a id="7810" href="Leios.Protocol.html#1919" class="Field">slot</a>         <a id="7823" class="Symbol">=</a> <a id="7825" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7829" href="Leios.Protocol.html#1919" class="Function">slot</a>
            <a id="7846" class="Symbol">;</a> <a id="7848" href="Leios.Protocol.html#2016" class="Field">Upkeep</a>       <a id="7861" class="Symbol">=</a> <a id="7863" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
            <a id="7878" class="Symbol">;</a> <a id="7880" href="Leios.Protocol.html#2055" class="Field">Upkeep-Stage</a> <a id="7893" class="Symbol">=</a> <a id="7895" href="Class.Decidable.Core.html#593" class="Function Operator">ifᵈ</a> <a id="7899" class="Symbol">(</a><a id="7900" href="Leios.Short.html#6155" class="Function">endOfStage</a> <a id="7911" href="Leios.Protocol.html#1919" class="Function">slot</a><a id="7915" class="Symbol">)</a> <a id="7917" href="Class.Decidable.Core.html#593" class="Function Operator">then</a> <a id="7922" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="7924" href="Class.Decidable.Core.html#593" class="Function Operator">else</a> <a id="7929" href="Leios.Protocol.html#2055" class="Function">Upkeep-Stage</a>
            <a id="7954" class="Symbol">}</a> <a id="7956" href="Leios.Protocol.html#9696" class="Function Operator">↑</a> <a id="7958" href="Data.List.Base.html#10687" class="Function">L.filter</a> <a id="7967" class="Symbol">(</a><a id="7968" href="Leios.Protocol.html#7929" class="Function">isValid?</a> <a id="7977" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="7978" class="Symbol">)</a> <a id="7980" href="Leios.Short.html#1932" class="Generalizable">msgs</a>

  <a id="_-⟦_/_⟧⇀_.Slot₂"></a><a id="7988" href="Leios.Short.html#7988" class="InductiveConstructor">Slot₂</a> <a id="7994" class="Symbol">:</a> <a id="7996" class="Keyword">let</a> <a id="8000" class="Keyword">open</a> <a id="8005" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="8016" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8018" class="Keyword">in</a>
        <a id="8029" href="Prelude.InferenceRules.html#42427" class="Function Operator">────────────────────────────────────────────────────────</a>
        <a id="8094" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8096" href="Leios.Short.html#7437" class="Datatype Operator">-⟦</a> <a id="8099" href="CategoricalCrypto.Base.html#2047" class="Function">honestOutputI</a> <a id="8113" class="Symbol">(</a><a id="8114" href="CategoricalCrypto.Base.html#1109" class="Function">rcvʳ</a> <a id="8119" class="Symbol">(</a><a id="8120" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="8123" href="Leios.Protocol.html#11074" class="InductiveConstructor">BASE-LDG</a> <a id="8132" href="Leios.Short.html#2168" class="Generalizable">rbs</a><a id="8135" class="Symbol">))</a> <a id="8138" href="Leios.Short.html#7437" class="Datatype Operator">/</a> <a id="8140" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="8148" href="Leios.Short.html#7437" class="Datatype Operator">⟧⇀</a>
          <a id="8161" class="Keyword">record</a> <a id="8168" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8170" class="Symbol">{</a> <a id="8172" href="Leios.Protocol.html#1606" class="Field">RBs</a> <a id="8176" class="Symbol">=</a> <a id="8178" href="Leios.Short.html#2168" class="Generalizable">rbs</a> <a id="8182" class="Symbol">}</a>
</pre><pre class="Agda">  <a id="_-⟦_/_⟧⇀_.Ftch"></a><a id="8198" href="Leios.Short.html#8198" class="InductiveConstructor">Ftch</a> <a id="8203" class="Symbol">:</a>
       <a id="8212" href="Prelude.InferenceRules.html#38332" class="Function Operator">───────────────────────────────────────────────────────────────────────────────────────────</a>
       <a id="8311" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8313" href="Leios.Short.html#7437" class="Datatype Operator">-⟦</a> <a id="8316" href="CategoricalCrypto.Base.html#1397" class="Function">honestInputI</a> <a id="8329" class="Symbol">(</a><a id="8330" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="8333" href="Leios.Protocol.html#10566" class="InductiveConstructor">FetchLdgI</a><a id="8342" class="Symbol">)</a> <a id="8344" href="Leios.Short.html#7437" class="Datatype Operator">/</a> <a id="8346" href="CategoricalCrypto.Base.html#1641" class="Function">honestOutputO&#39;</a> <a id="8361" class="Symbol">(</a><a id="8362" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="8365" href="Leios.Protocol.html#10589" class="InductiveConstructor">FetchLdgO</a> <a id="8375" class="Symbol">(</a><a id="8376" href="Leios.Protocol.html#2937" class="Function">LeiosState.Ledger</a> <a id="8394" href="Leios.Short.html#1759" class="Generalizable">s</a><a id="8395" class="Symbol">))</a> <a id="8398" href="Leios.Short.html#7437" class="Datatype Operator">⟧⇀</a> <a id="8401" href="Leios.Short.html#1759" class="Generalizable">s</a>
</pre>#### Base chain

Note: Submitted data to the base chain is only taken into account
      if the party submitting is the block producer on the base chain
      for the given slot
<pre class="Agda">  <a id="_-⟦_/_⟧⇀_.Base₁"></a><a id="8595" href="Leios.Short.html#8595" class="InductiveConstructor">Base₁</a>   <a id="8603" class="Symbol">:</a>
          <a id="8615" href="Prelude.InferenceRules.html#39853" class="Function Operator">──────────────────────────────────────────────────────────────────────────────</a>
          <a id="8704" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8706" href="Leios.Short.html#7437" class="Datatype Operator">-⟦</a> <a id="8709" href="CategoricalCrypto.Base.html#1397" class="Function">honestInputI</a> <a id="8722" class="Symbol">(</a><a id="8723" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="8726" href="Leios.Protocol.html#10533" class="InductiveConstructor">SubmitTxs</a> <a id="8736" href="Leios.Short.html#2212" class="Generalizable">txs</a><a id="8739" class="Symbol">)</a> <a id="8741" href="Leios.Short.html#7437" class="Datatype Operator">/</a> <a id="8743" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="8751" href="Leios.Short.html#7437" class="Datatype Operator">⟧⇀</a> <a id="8754" class="Keyword">record</a> <a id="8761" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8763" class="Symbol">{</a> <a id="8765" href="Leios.Protocol.html#1647" class="Field">ToPropose</a> <a id="8775" class="Symbol">=</a> <a id="8777" href="Leios.Short.html#2212" class="Generalizable">txs</a> <a id="8781" class="Symbol">}</a>
</pre><pre class="Agda">  <a id="_-⟦_/_⟧⇀_.Base₂a"></a><a id="8797" href="Leios.Short.html#8797" class="InductiveConstructor">Base₂a</a>  <a id="8805" class="Symbol">:</a> <a id="8807" class="Keyword">let</a> <a id="8811" class="Keyword">open</a> <a id="8816" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="8827" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="8829" class="Keyword">in</a>
          <a id="8842" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="8844" href="Leios.Protocol.html#3088" class="Function">needsUpkeep</a> <a id="8856" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a>
          <a id="8871" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="8873" class="Symbol">(</a><a id="8874" href="Leios.Short.html#2083" class="Generalizable">eb</a> <a id="8877" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8879" href="Leios.Short.html#2351" class="Generalizable">cert</a><a id="8883" class="Symbol">)</a> <a id="8885" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="8887" href="Leios.Prelude.html#1588" class="Function">filter</a> <a id="8894" class="Symbol">(λ</a> <a id="8897" class="Symbol">(</a><a id="8898" href="Leios.Short.html#8898" class="Bound">x</a> <a id="8900" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8902" class="Symbol">_)</a> <a id="8905" class="Symbol">→</a> <a id="8907" href="Leios.Short.html#8898" class="Bound">x</a> <a id="8909" href="Leios.Blocks.html#770" class="Function Operator">∈ᴮ</a> <a id="8912" href="Leios.Prelude.html#1209" class="Function">slice</a> <a id="8918" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="8920" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="8925" class="Number">2</a><a id="8926" class="Symbol">)</a> <a id="8928" class="Symbol">(</a><a id="8929" href="Leios.Protocol.html#3421" class="Function">ebsWithCert</a> <a id="8941" href="Leios.Prelude.html#726" class="InductiveConstructor">fzero</a><a id="8946" class="Symbol">)</a>
          <a id="8958" href="Prelude.InferenceRules.html#10481" class="Function Operator">───────────────────────────────────────────────────────────────────────────────────</a>
          <a id="9052" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9054" href="Leios.Short.html#7437" class="Datatype Operator">-⟦</a> <a id="9057" href="CategoricalCrypto.Base.html#2047" class="Function">honestOutputI</a> <a id="9071" class="Symbol">(</a><a id="9072" href="CategoricalCrypto.Base.html#1013" class="Function">rcvˡ</a> <a id="9077" class="Symbol">(</a><a id="9078" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9081" href="Leios.Protocol.html#10878" class="InductiveConstructor">SLOT</a><a id="9085" class="Symbol">))</a> <a id="9088" href="Leios.Short.html#7437" class="Datatype Operator">/</a> <a id="9090" href="CategoricalCrypto.Base.html#2273" class="Function">honestInputO&#39;</a> <a id="9104" class="Symbol">(</a><a id="9105" href="CategoricalCrypto.Base.html#1301" class="Function">sndʳ</a> <a id="9110" class="Symbol">(</a><a id="9111" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9114" href="Leios.Protocol.html#11035" class="InductiveConstructor">SUBMIT</a> <a id="9121" class="Keyword">record</a> <a id="9128" class="Symbol">{</a> <a id="9130" href="Leios.Base.html#551" class="Field">txs</a> <a id="9134" class="Symbol">=</a> <a id="9136" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="9139" class="Symbol">;</a> <a id="9141" href="Leios.Base.html#573" class="Field">announcedEB</a> <a id="9153" class="Symbol">=</a> <a id="9155" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9163" class="Symbol">;</a> <a id="9165" href="Leios.Base.html#606" class="Field">ebCert</a> <a id="9172" class="Symbol">=</a> <a id="9174" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9179" href="Leios.Short.html#2351" class="Generalizable">cert</a> <a id="9184" class="Symbol">}))</a> <a id="9188" href="Leios.Short.html#7437" class="Datatype Operator">⟧⇀</a>
            <a id="9203" href="Leios.Protocol.html#3730" class="Function">addUpkeep</a> <a id="9213" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9215" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a>

  <a id="_-⟦_/_⟧⇀_.Base₂b"></a><a id="9223" href="Leios.Short.html#9223" class="InductiveConstructor">Base₂b</a>  <a id="9231" class="Symbol">:</a> <a id="9233" class="Keyword">let</a> <a id="9237" class="Keyword">open</a> <a id="9242" href="Leios.Protocol.html#1513" class="Module">LeiosState</a> <a id="9253" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9255" class="Keyword">in</a>
          <a id="9268" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="9270" href="Leios.Protocol.html#3088" class="Function">needsUpkeep</a> <a id="9282" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a>
          <a id="9297" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="9299" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="9302" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9304" href="Leios.Prelude.html#1588" class="Function">filter</a> <a id="9311" class="Symbol">(λ</a> <a id="9314" href="Leios.Short.html#9314" class="Bound">x</a> <a id="9316" class="Symbol">→</a> <a id="9318" href="Leios.Short.html#1601" class="Function">isVoteCertified</a> <a id="9334" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9336" href="Leios.Short.html#9314" class="Bound">x</a> <a id="9338" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9340" href="Leios.Short.html#9314" class="Bound">x</a> <a id="9342" href="Leios.Blocks.html#770" class="Function Operator">∈ᴮ</a> <a id="9345" href="Leios.Prelude.html#1209" class="Function">slice</a> <a id="9351" href="Leios.Abstract.html#1002" class="Function">L</a> <a id="9353" href="Leios.Protocol.html#1919" class="Function">slot</a> <a id="9358" class="Number">2</a><a id="9359" class="Symbol">)</a> <a id="9361" href="Leios.Protocol.html#2379" class="Function">EBs</a>
          <a id="9375" href="Prelude.InferenceRules.html#9837" class="Function Operator">──────────────────────────────────────────────────────────────────────────────────────────</a>
          <a id="9476" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9478" href="Leios.Short.html#7437" class="Datatype Operator">-⟦</a> <a id="9481" href="CategoricalCrypto.Base.html#2047" class="Function">honestOutputI</a> <a id="9495" class="Symbol">(</a><a id="9496" href="CategoricalCrypto.Base.html#1013" class="Function">rcvˡ</a> <a id="9501" class="Symbol">(</a><a id="9502" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9505" href="Leios.Protocol.html#10878" class="InductiveConstructor">SLOT</a><a id="9509" class="Symbol">))</a> <a id="9512" href="Leios.Short.html#7437" class="Datatype Operator">/</a> <a id="9514" href="CategoricalCrypto.Base.html#2273" class="Function">honestInputO&#39;</a> <a id="9528" class="Symbol">(</a><a id="9529" href="CategoricalCrypto.Base.html#1301" class="Function">sndʳ</a> <a id="9534" class="Symbol">(</a><a id="9535" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9538" href="Leios.Protocol.html#11035" class="InductiveConstructor">SUBMIT</a> <a id="9545" class="Keyword">record</a> <a id="9552" class="Symbol">{</a> <a id="9554" href="Leios.Base.html#551" class="Field">txs</a> <a id="9558" class="Symbol">=</a> <a id="9560" href="Leios.Protocol.html#1647" class="Function">ToPropose</a> <a id="9570" class="Symbol">;</a> <a id="9572" href="Leios.Base.html#573" class="Field">announcedEB</a> <a id="9584" class="Symbol">=</a> <a id="9586" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9594" class="Symbol">;</a> <a id="9596" href="Leios.Base.html#606" class="Field">ebCert</a> <a id="9603" class="Symbol">=</a> <a id="9605" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9613" class="Symbol">}))</a> <a id="9617" href="Leios.Short.html#7437" class="Datatype Operator">⟧⇀</a>
            <a id="9632" href="Leios.Protocol.html#3730" class="Function">addUpkeep</a> <a id="9642" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9644" href="Leios.Short.html#1126" class="InductiveConstructor">Base</a>
</pre>#### Protocol rules
<pre class="Agda">  <a id="_-⟦_/_⟧⇀_.Roles₁"></a><a id="9683" href="Leios.Short.html#9683" class="InductiveConstructor">Roles₁</a> <a id="9690" class="Symbol">:</a>
         <a id="9701" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="9703" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9705" href="Leios.Short.html#3380" class="Datatype Operator">↝</a> <a id="9707" class="Symbol">(</a><a id="9708" href="Leios.Short.html#1761" class="Generalizable">s&#39;</a> <a id="9711" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9713" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9718" href="Leios.Short.html#2027" class="Generalizable">i</a><a id="9719" class="Symbol">)</a>
         <a id="9730" href="Prelude.InferenceRules.html#10911" class="Function Operator">──────────────────────────────────────────────────────────────────────────────</a>
         <a id="9818" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9820" href="Leios.Short.html#7437" class="Datatype Operator">-⟦</a> <a id="9823" href="CategoricalCrypto.Base.html#2047" class="Function">honestOutputI</a> <a id="9837" class="Symbol">(</a><a id="9838" href="CategoricalCrypto.Base.html#1013" class="Function">rcvˡ</a> <a id="9843" class="Symbol">(</a><a id="9844" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9847" href="Leios.Protocol.html#10878" class="InductiveConstructor">SLOT</a><a id="9851" class="Symbol">))</a> <a id="9854" href="Leios.Short.html#7437" class="Datatype Operator">/</a> <a id="9856" href="CategoricalCrypto.Base.html#2273" class="Function">honestInputO&#39;</a> <a id="9870" class="Symbol">(</a><a id="9871" href="CategoricalCrypto.Base.html#1205" class="Function">sndˡ</a> <a id="9876" class="Symbol">(</a><a id="9877" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9880" href="Leios.Protocol.html#10843" class="InductiveConstructor">FFD-IN</a> <a id="9887" href="Leios.Short.html#2027" class="Generalizable">i</a><a id="9888" class="Symbol">))</a> <a id="9891" href="Leios.Short.html#7437" class="Datatype Operator">⟧⇀</a> <a id="9894" href="Leios.Short.html#1761" class="Generalizable">s&#39;</a>

  <a id="_-⟦_/_⟧⇀_.Roles₂"></a><a id="9900" href="Leios.Short.html#9900" class="InductiveConstructor">Roles₂</a> <a id="9907" class="Symbol">:</a>
         <a id="9918" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="9920" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="9922" href="Leios.Short.html#3380" class="Datatype Operator">↝</a> <a id="9924" class="Symbol">(</a><a id="9925" href="Leios.Short.html#1761" class="Generalizable">s&#39;</a> <a id="9928" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9930" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="9937" class="Symbol">)</a>
         <a id="9948" href="Prelude.InferenceRules.html#12801" class="Function Operator">───────────────────────────────────────────────────</a>
         <a id="10009" href="Leios.Short.html#1759" class="Generalizable">s</a> <a id="10011" href="Leios.Short.html#7437" class="Datatype Operator">-⟦</a> <a id="10014" href="CategoricalCrypto.Base.html#2047" class="Function">honestOutputI</a> <a id="10028" class="Symbol">(</a><a id="10029" href="CategoricalCrypto.Base.html#1013" class="Function">rcvˡ</a> <a id="10034" class="Symbol">(</a><a id="10035" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="10038" href="Leios.Protocol.html#10878" class="InductiveConstructor">SLOT</a><a id="10042" class="Symbol">))</a> <a id="10045" href="Leios.Short.html#7437" class="Datatype Operator">/</a> <a id="10047" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="10055" href="Leios.Short.html#7437" class="Datatype Operator">⟧⇀</a> <a id="10058" href="Leios.Short.html#1761" class="Generalizable">s&#39;</a>
</pre><!--
<pre class="Agda"><a id="ShortLeios"></a><a id="10078" href="Leios.Short.html#10078" class="Function">ShortLeios</a> <a id="10089" class="Symbol">:</a> <a id="10091" href="CategoricalCrypto.Base.html#3569" class="Record">Machine</a> <a id="10099" class="Symbol">(</a><a id="10100" href="Leios.Protocol.html#10923" class="Function">FFD</a> <a id="10104" href="CategoricalCrypto.Base.html#831" class="Function Operator">⊗</a> <a id="10106" href="Leios.Protocol.html#11118" class="Function">BaseC</a><a id="10111" class="Symbol">)</a> <a id="10113" class="Symbol">(</a><a id="10114" href="Leios.Protocol.html#10635" class="Function">IO</a> <a id="10117" href="CategoricalCrypto.Base.html#831" class="Function Operator">⊗</a> <a id="10119" href="Leios.Protocol.html#10679" class="Function">Adv</a><a id="10122" class="Symbol">)</a>
<a id="10124" href="Leios.Short.html#10078" class="Function">ShortLeios</a> <a id="10135" class="Symbol">.</a><a id="10136" href="CategoricalCrypto.Base.html#3639" class="Field">Machine.State</a> <a id="10150" class="Symbol">=</a> <a id="10152" href="Leios.Protocol.html#1513" class="Record">LeiosState</a>
<a id="10163" href="Leios.Short.html#10078" class="Function">ShortLeios</a> <a id="10174" class="Symbol">.</a><a id="10175" href="CategoricalCrypto.Base.html#3663" class="Field">Machine.stepRel</a> <a id="10191" class="Symbol">=</a> <a id="10193" href="Leios.Short.html#7437" class="Datatype Operator">_-⟦_/_⟧⇀_</a>

<a id="10204" class="Keyword">open</a> <a id="10209" class="Keyword">import</a> <a id="10216" href="Prelude.STS.GenPremises.html" class="Module">Prelude.STS.GenPremises</a>

<a id="10241" class="Keyword">unquoteDecl</a> <a id="IB-Role-premises"></a><a id="10253" href="Leios.Short.html#10253" class="Function">IB-Role-premises</a> <a id="10270" class="Symbol">=</a> <a id="10272" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10284" href="Leios.Short.html#10253" class="Function">IB-Role-premises</a> <a id="10301" class="Symbol">(</a><a id="10302" class="Keyword">quote</a> <a id="10308" href="Leios.Short.html#3497" class="InductiveConstructor">_↝_.IB-Role</a><a id="10319" class="Symbol">)</a>
<a id="10321" class="Keyword">unquoteDecl</a> <a id="EB-Role-premises"></a><a id="10333" href="Leios.Short.html#10333" class="Function">EB-Role-premises</a> <a id="10350" class="Symbol">=</a> <a id="10352" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10364" href="Leios.Short.html#10333" class="Function">EB-Role-premises</a> <a id="10381" class="Symbol">(</a><a id="10382" class="Keyword">quote</a> <a id="10388" href="Leios.Short.html#3989" class="InductiveConstructor">_↝_.EB-Role</a><a id="10399" class="Symbol">)</a>
<a id="10401" class="Keyword">unquoteDecl</a> <a id="VT-Role-premises"></a><a id="10413" href="Leios.Short.html#10413" class="Function">VT-Role-premises</a> <a id="10430" class="Symbol">=</a> <a id="10432" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10444" href="Leios.Short.html#10413" class="Function">VT-Role-premises</a> <a id="10461" class="Symbol">(</a><a id="10462" class="Keyword">quote</a> <a id="10468" href="Leios.Short.html#4781" class="InductiveConstructor">_↝_.VT-Role</a><a id="10479" class="Symbol">)</a>

<a id="10482" class="Keyword">unquoteDecl</a> <a id="No-IB-Role-premises"></a><a id="10494" href="Leios.Short.html#10494" class="Function">No-IB-Role-premises</a> <a id="10514" class="Symbol">=</a> <a id="10516" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10528" href="Leios.Short.html#10494" class="Function">No-IB-Role-premises</a> <a id="10548" class="Symbol">(</a><a id="10549" class="Keyword">quote</a> <a id="10555" href="Leios.Short.html#5244" class="InductiveConstructor">No-IB-Role</a><a id="10565" class="Symbol">)</a>
<a id="10567" class="Keyword">unquoteDecl</a> <a id="No-EB-Role-premises"></a><a id="10579" href="Leios.Short.html#10579" class="Function">No-EB-Role-premises</a> <a id="10599" class="Symbol">=</a> <a id="10601" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10613" href="Leios.Short.html#10579" class="Function">No-EB-Role-premises</a> <a id="10633" class="Symbol">(</a><a id="10634" class="Keyword">quote</a> <a id="10640" href="Leios.Short.html#5500" class="InductiveConstructor">No-EB-Role</a><a id="10650" class="Symbol">)</a>
<a id="10652" class="Keyword">unquoteDecl</a> <a id="No-VT-Role-premises"></a><a id="10664" href="Leios.Short.html#10664" class="Function">No-VT-Role-premises</a> <a id="10684" class="Symbol">=</a> <a id="10686" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10698" href="Leios.Short.html#10664" class="Function">No-VT-Role-premises</a> <a id="10718" class="Symbol">(</a><a id="10719" class="Keyword">quote</a> <a id="10725" href="Leios.Short.html#5756" class="InductiveConstructor">No-VT-Role</a><a id="10735" class="Symbol">)</a>

<a id="10738" class="Keyword">unquoteDecl</a> <a id="Slot₁-premises"></a><a id="10750" href="Leios.Short.html#10750" class="Function">Slot₁-premises</a> <a id="10765" class="Symbol">=</a> <a id="10767" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10779" href="Leios.Short.html#10750" class="Function">Slot₁-premises</a> <a id="10794" class="Symbol">(</a><a id="10795" class="Keyword">quote</a> <a id="10801" href="Leios.Short.html#7541" class="InductiveConstructor">Slot₁</a><a id="10806" class="Symbol">)</a>
<a id="10808" class="Keyword">unquoteDecl</a> <a id="Slot₂-premises"></a><a id="10820" href="Leios.Short.html#10820" class="Function">Slot₂-premises</a> <a id="10835" class="Symbol">=</a> <a id="10837" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10849" href="Leios.Short.html#10820" class="Function">Slot₂-premises</a> <a id="10864" class="Symbol">(</a><a id="10865" class="Keyword">quote</a> <a id="10871" href="Leios.Short.html#7988" class="InductiveConstructor">Slot₂</a><a id="10876" class="Symbol">)</a>
<a id="10878" class="Keyword">unquoteDecl</a> <a id="Base₁-premises"></a><a id="10890" href="Leios.Short.html#10890" class="Function">Base₁-premises</a> <a id="10905" class="Symbol">=</a> <a id="10907" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10919" href="Leios.Short.html#10890" class="Function">Base₁-premises</a> <a id="10934" class="Symbol">(</a><a id="10935" class="Keyword">quote</a> <a id="10941" href="Leios.Short.html#8595" class="InductiveConstructor">Base₁</a><a id="10946" class="Symbol">)</a>
<a id="10948" class="Keyword">unquoteDecl</a> <a id="Base₂b-premises"></a><a id="10960" href="Leios.Short.html#10960" class="Function">Base₂b-premises</a> <a id="10976" class="Symbol">=</a> <a id="10978" href="Prelude.STS.GenPremises.html#13520" class="Function">genPremises</a> <a id="10990" href="Leios.Short.html#10960" class="Function">Base₂b-premises</a> <a id="11006" class="Symbol">(</a><a id="11007" class="Keyword">quote</a> <a id="11013" href="Leios.Short.html#9223" class="InductiveConstructor">Base₂b</a><a id="11019" class="Symbol">)</a>
</pre>--!>

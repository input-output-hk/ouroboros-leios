<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Leios.Simplified</title><link rel="stylesheet" href="Agda.css">
             <link rel="stylesheet" href="agda.css">
             <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet"></head><body>
             <div class="agda-header">
               <div class="agda-header-left">
                 <a href="/formal-spec/">Back</a>
                 <button class="search-button" onclick="toggleSearch()">
                   <svg viewBox="0 0 24 24" width="24" height="24">
                     <path fill="currentColor" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                   </svg>
                   Search...
                 </button>
               </div>
               <div class="agda-header-right">
                 <a href="https://github.com/input-output-hk/ouroboros-leios-formal-spec" class="github-link" target="_blank" rel="noopener noreferrer" title="View on GitHub">
                   <svg viewBox="0 0 24 24" width="24" height="24">
                     <path fill="currentColor" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                   </svg>
                 </a>
                 <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
                   <span class="light-icon">
                     <svg viewBox="0 0 24 24" width="24" height="24">
                       <path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path>
                     </svg>
                   </span>
                   <span class="dark-icon">
                     <svg viewBox="0 0 24 24" width="24" height="24">
                       <path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path>
                     </svg>
                   </span>
                 </button>
               </div>
             </div>
             <div class="search-overlay">
               <div class="search-modal">
                 <div class="search-container">
                   <input type="text" class="search-input" placeholder="Search modules..." />
                   <div class="search-results"></div>
                 </div>
               </div>
             </div>
             <div class="agda-container">
               <nav class="agda-sidebar">
                 <h3>Modules</h3>
                 
                     <h4>Leios</h4>
                     <ul>
                       <li><a href="/agda_html/Leios.Abstract.html" >Abstract</a></li>
<li><a href="/agda_html/Leios.Base.html" >Base</a></li>
<li><a href="/agda_html/Leios.Blocks.html" >Blocks</a></li>
<li><a href="/agda_html/Leios.Config.html" >Config</a></li>
<li><a href="/agda_html/Leios.Defaults.html" >Defaults</a></li>
<li><a href="/agda_html/Leios.FFD.html" >FFD</a></li>
<li><a href="/agda_html/Leios.Foreign.BaseTypes.html" >Foreign.BaseTypes</a></li>
<li><a href="/agda_html/Leios.Foreign.HsTypes.html" >Foreign.HsTypes</a></li>
<li><a href="/agda_html/Leios.Foreign.Types.html" >Foreign.Types</a></li>
<li><a href="/agda_html/Leios.Foreign.Util.html" >Foreign.Util</a></li>
<li><a href="/agda_html/Leios.KeyRegistration.html" >KeyRegistration</a></li>
<li><a href="/agda_html/Leios.Network.html" >Network</a></li>
<li><a href="/agda_html/Leios.Prelude.html" >Prelude</a></li>
<li><a href="/agda_html/Leios.Protocol.html" >Protocol</a></li>
<li><a href="/agda_html/Leios.Short.html" >Short</a></li>
<li><a href="/agda_html/Leios.Short.Decidable.html" >Short.Decidable</a></li>
<li><a href="/agda_html/Leios.Short.Trace.Verifier.html" >Short.Trace.Verifier</a></li>
<li><a href="/agda_html/Leios.Short.Trace.Verifier.Test.html" >Short.Trace.Verifier.Test</a></li>
<li><a href="/agda_html/Leios.Simplified.html" class="active">Simplified</a></li>
<li><a href="/agda_html/Leios.Simplified.Deterministic.html" >Simplified.Deterministic</a></li>
<li><a href="/agda_html/Leios.SpecStructure.html" >SpecStructure</a></li>
<li><a href="/agda_html/Leios.Traces.html" >Traces</a></li>
<li><a href="/agda_html/Leios.Voting.html" >Voting</a></li>
<li><a href="/agda_html/Leios.VRF.html" >VRF</a></li>
                     </ul>
                   
               </nav>
               <main class="agda-content">
             <script src="agda.js"></script><pre class="Agda"><div class="line"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a></div>
<div class="line"></div>
<div class="line"><a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="/agda_html/Leios.Prelude.html" class="Module">Leios.Prelude</a> <a id="51" class="Keyword">hiding</a> <a id="58" class="Symbol">(</a><a id="59" href="/agda_html/Function.Base.html#704" class="Function">id</a><a id="61" class="Symbol">)</a></div>
<div class="line"><a id="63" class="Keyword">open</a> <a id="68" class="Keyword">import</a> <a id="75" href="/agda_html/Leios.FFD.html" class="Module">Leios.FFD</a></div>
<div class="line"><a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="/agda_html/Leios.SpecStructure.html" class="Module">Leios.SpecStructure</a></div>
<div class="line"><a id="117" class="Keyword">open</a> <a id="122" class="Keyword">import</a> <a id="129" href="/agda_html/Data.Fin.Patterns.html" class="Module">Data.Fin.Patterns</a></div>
<div class="line"></div>
<div class="line"><a id="148" class="Keyword">open</a> <a id="153" class="Keyword">import</a> <a id="160" href="/agda_html/Tactic.Defaults.html" class="Module">Tactic.Defaults</a></div>
<div class="line"><a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="/agda_html/Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a></div>
<div class="line"></div>
<div class="line"><a id="209" class="Keyword">module</a> <a id="216" href="/agda_html/Leios.Simplified.html" class="Module">Leios.Simplified</a> <a id="233" class="Symbol">(</a><a id="234" href="/agda_html/Leios.Simplified.html#234" class="Bound">⋯</a> <a id="236" class="Symbol">:</a> <a id="238" href="/agda_html/Leios.SpecStructure.html#286" class="Record">SpecStructure</a> <a id="252" class="Number">2</a><a id="253" class="Symbol">)</a> <a id="255" class="Symbol">(</a><a id="256" class="Keyword">let</a> <a id="260" class="Keyword">open</a> <a id="265" href="/agda_html/Leios.SpecStructure.html#286" class="Module">SpecStructure</a> <a id="279" href="/agda_html/Leios.Simplified.html#234" class="Bound">⋯</a><a id="280" class="Symbol">)</a> <a id="282" class="Symbol">(</a><a id="283" href="/agda_html/Leios.Simplified.html#283" class="Bound">Λ</a> <a id="285" href="/agda_html/Leios.Simplified.html#285" class="Bound">μ</a> <a id="287" class="Symbol">:</a> <a id="289" href="/agda_html/Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="290" class="Symbol">)</a> <a id="292" class="Keyword">where</a></div>
<div class="line"></div>
<div class="line"><a id="299" class="Keyword">data</a> <a id="SlotUpkeep"></a><a id="304" href="/agda_html/Leios.Simplified.html#304" class="Datatype">SlotUpkeep</a> <a id="315" class="Symbol">:</a> <a id="317" href="/agda_html/Agda.Primitive.html#388" class="Primitive">Type</a> <a id="322" class="Keyword">where</a></div>
<div class="line">  <a id="SlotUpkeep.Base"></a><a id="330" href="/agda_html/Leios.Simplified.html#330" class="InductiveConstructor">Base</a> <a id="SlotUpkeep.IB-Role"></a><a id="335" href="/agda_html/Leios.Simplified.html#335" class="InductiveConstructor">IB-Role</a> <a id="SlotUpkeep.EB-Role"></a><a id="343" href="/agda_html/Leios.Simplified.html#343" class="InductiveConstructor">EB-Role</a> <a id="SlotUpkeep.V1-Role"></a><a id="351" href="/agda_html/Leios.Simplified.html#351" class="InductiveConstructor">V1-Role</a> <a id="SlotUpkeep.V2-Role"></a><a id="359" href="/agda_html/Leios.Simplified.html#359" class="InductiveConstructor">V2-Role</a> <a id="367" class="Symbol">:</a> <a id="369" href="/agda_html/Leios.Simplified.html#304" class="Datatype">SlotUpkeep</a></div>
<div class="line"></div>
<div class="line"><a id="381" class="Keyword">unquoteDecl</a> <a id="DecEq-SlotUpkeep"></a><a id="393" href="/agda_html/Leios.Simplified.html#393" class="Function">DecEq-SlotUpkeep</a> <a id="410" class="Symbol">=</a> <a id="412" href="/agda_html/Tactic.Derive.DecEq.html#3512" class="Function">derive-DecEq</a> <a id="425" class="Symbol">((</a><a id="427" class="Keyword">quote</a> <a id="433" href="/agda_html/Leios.Simplified.html#304" class="Datatype">SlotUpkeep</a> <a id="444" href="/agda_html/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="446" href="/agda_html/Leios.Simplified.html#393" class="Function">DecEq-SlotUpkeep</a><a id="462" class="Symbol">)</a> <a id="464" href="/agda_html/Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="466" href="/agda_html/Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="468" class="Symbol">)</a></div>
<div class="line"></div>
<div class="line"><a id="allUpkeep"></a><a id="471" href="/agda_html/Leios.Simplified.html#471" class="Function">allUpkeep</a> <a id="481" class="Symbol">:</a> <a id="483" href="/agda_html/abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="485" href="/agda_html/Leios.Simplified.html#304" class="Datatype">SlotUpkeep</a></div>
<div class="line"><a id="496" href="/agda_html/Leios.Simplified.html#471" class="Function">allUpkeep</a> <a id="506" class="Symbol">=</a> <a id="508" href="/agda_html/Axiom.Set.html#5718" class="Function">fromList</a> <a id="517" class="Symbol">(</a><a id="518" href="/agda_html/Leios.Simplified.html#330" class="InductiveConstructor">Base</a> <a id="523" href="/agda_html/Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="525" href="/agda_html/Leios.Simplified.html#335" class="InductiveConstructor">IB-Role</a> <a id="533" href="/agda_html/Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="535" href="/agda_html/Leios.Simplified.html#343" class="InductiveConstructor">EB-Role</a> <a id="543" href="/agda_html/Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="545" href="/agda_html/Leios.Simplified.html#351" class="InductiveConstructor">V1-Role</a> <a id="553" href="/agda_html/Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="555" href="/agda_html/Leios.Simplified.html#359" class="InductiveConstructor">V2-Role</a> <a id="563" href="/agda_html/Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="565" href="/agda_html/Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="567" class="Symbol">)</a></div>
<div class="line"></div>
<div class="line"><a id="570" class="Keyword">open</a> <a id="575" class="Keyword">import</a> <a id="582" href="/agda_html/Leios.Protocol.html" class="Module">Leios.Protocol</a> <a id="597" class="Symbol">(</a><a id="598" href="/agda_html/Leios.Simplified.html#234" class="Bound">⋯</a><a id="599" class="Symbol">)</a> <a id="601" href="/agda_html/Leios.Simplified.html#304" class="Datatype">SlotUpkeep</a> <a id="612" class="Keyword">public</a></div>
<div class="line"></div>
<div class="line"><a id="620" class="Keyword">open</a> <a id="625" href="/agda_html/Leios.Base.html#389" class="Module">BaseAbstract</a> <a id="638" href="/agda_html/Leios.SpecStructure.html#835" class="Field">B&#39;</a> <a id="641" class="Keyword">using</a> <a id="647" class="Symbol">(</a><a id="648" href="/agda_html/Leios.Base.html#424" class="Field">Cert</a><a id="652" class="Symbol">;</a> <a id="654" href="/agda_html/Leios.Base.html#490" class="Field">V-chkCerts</a><a id="664" class="Symbol">;</a> <a id="666" href="/agda_html/Leios.Base.html#444" class="Field">VTy</a><a id="669" class="Symbol">;</a> <a id="671" href="/agda_html/Leios.Base.html#463" class="Field">initSlot</a><a id="679" class="Symbol">)</a></div>
<div class="line"><a id="681" class="Keyword">open</a> <a id="686" href="/agda_html/Leios.SpecStructure.html#1203" class="Module">FFD</a> <a id="690" class="Keyword">hiding</a> <a id="697" class="Symbol">(</a><a id="698" href="/agda_html/Leios.FFD.html#562" class="Function Operator">_-⟦_/_⟧⇀_</a><a id="707" class="Symbol">)</a></div>
<div class="line"><a id="709" class="Keyword">open</a> <a id="714" href="/agda_html/Leios.Blocks.html#4246" class="Module">GenFFD</a></div>
<div class="line"></div>
<div class="line"><a id="isVote1Certified"></a><a id="722" href="/agda_html/Leios.Simplified.html#722" class="Function">isVote1Certified</a> <a id="739" class="Symbol">:</a> <a id="741" href="/agda_html/Leios.Protocol.html#959" class="Record">LeiosState</a> <a id="752" class="Symbol">→</a> <a id="754" href="/agda_html/Leios.Blocks.html#2804" class="Function">EndorserBlock</a> <a id="768" class="Symbol">→</a> <a id="770" href="/agda_html/Agda.Primitive.html#388" class="Primitive">Type</a></div>
<div class="line"><a id="775" href="/agda_html/Leios.Simplified.html#722" class="Function">isVote1Certified</a> <a id="792" href="/agda_html/Leios.Simplified.html#792" class="Bound">s</a> <a id="794" href="/agda_html/Leios.Simplified.html#794" class="Bound">eb</a> <a id="797" class="Symbol">=</a> <a id="799" href="/agda_html/Leios.Voting.html#203" class="Function">isVoteCertified</a> <a id="815" class="Symbol">(</a><a id="816" href="/agda_html/Leios.Protocol.html#1419" class="Field">LeiosState.votingState</a> <a id="839" href="/agda_html/Leios.Simplified.html#792" class="Bound">s</a><a id="840" class="Symbol">)</a> <a id="842" class="Symbol">(</a><a id="843" href="/agda_html/Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a> <a id="846" href="/agda_html/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="848" href="/agda_html/Leios.Simplified.html#794" class="Bound">eb</a><a id="850" class="Symbol">)</a></div>
<div class="line"></div>
<div class="line"><a id="isVote2Certified"></a><a id="853" href="/agda_html/Leios.Simplified.html#853" class="Function">isVote2Certified</a> <a id="870" class="Symbol">:</a> <a id="872" href="/agda_html/Leios.Protocol.html#959" class="Record">LeiosState</a> <a id="883" class="Symbol">→</a> <a id="885" href="/agda_html/Leios.Blocks.html#2804" class="Function">EndorserBlock</a> <a id="899" class="Symbol">→</a> <a id="901" href="/agda_html/Agda.Primitive.html#388" class="Primitive">Type</a></div>
<div class="line"><a id="906" href="/agda_html/Leios.Simplified.html#853" class="Function">isVote2Certified</a> <a id="923" href="/agda_html/Leios.Simplified.html#923" class="Bound">s</a> <a id="925" href="/agda_html/Leios.Simplified.html#925" class="Bound">eb</a> <a id="928" class="Symbol">=</a> <a id="930" href="/agda_html/Leios.Voting.html#203" class="Function">isVoteCertified</a> <a id="946" class="Symbol">(</a><a id="947" href="/agda_html/Leios.Protocol.html#1419" class="Field">LeiosState.votingState</a> <a id="970" href="/agda_html/Leios.Simplified.html#923" class="Bound">s</a><a id="971" class="Symbol">)</a> <a id="973" class="Symbol">(</a><a id="974" href="/agda_html/Data.Fin.Patterns.html#417" class="InductiveConstructor">1F</a> <a id="977" href="/agda_html/Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="979" href="/agda_html/Leios.Simplified.html#925" class="Bound">eb</a><a id="981" class="Symbol">)</a></div>
<div class="line"></div>
<div class="line"><a id="984" class="Comment">-- Predicates about EBs</a></div>
<div class="line"><a id="1008" class="Keyword">module</a> <a id="1015" href="/agda_html/Leios.Simplified.html#1015" class="Module">_</a> <a id="1017" class="Symbol">(</a><a id="1018" href="/agda_html/Leios.Simplified.html#1018" class="Bound">s</a> <a id="1020" class="Symbol">:</a> <a id="1022" href="/agda_html/Leios.Protocol.html#959" class="Record">LeiosState</a><a id="1032" class="Symbol">)</a> <a id="1034" class="Symbol">(</a><a id="1035" href="/agda_html/Leios.Simplified.html#1035" class="Bound">eb</a> <a id="1038" class="Symbol">:</a> <a id="1040" href="/agda_html/Leios.Blocks.html#2804" class="Function">EndorserBlock</a><a id="1053" class="Symbol">)</a> <a id="1055" class="Keyword">where</a></div>
<div class="line">  <a id="1063" class="Keyword">open</a> <a id="1068" href="/agda_html/Leios.Blocks.html#2592" class="Module">EndorserBlockOSig</a> <a id="1086" href="/agda_html/Leios.Simplified.html#1035" class="Bound">eb</a></div>
<div class="line">  <a id="1091" class="Keyword">open</a> <a id="1096" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="1107" href="/agda_html/Leios.Simplified.html#1018" class="Bound">s</a></div>
<div class="line"></div>
<div class="line">  <a id="1112" href="/agda_html/Leios.Simplified.html#1112" class="Function">vote2Eligible</a> <a id="1126" class="Symbol">:</a> <a id="1128" href="/agda_html/Agda.Primitive.html#388" class="Primitive">Type</a></div>
<div class="line">  <a id="1135" href="/agda_html/Leios.Simplified.html#1112" class="Function">vote2Eligible</a> <a id="1149" class="Symbol">=</a> <a id="1151" href="/agda_html/Data.List.Base.html#5044" class="Function">length</a> <a id="1158" href="/agda_html/Leios.Blocks.html#2754" class="Field">ebRefs</a> <a id="1165" href="/agda_html/Class.HasOrder.Core.html#727" class="Function Operator">≥</a> <a id="1167" href="/agda_html/abstract-set-theory.FiniteSetTheory.html#2063" class="Function">lengthˢ</a> <a id="1175" href="/agda_html/Leios.Simplified.html#1274" class="Function">candidateEBs</a> <a id="1188" href="/agda_html/Data.Nat.Base.html#7096" class="Function Operator">/</a> <a id="1190" class="Number">2</a> <a id="1192" class="Comment">-- should this be `&gt;`?</a></div>
<div class="line">                <a id="1231" href="/agda_html/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1233" href="/agda_html/Axiom.Set.html#5718" class="Function">fromList</a> <a id="1242" href="/agda_html/Leios.Blocks.html#2754" class="Field">ebRefs</a> <a id="1249" href="/agda_html/Axiom.Set.html#1813" class="Function Operator">⊆</a> <a id="1251" href="/agda_html/Leios.Simplified.html#1274" class="Function">candidateEBs</a></div>
<div class="line">    <a id="1268" class="Keyword">where</a> <a id="1274" href="/agda_html/Leios.Simplified.html#1274" class="Function">candidateEBs</a> <a id="1287" class="Symbol">:</a> <a id="1289" href="/agda_html/abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1291" href="/agda_html/Leios.Abstract.html#263" class="Function">Hash</a></div>
<div class="line">          <a id="1306" href="/agda_html/Leios.Simplified.html#1274" class="Function">candidateEBs</a> <a id="1319" class="Symbol">=</a> <a id="1321" href="/agda_html/abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1326" href="/agda_html/Leios.Blocks.html#3791" class="Function">getEBRef</a> <a id="1335" href="/agda_html/Function.Base.html#1974" class="Function Operator">$</a> <a id="1337" href="/agda_html/abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="1345" class="Symbol">(</a><a id="1346" href="/agda_html/Leios.Blocks.html#527" class="Function Operator">_∈ᴮ</a> <a id="1350" href="/agda_html/Leios.Prelude.html#1001" class="Function">slice</a> <a id="1356" href="/agda_html/Leios.Abstract.html#628" class="Function">L</a> <a id="1358" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="1363" class="Symbol">(</a><a id="1364" href="/agda_html/Leios.Simplified.html#285" class="Bound">μ</a> <a id="1366" href="/agda_html/Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="1368" class="Number">3</a><a id="1369" class="Symbol">))</a> <a id="1372" class="Symbol">(</a><a id="1373" href="/agda_html/Axiom.Set.html#5718" class="Function">fromList</a> <a id="1382" href="/agda_html/Leios.Protocol.html#1180" class="Function">EBs</a><a id="1385" class="Symbol">)</a></div>
<div class="line"></div>
<div class="line"><a id="1388" class="Keyword">private</a> <a id="1396" class="Keyword">variable</a> <a id="1405" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="1407" href="/agda_html/Leios.Simplified.html#1407" class="Generalizable">s&#39;</a>   <a id="1412" class="Symbol">:</a> <a id="1414" href="/agda_html/Leios.Protocol.html#959" class="Record">LeiosState</a></div>
<div class="line">                 <a id="1442" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a>  <a id="1449" class="Symbol">:</a> <a id="1451" href="/agda_html/Leios.FFD.html#508" class="Function">FFD.State</a></div>
<div class="line">                 <a id="1478" href="/agda_html/Leios.Simplified.html#1478" class="Generalizable">π</a>      <a id="1485" class="Symbol">:</a> <a id="1487" href="/agda_html/Leios.Abstract.html#245" class="Function">VrfPf</a></div>
<div class="line">                 <a id="1510" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a>    <a id="1517" class="Symbol">:</a> <a id="1519" href="/agda_html/Leios.Base.html#847" class="Function">B.State</a></div>
<div class="line">                 <a id="1544" href="/agda_html/Leios.Simplified.html#1544" class="Generalizable">ks</a> <a id="1547" href="/agda_html/Leios.Simplified.html#1547" class="Generalizable">ks&#39;</a> <a id="1551" class="Symbol">:</a> <a id="1553" href="/agda_html/Leios.KeyRegistration.html#453" class="Function">K.State</a></div>
<div class="line">                 <a id="1578" href="/agda_html/Leios.Simplified.html#1578" class="Generalizable">msgs</a>   <a id="1585" class="Symbol">:</a> <a id="1587" href="/agda_html/Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1592" class="Symbol">(</a><a id="1593" href="/agda_html/Leios.FFD.html#117" class="Field">FFDAbstract.Header</a> <a id="1612" href="/agda_html/Leios.Blocks.html#5294" class="Function">ffdAbstract</a> <a id="1624" href="/agda_html/Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1626" href="/agda_html/Leios.FFD.html#124" class="Field">FFDAbstract.Body</a> <a id="1643" href="/agda_html/Leios.Blocks.html#5294" class="Function">ffdAbstract</a><a id="1654" class="Symbol">)</a></div>
<div class="line">                 <a id="1673" href="/agda_html/Leios.Simplified.html#1673" class="Generalizable">eb</a>     <a id="1680" class="Symbol">:</a> <a id="1682" href="/agda_html/Leios.Blocks.html#2804" class="Function">EndorserBlock</a></div>
<div class="line">                 <a id="1713" href="/agda_html/Leios.Simplified.html#1713" class="Generalizable">rbs</a>    <a id="1720" class="Symbol">:</a> <a id="1722" href="/agda_html/Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1727" href="/agda_html/Leios.Base.html#316" class="Function">RankingBlock</a></div>
<div class="line">                 <a id="1757" href="/agda_html/Leios.Simplified.html#1757" class="Generalizable">txs</a>    <a id="1764" class="Symbol">:</a> <a id="1766" href="/agda_html/Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1771" href="/agda_html/Leios.Abstract.html#124" class="Function">Tx</a></div>
<div class="line">                 <a id="1791" href="/agda_html/Leios.Simplified.html#1791" class="Generalizable">V</a>      <a id="1798" class="Symbol">:</a> <a id="1800" href="/agda_html/Leios.Base.html#444" class="Function">VTy</a></div>
<div class="line">                 <a id="1821" href="/agda_html/Leios.Simplified.html#1821" class="Generalizable">SD</a>     <a id="1828" class="Symbol">:</a> <a id="1830" href="/agda_html/Leios.Base.html#266" class="Function">StakeDistr</a></div>
<div class="line">                 <a id="1858" href="/agda_html/Leios.Simplified.html#1858" class="Generalizable">pks</a>    <a id="1865" class="Symbol">:</a> <a id="1867" href="/agda_html/Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1872" href="/agda_html/Leios.VRF.html#480" class="Function">PubKey</a></div>
<div class="line"></div>
<div class="line"><a id="1880" class="Keyword">data</a> <a id="_↝_"></a><a id="1885" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">_↝_</a> <a id="1889" class="Symbol">:</a> <a id="1891" href="/agda_html/Leios.Protocol.html#959" class="Record">LeiosState</a> <a id="1902" class="Symbol">→</a> <a id="1904" href="/agda_html/Leios.Protocol.html#959" class="Record">LeiosState</a> <a id="1915" class="Symbol">→</a> <a id="1917" href="/agda_html/Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1922" class="Keyword">where</a></div>
<div class="line"></div>
<div class="line">  <a id="_↝_.IB-Role"></a><a id="1931" href="/agda_html/Leios.Simplified.html#1931" class="InductiveConstructor">IB-Role</a> <a id="1939" class="Symbol">:</a> <a id="1941" class="Keyword">let</a> <a id="1945" class="Keyword">open</a> <a id="1950" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="1961" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="1963" class="Keyword">renaming</a> <a id="1972" class="Symbol">(</a><a id="1973" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="1982" class="Symbol">to</a> <a id="1985" class="Field">ffds</a><a id="1989" class="Symbol">)</a></div>
<div class="line">                <a id="2007" href="/agda_html/Leios.Simplified.html#2007" class="Bound">b</a> <a id="2009" class="Symbol">=</a> <a id="2011" href="/agda_html/Leios.Blocks.html#4449" class="InductiveConstructor">ibBody</a> <a id="2018" class="Symbol">(</a><a id="2019" class="Keyword">record</a> <a id="2026" class="Symbol">{</a> <a id="2028" href="/agda_html/Leios.Blocks.html#1083" class="Field">txs</a> <a id="2032" class="Symbol">=</a> <a id="2034" href="/agda_html/Leios.Protocol.html#1112" class="Function">ToPropose</a> <a id="2044" class="Symbol">})</a></div>
<div class="line">                <a id="2063" href="/agda_html/Leios.Simplified.html#2063" class="Bound">h</a> <a id="2065" class="Symbol">=</a> <a id="2067" href="/agda_html/Leios.Blocks.html#4318" class="InductiveConstructor">ibHeader</a> <a id="2076" class="Symbol">(</a><a id="2077" href="/agda_html/Leios.Blocks.html#1898" class="Function">mkIBHeader</a> <a id="2088" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="2093" href="/agda_html/Leios.SpecStructure.html#601" class="Field">id</a> <a id="2096" href="/agda_html/Leios.Simplified.html#1478" class="Generalizable">π</a> <a id="2098" href="/agda_html/Leios.SpecStructure.html#730" class="Field">sk-IB</a> <a id="2104" href="/agda_html/Leios.Protocol.html#1112" class="Function">ToPropose</a><a id="2113" class="Symbol">)</a></div>
<div class="line">          <a id="2125" class="Keyword">in</a></div>
<div class="line">          <a id="2138" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="2140" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="2152" href="/agda_html/Leios.Simplified.html#335" class="InductiveConstructor">IB-Role</a></div>
<div class="line">          <a id="2170" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="2172" href="/agda_html/Leios.VRF.html#814" class="Function">canProduceIB</a> <a id="2185" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="2190" href="/agda_html/Leios.SpecStructure.html#730" class="Field">sk-IB</a> <a id="2196" class="Symbol">(</a><a id="2197" href="/agda_html/Leios.Protocol.html#2995" class="Function">stake</a> <a id="2203" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="2204" class="Symbol">)</a> <a id="2206" href="/agda_html/Leios.Simplified.html#1478" class="Generalizable">π</a></div>
<div class="line">          <a id="2218" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="2220" href="/agda_html/Leios.Simplified.html#1985" class="Function">ffds</a> <a id="2225" href="/agda_html/Leios.FFD.html#562" class="Function Operator">FFD.-⟦</a> <a id="2232" href="/agda_html/Leios.FFD.html#311" class="InductiveConstructor">Send</a> <a id="2237" href="/agda_html/Leios.Simplified.html#2063" class="Bound">h</a> <a id="2239" class="Symbol">(</a><a id="2240" href="/agda_html/Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2245" href="/agda_html/Leios.Simplified.html#2007" class="Bound">b</a><a id="2246" class="Symbol">)</a> <a id="2248" href="/agda_html/Leios.FFD.html#562" class="Function Operator">/</a> <a id="2250" href="/agda_html/Leios.FFD.html#397" class="InductiveConstructor">SendRes</a> <a id="2258" href="/agda_html/Leios.FFD.html#562" class="Function Operator">⟧⇀</a> <a id="2261" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a></div>
<div class="line">          <a id="2277" href="/agda_html/Prelude.InferenceRules.html#11315" class="Function Operator">─────────────────────────────────────────────────────────────────────────</a></div>
<div class="line">          <a id="2361" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="2363" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="2365" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="2375" class="Keyword">record</a> <a id="2382" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="2384" class="Symbol">{</a> <a id="2386" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="2395" class="Symbol">=</a> <a id="2397" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a> <a id="2403" class="Symbol">}</a> <a id="2405" href="/agda_html/Leios.Simplified.html#335" class="InductiveConstructor">IB-Role</a></div>
<div class="line"></div>
<div class="line">  <a id="_↝_.EB-Role"></a><a id="2416" href="/agda_html/Leios.Simplified.html#2416" class="InductiveConstructor">EB-Role</a> <a id="2424" class="Symbol">:</a> <a id="2426" class="Keyword">let</a> <a id="2430" class="Keyword">open</a> <a id="2435" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="2446" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="2448" class="Keyword">renaming</a> <a id="2457" class="Symbol">(</a><a id="2458" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="2467" class="Symbol">to</a> <a id="2470" class="Field">ffds</a><a id="2474" class="Symbol">)</a></div>
<div class="line">                <a id="2492" href="/agda_html/Leios.Simplified.html#2492" class="Bound">LI</a> <a id="2495" class="Symbol">=</a> <a id="2497" href="/agda_html/abstract-set-theory.Prelude.html#1824" class="Function">map</a> <a id="2501" href="/agda_html/Leios.Blocks.html#2304" class="Function">getIBRef</a> <a id="2510" href="/agda_html/Function.Base.html#1974" class="Function Operator">$</a> <a id="2512" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="2519" class="Symbol">(</a><a id="2520" href="/agda_html/Leios.Blocks.html#527" class="Function Operator">_∈ᴮ</a> <a id="2524" href="/agda_html/Leios.Prelude.html#1001" class="Function">slice</a> <a id="2530" href="/agda_html/Leios.Abstract.html#628" class="Function">L</a> <a id="2532" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="2537" class="Symbol">(</a><a id="2538" href="/agda_html/Leios.Simplified.html#283" class="Bound">Λ</a> <a id="2540" href="/agda_html/Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="2542" class="Number">1</a><a id="2543" class="Symbol">))</a> <a id="2546" href="/agda_html/Leios.Protocol.html#1142" class="Function">IBs</a></div>
<div class="line">                <a id="2566" href="/agda_html/Leios.Simplified.html#2566" class="Bound">LE</a> <a id="2569" class="Symbol">=</a> <a id="2571" href="/agda_html/abstract-set-theory.Prelude.html#1824" class="Function">map</a> <a id="2575" href="/agda_html/Leios.Blocks.html#3791" class="Function">getEBRef</a> <a id="2584" href="/agda_html/Function.Base.html#1974" class="Function Operator">$</a> <a id="2586" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="2593" class="Symbol">(</a><a id="2594" href="/agda_html/Leios.Simplified.html#722" class="Function">isVote1Certified</a> <a id="2611" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="2612" class="Symbol">)</a> <a id="2614" href="/agda_html/Function.Base.html#1974" class="Function Operator">$</a></div>
<div class="line">                           <a id="2643" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="2650" class="Symbol">(</a><a id="2651" href="/agda_html/Leios.Blocks.html#527" class="Function Operator">_∈ᴮ</a> <a id="2655" href="/agda_html/Leios.Prelude.html#1001" class="Function">slice</a> <a id="2661" href="/agda_html/Leios.Abstract.html#628" class="Function">L</a> <a id="2663" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="2668" class="Symbol">(</a><a id="2669" href="/agda_html/Leios.Simplified.html#285" class="Bound">μ</a> <a id="2671" href="/agda_html/Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="2673" class="Number">2</a><a id="2674" class="Symbol">))</a> <a id="2677" href="/agda_html/Leios.Protocol.html#1180" class="Function">EBs</a></div>
<div class="line">                <a id="2697" href="/agda_html/Leios.Simplified.html#2697" class="Bound">h</a> <a id="2699" class="Symbol">=</a> <a id="2701" href="/agda_html/Leios.Blocks.html#3335" class="Function">mkEB</a> <a id="2706" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="2711" href="/agda_html/Leios.SpecStructure.html#601" class="Field">id</a> <a id="2714" href="/agda_html/Leios.Simplified.html#1478" class="Generalizable">π</a> <a id="2716" href="/agda_html/Leios.SpecStructure.html#736" class="Field">sk-EB</a> <a id="2722" href="/agda_html/Leios.Simplified.html#2492" class="Bound">LI</a> <a id="2725" href="/agda_html/Leios.Simplified.html#2566" class="Bound">LE</a></div>
<div class="line">          <a id="2738" class="Keyword">in</a></div>
<div class="line">          <a id="2751" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="2753" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="2765" href="/agda_html/Leios.Simplified.html#343" class="InductiveConstructor">EB-Role</a></div>
<div class="line">          <a id="2783" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="2785" href="/agda_html/Leios.VRF.html#1418" class="Function">canProduceEB</a> <a id="2798" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="2803" href="/agda_html/Leios.SpecStructure.html#736" class="Field">sk-EB</a> <a id="2809" class="Symbol">(</a><a id="2810" href="/agda_html/Leios.Protocol.html#2995" class="Function">stake</a> <a id="2816" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="2817" class="Symbol">)</a> <a id="2819" href="/agda_html/Leios.Simplified.html#1478" class="Generalizable">π</a></div>
<div class="line">          <a id="2831" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="2833" href="/agda_html/Leios.Simplified.html#2470" class="Function">ffds</a> <a id="2838" href="/agda_html/Leios.FFD.html#562" class="Function Operator">FFD.-⟦</a> <a id="2845" href="/agda_html/Leios.FFD.html#311" class="InductiveConstructor">Send</a> <a id="2850" class="Symbol">(</a><a id="2851" href="/agda_html/Leios.Blocks.html#4351" class="InductiveConstructor">ebHeader</a> <a id="2860" href="/agda_html/Leios.Simplified.html#2697" class="Bound">h</a><a id="2861" class="Symbol">)</a> <a id="2863" href="/agda_html/Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2871" href="/agda_html/Leios.FFD.html#562" class="Function Operator">/</a> <a id="2873" href="/agda_html/Leios.FFD.html#397" class="InductiveConstructor">SendRes</a> <a id="2881" href="/agda_html/Leios.FFD.html#562" class="Function Operator">⟧⇀</a> <a id="2884" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a></div>
<div class="line">          <a id="2900" href="/agda_html/Prelude.InferenceRules.html#11315" class="Function Operator">─────────────────────────────────────────────────────────────────────────</a></div>
<div class="line">          <a id="2984" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="2986" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="2988" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="2998" class="Keyword">record</a> <a id="3005" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="3007" class="Symbol">{</a> <a id="3009" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="3018" class="Symbol">=</a> <a id="3020" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a> <a id="3026" class="Symbol">}</a> <a id="3028" href="/agda_html/Leios.Simplified.html#343" class="InductiveConstructor">EB-Role</a></div>
<div class="line"></div>
<div class="line">  <a id="_↝_.V1-Role"></a><a id="3039" href="/agda_html/Leios.Simplified.html#3039" class="InductiveConstructor">V1-Role</a> <a id="3047" class="Symbol">:</a> <a id="3049" class="Keyword">let</a> <a id="3053" class="Keyword">open</a> <a id="3058" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="3069" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="3071" class="Keyword">renaming</a> <a id="3080" class="Symbol">(</a><a id="3081" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="3090" class="Symbol">to</a> <a id="3093" class="Field">ffds</a><a id="3097" class="Symbol">)</a></div>
<div class="line">                <a id="3115" href="/agda_html/Leios.Simplified.html#3115" class="Bound">EBs&#39;</a> <a id="3120" class="Symbol">=</a> <a id="3122" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="3129" class="Symbol">(</a><a id="3130" href="/agda_html/Leios.Protocol.html#6510" class="Function">allIBRefsKnown</a> <a id="3145" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="3146" class="Symbol">)</a> <a id="3148" href="/agda_html/Function.Base.html#1974" class="Function Operator">$</a> <a id="3150" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="3157" class="Symbol">(</a><a id="3158" href="/agda_html/Leios.Blocks.html#527" class="Function Operator">_∈ᴮ</a> <a id="3162" href="/agda_html/Leios.Prelude.html#1001" class="Function">slice</a> <a id="3168" href="/agda_html/Leios.Abstract.html#628" class="Function">L</a> <a id="3170" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="3175" class="Symbol">(</a><a id="3176" href="/agda_html/Leios.Simplified.html#285" class="Bound">μ</a> <a id="3178" href="/agda_html/Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="3180" class="Number">1</a><a id="3181" class="Symbol">))</a> <a id="3184" href="/agda_html/Leios.Protocol.html#1180" class="Function">EBs</a></div>
<div class="line">                <a id="3204" href="/agda_html/Leios.Simplified.html#3204" class="Bound">votes</a> <a id="3210" class="Symbol">=</a> <a id="3212" href="/agda_html/abstract-set-theory.Prelude.html#1824" class="Function">map</a> <a id="3216" class="Symbol">(</a><a id="3217" href="/agda_html/Leios.Abstract.html#504" class="Function">vote</a> <a id="3222" href="/agda_html/Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="3228" href="/agda_html/Function.Base.html#1115" class="Function Operator">∘</a> <a id="3230" href="/agda_html/Class.Hashable.html#167" class="Field">hash</a><a id="3234" class="Symbol">)</a> <a id="3236" href="/agda_html/Leios.Simplified.html#3115" class="Bound">EBs&#39;</a></div>
<div class="line">          <a id="3251" class="Keyword">in</a></div>
<div class="line">          <a id="3264" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="3266" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="3278" href="/agda_html/Leios.Simplified.html#351" class="InductiveConstructor">V1-Role</a></div>
<div class="line">          <a id="3296" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="3298" href="/agda_html/Leios.VRF.html#2305" class="Function">canProduceV1</a> <a id="3311" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="3316" href="/agda_html/Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="3322" class="Symbol">(</a><a id="3323" href="/agda_html/Leios.Protocol.html#2995" class="Function">stake</a> <a id="3329" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="3330" class="Symbol">)</a></div>
<div class="line">          <a id="3342" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="3344" href="/agda_html/Leios.Simplified.html#3093" class="Function">ffds</a> <a id="3349" href="/agda_html/Leios.FFD.html#562" class="Function Operator">FFD.-⟦</a> <a id="3356" href="/agda_html/Leios.FFD.html#311" class="InductiveConstructor">Send</a> <a id="3361" class="Symbol">(</a><a id="3362" href="/agda_html/Leios.Blocks.html#4389" class="InductiveConstructor">vtHeader</a> <a id="3371" href="/agda_html/Leios.Simplified.html#3204" class="Bound">votes</a><a id="3376" class="Symbol">)</a> <a id="3378" href="/agda_html/Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3386" href="/agda_html/Leios.FFD.html#562" class="Function Operator">/</a> <a id="3388" href="/agda_html/Leios.FFD.html#397" class="InductiveConstructor">SendRes</a> <a id="3396" href="/agda_html/Leios.FFD.html#562" class="Function Operator">⟧⇀</a> <a id="3399" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a></div>
<div class="line">          <a id="3415" href="/agda_html/Prelude.InferenceRules.html#11315" class="Function Operator">─────────────────────────────────────────────────────────────────────────</a></div>
<div class="line">          <a id="3499" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="3501" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="3503" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="3513" class="Keyword">record</a> <a id="3520" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="3522" class="Symbol">{</a> <a id="3524" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="3533" class="Symbol">=</a> <a id="3535" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a> <a id="3541" class="Symbol">}</a> <a id="3543" href="/agda_html/Leios.Simplified.html#351" class="InductiveConstructor">V1-Role</a></div>
<div class="line"></div>
<div class="line">  <a id="_↝_.V2-Role"></a><a id="3554" href="/agda_html/Leios.Simplified.html#3554" class="InductiveConstructor">V2-Role</a> <a id="3562" class="Symbol">:</a> <a id="3564" class="Keyword">let</a> <a id="3568" class="Keyword">open</a> <a id="3573" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="3584" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="3586" class="Keyword">renaming</a> <a id="3595" class="Symbol">(</a><a id="3596" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="3605" class="Symbol">to</a> <a id="3608" class="Field">ffds</a><a id="3612" class="Symbol">)</a></div>
<div class="line">                <a id="3630" href="/agda_html/Leios.Simplified.html#3630" class="Bound">EBs&#39;</a> <a id="3635" class="Symbol">=</a> <a id="3637" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="3644" class="Symbol">(</a><a id="3645" href="/agda_html/Leios.Simplified.html#1112" class="Function">vote2Eligible</a> <a id="3659" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="3660" class="Symbol">)</a> <a id="3662" href="/agda_html/Function.Base.html#1974" class="Function Operator">$</a> <a id="3664" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="3671" class="Symbol">(</a><a id="3672" href="/agda_html/Leios.Blocks.html#527" class="Function Operator">_∈ᴮ</a> <a id="3676" href="/agda_html/Leios.Prelude.html#1001" class="Function">slice</a> <a id="3682" href="/agda_html/Leios.Abstract.html#628" class="Function">L</a> <a id="3684" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="3689" class="Number">1</a><a id="3690" class="Symbol">)</a> <a id="3692" href="/agda_html/Leios.Protocol.html#1180" class="Function">EBs</a></div>
<div class="line">                <a id="3712" href="/agda_html/Leios.Simplified.html#3712" class="Bound">votes</a> <a id="3718" class="Symbol">=</a> <a id="3720" href="/agda_html/abstract-set-theory.Prelude.html#1824" class="Function">map</a> <a id="3724" class="Symbol">(</a><a id="3725" href="/agda_html/Leios.Abstract.html#504" class="Function">vote</a> <a id="3730" href="/agda_html/Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="3736" href="/agda_html/Function.Base.html#1115" class="Function Operator">∘</a> <a id="3738" href="/agda_html/Class.Hashable.html#167" class="Field">hash</a><a id="3742" class="Symbol">)</a> <a id="3744" href="/agda_html/Leios.Simplified.html#3630" class="Bound">EBs&#39;</a></div>
<div class="line">          <a id="3759" class="Keyword">in</a></div>
<div class="line">          <a id="3772" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="3774" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="3786" href="/agda_html/Leios.Simplified.html#359" class="InductiveConstructor">V2-Role</a></div>
<div class="line">          <a id="3804" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="3806" href="/agda_html/Leios.VRF.html#2595" class="Function">canProduceV2</a> <a id="3819" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="3824" href="/agda_html/Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="3830" class="Symbol">(</a><a id="3831" href="/agda_html/Leios.Protocol.html#2995" class="Function">stake</a> <a id="3837" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="3838" class="Symbol">)</a></div>
<div class="line">          <a id="3850" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="3852" href="/agda_html/Leios.Simplified.html#3608" class="Function">ffds</a> <a id="3857" href="/agda_html/Leios.FFD.html#562" class="Function Operator">FFD.-⟦</a> <a id="3864" href="/agda_html/Leios.FFD.html#311" class="InductiveConstructor">Send</a> <a id="3869" class="Symbol">(</a><a id="3870" href="/agda_html/Leios.Blocks.html#4389" class="InductiveConstructor">vtHeader</a> <a id="3879" href="/agda_html/Leios.Simplified.html#3712" class="Bound">votes</a><a id="3884" class="Symbol">)</a> <a id="3886" href="/agda_html/Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3894" href="/agda_html/Leios.FFD.html#562" class="Function Operator">/</a> <a id="3896" href="/agda_html/Leios.FFD.html#397" class="InductiveConstructor">SendRes</a> <a id="3904" href="/agda_html/Leios.FFD.html#562" class="Function Operator">⟧⇀</a> <a id="3907" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a></div>
<div class="line">          <a id="3923" href="/agda_html/Prelude.InferenceRules.html#11315" class="Function Operator">─────────────────────────────────────────────────────────────────────────</a></div>
<div class="line">          <a id="4007" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4009" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="4011" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="4021" class="Keyword">record</a> <a id="4028" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4030" class="Symbol">{</a> <a id="4032" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="4041" class="Symbol">=</a> <a id="4043" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a> <a id="4049" class="Symbol">}</a> <a id="4051" href="/agda_html/Leios.Simplified.html#359" class="InductiveConstructor">V2-Role</a></div>
<div class="line"></div>
<div class="line">  <a id="4062" class="Comment">-- Note: Base doesn&#39;t need a negative rule, since it can always be invoked</a></div>
<div class="line"></div>
<div class="line">  <a id="_↝_.No-IB-Role"></a><a id="4140" href="/agda_html/Leios.Simplified.html#4140" class="InductiveConstructor">No-IB-Role</a> <a id="4151" class="Symbol">:</a> <a id="4153" class="Keyword">let</a> <a id="4157" class="Keyword">open</a> <a id="4162" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="4173" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4175" class="Keyword">in</a></div>
<div class="line">          <a id="4188" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="4190" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="4202" href="/agda_html/Leios.Simplified.html#335" class="InductiveConstructor">IB-Role</a></div>
<div class="line">          <a id="4220" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="4222" class="Symbol">(∀</a> <a id="4225" href="/agda_html/Leios.Simplified.html#4225" class="Bound">π</a> <a id="4227" class="Symbol">→</a> <a id="4229" href="/agda_html/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="4231" href="/agda_html/Leios.VRF.html#814" class="Function">canProduceIB</a> <a id="4244" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="4249" href="/agda_html/Leios.SpecStructure.html#730" class="Field">sk-IB</a> <a id="4255" class="Symbol">(</a><a id="4256" href="/agda_html/Leios.Protocol.html#2995" class="Function">stake</a> <a id="4262" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="4263" class="Symbol">)</a> <a id="4265" href="/agda_html/Leios.Simplified.html#4225" class="Bound">π</a><a id="4266" class="Symbol">)</a></div>
<div class="line">          <a id="4278" href="/agda_html/Prelude.InferenceRules.html#13121" class="Function Operator">─────────────────────────────────────────────</a></div>
<div class="line">          <a id="4334" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4336" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="4338" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="4348" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4350" href="/agda_html/Leios.Simplified.html#335" class="InductiveConstructor">IB-Role</a></div>
<div class="line"></div>
<div class="line">  <a id="_↝_.No-EB-Role"></a><a id="4361" href="/agda_html/Leios.Simplified.html#4361" class="InductiveConstructor">No-EB-Role</a> <a id="4372" class="Symbol">:</a> <a id="4374" class="Keyword">let</a> <a id="4378" class="Keyword">open</a> <a id="4383" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="4394" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4396" class="Keyword">in</a></div>
<div class="line">          <a id="4409" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="4411" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="4423" href="/agda_html/Leios.Simplified.html#343" class="InductiveConstructor">EB-Role</a></div>
<div class="line">          <a id="4441" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="4443" class="Symbol">(∀</a> <a id="4446" href="/agda_html/Leios.Simplified.html#4446" class="Bound">π</a> <a id="4448" class="Symbol">→</a> <a id="4450" href="/agda_html/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="4452" href="/agda_html/Leios.VRF.html#1418" class="Function">canProduceEB</a> <a id="4465" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="4470" href="/agda_html/Leios.SpecStructure.html#736" class="Field">sk-EB</a> <a id="4476" class="Symbol">(</a><a id="4477" href="/agda_html/Leios.Protocol.html#2995" class="Function">stake</a> <a id="4483" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="4484" class="Symbol">)</a> <a id="4486" href="/agda_html/Leios.Simplified.html#4446" class="Bound">π</a><a id="4487" class="Symbol">)</a></div>
<div class="line">          <a id="4499" href="/agda_html/Prelude.InferenceRules.html#13121" class="Function Operator">─────────────────────────────────────────────</a></div>
<div class="line">          <a id="4555" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4557" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="4559" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="4569" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4571" href="/agda_html/Leios.Simplified.html#343" class="InductiveConstructor">EB-Role</a></div>
<div class="line"></div>
<div class="line">  <a id="_↝_.No-V1-Role"></a><a id="4582" href="/agda_html/Leios.Simplified.html#4582" class="InductiveConstructor">No-V1-Role</a> <a id="4593" class="Symbol">:</a> <a id="4595" class="Keyword">let</a> <a id="4599" class="Keyword">open</a> <a id="4604" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="4615" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4617" class="Keyword">in</a></div>
<div class="line">          <a id="4630" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="4632" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="4644" href="/agda_html/Leios.Simplified.html#351" class="InductiveConstructor">V1-Role</a></div>
<div class="line">          <a id="4662" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="4664" href="/agda_html/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="4666" href="/agda_html/Leios.VRF.html#2305" class="Function">canProduceV1</a> <a id="4679" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="4684" href="/agda_html/Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="4690" class="Symbol">(</a><a id="4691" href="/agda_html/Leios.Protocol.html#2995" class="Function">stake</a> <a id="4697" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="4698" class="Symbol">)</a></div>
<div class="line">          <a id="4710" href="/agda_html/Prelude.InferenceRules.html#13121" class="Function Operator">─────────────────────────────────────────────</a></div>
<div class="line">          <a id="4766" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4768" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="4770" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="4780" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4782" href="/agda_html/Leios.Simplified.html#351" class="InductiveConstructor">V1-Role</a></div>
<div class="line"></div>
<div class="line">  <a id="_↝_.No-V2-Role"></a><a id="4793" href="/agda_html/Leios.Simplified.html#4793" class="InductiveConstructor">No-V2-Role</a> <a id="4804" class="Symbol">:</a> <a id="4806" class="Keyword">let</a> <a id="4810" class="Keyword">open</a> <a id="4815" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="4826" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4828" class="Keyword">in</a></div>
<div class="line">          <a id="4841" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="4843" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="4855" href="/agda_html/Leios.Simplified.html#359" class="InductiveConstructor">V2-Role</a></div>
<div class="line">          <a id="4873" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="4875" href="/agda_html/Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="4877" href="/agda_html/Leios.VRF.html#2595" class="Function">canProduceV2</a> <a id="4890" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="4895" href="/agda_html/Leios.SpecStructure.html#742" class="Field">sk-VT</a> <a id="4901" class="Symbol">(</a><a id="4902" href="/agda_html/Leios.Protocol.html#2995" class="Function">stake</a> <a id="4908" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="4909" class="Symbol">)</a></div>
<div class="line">          <a id="4921" href="/agda_html/Prelude.InferenceRules.html#13121" class="Function Operator">─────────────────────────────────────────────</a></div>
<div class="line">          <a id="4977" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4979" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="4981" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="4991" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="4993" href="/agda_html/Leios.Simplified.html#359" class="InductiveConstructor">V2-Role</a></div>
<div class="line"></div>
<div class="line"><a id="5002" class="Keyword">data</a> <a id="_-⟦_/_⟧⇀_"></a><a id="5007" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">_-⟦_/_⟧⇀_</a> <a id="5017" class="Symbol">:</a> <a id="5019" href="/agda_html/Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5025" href="/agda_html/Leios.Protocol.html#959" class="Record">LeiosState</a> <a id="5036" class="Symbol">→</a> <a id="5038" href="/agda_html/Leios.Protocol.html#708" class="Datatype">LeiosInput</a> <a id="5049" class="Symbol">→</a> <a id="5051" href="/agda_html/Leios.Protocol.html#866" class="Datatype">LeiosOutput</a> <a id="5063" class="Symbol">→</a> <a id="5065" href="/agda_html/Leios.Protocol.html#959" class="Record">LeiosState</a> <a id="5076" class="Symbol">→</a> <a id="5078" href="/agda_html/Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5083" class="Keyword">where</a></div>
<div class="line"></div>
<div class="line">  <a id="5092" class="Comment">-- Initialization</a></div>
<div class="line"></div>
<div class="line">  <a id="_-⟦_/_⟧⇀_.Init"></a><a id="5113" href="/agda_html/Leios.Simplified.html#5113" class="InductiveConstructor">Init</a> <a id="5118" class="Symbol">:</a></div>
<div class="line">       <a id="5127" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="5129" href="/agda_html/Leios.Simplified.html#1544" class="Generalizable">ks</a> <a id="5132" href="/agda_html/Leios.KeyRegistration.html#476" class="Function Operator">K.-⟦</a> <a id="5137" href="/agda_html/Leios.KeyRegistration.html#302" class="InductiveConstructor">K.INIT</a> <a id="5144" href="/agda_html/Leios.SpecStructure.html#766" class="Field">pk-IB</a> <a id="5150" href="/agda_html/Leios.SpecStructure.html#772" class="Field">pk-EB</a> <a id="5156" href="/agda_html/Leios.SpecStructure.html#778" class="Field">pk-VT</a> <a id="5162" href="/agda_html/Leios.KeyRegistration.html#476" class="Function Operator">/</a> <a id="5164" href="/agda_html/Leios.KeyRegistration.html#374" class="InductiveConstructor">K.PUBKEYS</a> <a id="5174" href="/agda_html/Leios.Simplified.html#1858" class="Generalizable">pks</a> <a id="5178" href="/agda_html/Leios.KeyRegistration.html#476" class="Function Operator">⟧⇀</a> <a id="5181" href="/agda_html/Leios.Simplified.html#1547" class="Generalizable">ks&#39;</a></div>
<div class="line">       <a id="5192" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="5194" href="/agda_html/Leios.SpecStructure.html#904" class="Field">initBaseState</a> <a id="5208" href="/agda_html/Leios.Base.html#870" class="Function Operator">B.-⟦</a> <a id="5213" href="/agda_html/Leios.Base.html#576" class="InductiveConstructor">B.INIT</a> <a id="5220" class="Symbol">(</a><a id="5221" href="/agda_html/Leios.Base.html#490" class="Function">V-chkCerts</a> <a id="5232" href="/agda_html/Leios.Simplified.html#1858" class="Generalizable">pks</a><a id="5235" class="Symbol">)</a> <a id="5237" href="/agda_html/Leios.Base.html#870" class="Function Operator">/</a> <a id="5239" href="/agda_html/Leios.Base.html#710" class="InductiveConstructor">B.STAKE</a> <a id="5247" href="/agda_html/Leios.Simplified.html#1821" class="Generalizable">SD</a> <a id="5250" href="/agda_html/Leios.Base.html#870" class="Function Operator">⟧⇀</a> <a id="5253" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a></div>
<div class="line">       <a id="5264" href="/agda_html/Prelude.InferenceRules.html#11981" class="Function Operator">────────────────────────────────────────────────────────────────</a></div>
<div class="line">       <a id="5336" href="/agda_html/Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5344" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">-⟦</a> <a id="5347" href="/agda_html/Leios.Protocol.html#734" class="InductiveConstructor">INIT</a> <a id="5352" href="/agda_html/Leios.Simplified.html#1791" class="Generalizable">V</a> <a id="5354" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">/</a> <a id="5356" href="/agda_html/Leios.Protocol.html#928" class="InductiveConstructor">EMPTY</a> <a id="5362" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">⟧⇀</a> <a id="5365" href="/agda_html/Leios.Protocol.html#2378" class="Function">initLeiosState</a> <a id="5380" href="/agda_html/Leios.Simplified.html#1791" class="Generalizable">V</a> <a id="5382" href="/agda_html/Leios.Simplified.html#1821" class="Generalizable">SD</a> <a id="5385" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a> <a id="5389" href="/agda_html/Leios.Simplified.html#1858" class="Generalizable">pks</a></div>
<div class="line"></div>
<div class="line">  <a id="5396" class="Comment">-- Network and Ledger</a></div>
<div class="line"></div>
<div class="line">  <a id="_-⟦_/_⟧⇀_.Slot"></a><a id="5421" href="/agda_html/Leios.Simplified.html#5421" class="InductiveConstructor">Slot</a> <a id="5426" class="Symbol">:</a> <a id="5428" class="Keyword">let</a> <a id="5432" class="Keyword">open</a> <a id="5437" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="5448" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="5450" class="Keyword">renaming</a> <a id="5459" class="Symbol">(</a><a id="5460" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a> <a id="5469" class="Symbol">to</a> <a id="5472" class="Field">ffds</a><a id="5476" class="Symbol">;</a> <a id="5478" href="/agda_html/Leios.Protocol.html#1389" class="Field">BaseState</a> <a id="5488" class="Symbol">to</a> <a id="5491" class="Field">bs</a><a id="5493" class="Symbol">)</a> <a id="5495" class="Keyword">in</a></div>
<div class="line">       <a id="5505" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="5507" href="/agda_html/Leios.Protocol.html#1354" class="Function">Upkeep</a> <a id="5514" href="/agda_html/Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="5517" href="/agda_html/Leios.Simplified.html#471" class="Function">allUpkeep</a></div>
<div class="line">       <a id="5534" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="5536" href="/agda_html/Leios.Simplified.html#5491" class="Function">bs</a> <a id="5539" href="/agda_html/Leios.Base.html#870" class="Function Operator">B.-⟦</a> <a id="5544" href="/agda_html/Leios.Base.html#661" class="InductiveConstructor">B.FTCH-LDG</a> <a id="5555" href="/agda_html/Leios.Base.html#870" class="Function Operator">/</a> <a id="5557" href="/agda_html/Leios.Base.html#761" class="InductiveConstructor">B.BASE-LDG</a> <a id="5568" href="/agda_html/Leios.Simplified.html#1713" class="Generalizable">rbs</a> <a id="5572" href="/agda_html/Leios.Base.html#870" class="Function Operator">⟧⇀</a> <a id="5575" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a></div>
<div class="line">       <a id="5586" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="5588" href="/agda_html/Leios.Simplified.html#5472" class="Function">ffds</a> <a id="5593" href="/agda_html/Leios.FFD.html#562" class="Function Operator">FFD.-⟦</a> <a id="5600" href="/agda_html/Leios.FFD.html#351" class="InductiveConstructor">Fetch</a> <a id="5606" href="/agda_html/Leios.FFD.html#562" class="Function Operator">/</a> <a id="5608" href="/agda_html/Leios.FFD.html#419" class="InductiveConstructor">FetchRes</a> <a id="5617" href="/agda_html/Leios.Simplified.html#1578" class="Generalizable">msgs</a> <a id="5622" href="/agda_html/Leios.FFD.html#562" class="Function Operator">⟧⇀</a> <a id="5625" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a></div>
<div class="line">       <a id="5638" href="/agda_html/Prelude.InferenceRules.html#11470" class="Function Operator">───────────────────────────────────────────────────────────────────────</a></div>
<div class="line">       <a id="5717" href="/agda_html/Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5722" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="5724" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">-⟦</a> <a id="5727" href="/agda_html/Leios.Protocol.html#814" class="InductiveConstructor">SLOT</a> <a id="5732" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">/</a> <a id="5734" href="/agda_html/Leios.Protocol.html#928" class="InductiveConstructor">EMPTY</a> <a id="5740" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">⟧⇀</a> <a id="5743" class="Keyword">record</a> <a id="5750" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a></div>
<div class="line">           <a id="5763" class="Symbol">{</a> <a id="5765" href="/agda_html/Leios.Protocol.html#1050" class="Field">FFDState</a>  <a id="5775" class="Symbol">=</a> <a id="5777" href="/agda_html/Leios.Simplified.html#1442" class="Generalizable">ffds&#39;</a></div>
<div class="line">           <a id="5794" class="Symbol">;</a> <a id="5796" href="/agda_html/Leios.Protocol.html#1082" class="Field">Ledger</a>    <a id="5806" class="Symbol">=</a> <a id="5808" href="/agda_html/Leios.Protocol.html#1896" class="Function">constructLedger</a> <a id="5824" href="/agda_html/Leios.Simplified.html#1713" class="Generalizable">rbs</a></div>
<div class="line">           <a id="5839" class="Symbol">;</a> <a id="5841" href="/agda_html/Leios.Protocol.html#1260" class="Field">slot</a>      <a id="5851" class="Symbol">=</a> <a id="5853" href="/agda_html/Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5857" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a></div>
<div class="line">           <a id="5873" class="Symbol">;</a> <a id="5875" href="/agda_html/Leios.Protocol.html#1354" class="Field">Upkeep</a>    <a id="5885" class="Symbol">=</a> <a id="5887" href="/agda_html/Class.HasEmptySet.html#287" class="Field">∅</a></div>
<div class="line">           <a id="5900" class="Symbol">;</a> <a id="5902" href="/agda_html/Leios.Protocol.html#1389" class="Field">BaseState</a> <a id="5912" class="Symbol">=</a> <a id="5914" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a></div>
<div class="line">           <a id="5929" class="Symbol">}</a> <a id="5931" href="/agda_html/Leios.Protocol.html#7915" class="Function Operator">↑</a> <a id="5933" href="/agda_html/Data.List.Base.html#10687" class="Function">L.filter</a> <a id="5942" class="Symbol">(</a><a id="5943" href="/agda_html/Leios.Protocol.html#6253" class="Function">isValid?</a> <a id="5952" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="5953" class="Symbol">)</a> <a id="5955" href="/agda_html/Leios.Simplified.html#1578" class="Generalizable">msgs</a></div>
<div class="line"></div>
<div class="line">  <a id="_-⟦_/_⟧⇀_.Ftch"></a><a id="5963" href="/agda_html/Leios.Simplified.html#5963" class="InductiveConstructor">Ftch</a> <a id="5968" class="Symbol">:</a></div>
<div class="line">       <a id="5977" href="/agda_html/Prelude.InferenceRules.html#42426" class="Function Operator">────────────────────────────────────────────────────────</a></div>
<div class="line">       <a id="6041" href="/agda_html/Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6046" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="6048" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">-⟦</a> <a id="6051" href="/agda_html/Leios.Protocol.html#838" class="InductiveConstructor">FTCH-LDG</a> <a id="6060" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">/</a> <a id="6062" href="/agda_html/Leios.Protocol.html#893" class="InductiveConstructor">FTCH-LDG</a> <a id="6071" class="Symbol">(</a><a id="6072" href="/agda_html/Leios.Protocol.html#1082" class="Field">LeiosState.Ledger</a> <a id="6090" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a><a id="6091" class="Symbol">)</a> <a id="6093" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">⟧⇀</a> <a id="6096" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a></div>
<div class="line"></div>
<div class="line">  <a id="6101" class="Comment">-- Base chain</a></div>
<div class="line">  <a id="6117" class="Comment">--</a></div>
<div class="line">  <a id="6122" class="Comment">-- Note: Submitted data to the base chain is only taken into account</a></div>
<div class="line">  <a id="6193" class="Comment">--       if the party submitting is the block producer on the base chain</a></div>
<div class="line">  <a id="6268" class="Comment">--       for the given slot</a></div>
<div class="line"></div>
<div class="line">  <a id="_-⟦_/_⟧⇀_.Base₁"></a><a id="6299" href="/agda_html/Leios.Simplified.html#6299" class="InductiveConstructor">Base₁</a>   <a id="6307" class="Symbol">:</a></div>
<div class="line">          <a id="6319" href="/agda_html/Prelude.InferenceRules.html#41139" class="Function Operator">───────────────────────────────────────────────────────────────────</a></div>
<div class="line">          <a id="6397" href="/agda_html/Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6402" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="6404" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">-⟦</a> <a id="6407" href="/agda_html/Leios.Protocol.html#764" class="InductiveConstructor">SUBMIT</a> <a id="6414" class="Symbol">(</a><a id="6415" href="/agda_html/Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6420" href="/agda_html/Leios.Simplified.html#1757" class="Generalizable">txs</a><a id="6423" class="Symbol">)</a> <a id="6425" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">/</a> <a id="6427" href="/agda_html/Leios.Protocol.html#928" class="InductiveConstructor">EMPTY</a> <a id="6433" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">⟧⇀</a> <a id="6436" class="Keyword">record</a> <a id="6443" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="6445" class="Symbol">{</a> <a id="6447" href="/agda_html/Leios.Protocol.html#1112" class="Field">ToPropose</a> <a id="6457" class="Symbol">=</a> <a id="6459" href="/agda_html/Leios.Simplified.html#1757" class="Generalizable">txs</a> <a id="6463" class="Symbol">}</a></div>
<div class="line"></div>
<div class="line">  <a id="_-⟦_/_⟧⇀_.Base₂a"></a><a id="6468" href="/agda_html/Leios.Simplified.html#6468" class="InductiveConstructor">Base₂a</a>  <a id="6476" class="Symbol">:</a> <a id="6478" class="Keyword">let</a> <a id="6482" class="Keyword">open</a> <a id="6487" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="6498" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="6500" class="Keyword">renaming</a> <a id="6509" class="Symbol">(</a><a id="6510" href="/agda_html/Leios.Protocol.html#1389" class="Field">BaseState</a> <a id="6520" class="Symbol">to</a> <a id="6523" class="Field">bs</a><a id="6525" class="Symbol">)</a> <a id="6527" class="Keyword">in</a></div>
<div class="line">          <a id="6540" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="6542" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="6554" href="/agda_html/Leios.Simplified.html#330" class="InductiveConstructor">Base</a></div>
<div class="line">          <a id="6569" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="6571" href="/agda_html/Leios.Simplified.html#1673" class="Generalizable">eb</a> <a id="6574" href="/agda_html/Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6576" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="6583" class="Symbol">(λ</a> <a id="6586" href="/agda_html/Leios.Simplified.html#6586" class="Bound">eb</a> <a id="6589" class="Symbol">→</a> <a id="6591" href="/agda_html/Leios.Simplified.html#853" class="Function">isVote2Certified</a> <a id="6608" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="6610" href="/agda_html/Leios.Simplified.html#6586" class="Bound">eb</a> <a id="6613" href="/agda_html/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6615" href="/agda_html/Leios.Simplified.html#6586" class="Bound">eb</a> <a id="6618" href="/agda_html/Leios.Blocks.html#527" class="Function Operator">∈ᴮ</a> <a id="6621" href="/agda_html/Leios.Prelude.html#1001" class="Function">slice</a> <a id="6627" href="/agda_html/Leios.Abstract.html#628" class="Function">L</a> <a id="6629" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="6634" class="Number">2</a><a id="6635" class="Symbol">)</a> <a id="6637" href="/agda_html/Leios.Protocol.html#1180" class="Function">EBs</a></div>
<div class="line">          <a id="6651" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="6653" href="/agda_html/Leios.Simplified.html#6523" class="Function">bs</a> <a id="6656" href="/agda_html/Leios.Base.html#870" class="Function Operator">B.-⟦</a> <a id="6661" href="/agda_html/Leios.Base.html#627" class="InductiveConstructor">B.SUBMIT</a> <a id="6670" class="Symbol">(</a><a id="6671" href="/agda_html/Data.These.Base.html#595" class="InductiveConstructor">this</a> <a id="6676" href="/agda_html/Leios.Simplified.html#1673" class="Generalizable">eb</a><a id="6678" class="Symbol">)</a> <a id="6680" href="/agda_html/Leios.Base.html#870" class="Function Operator">/</a> <a id="6682" href="/agda_html/Leios.Base.html#742" class="InductiveConstructor">B.EMPTY</a> <a id="6690" href="/agda_html/Leios.Base.html#870" class="Function Operator">⟧⇀</a> <a id="6693" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a></div>
<div class="line">          <a id="6707" href="/agda_html/Prelude.InferenceRules.html#11470" class="Function Operator">───────────────────────────────────────────────────────────────────────</a></div>
<div class="line">          <a id="6789" href="/agda_html/Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6794" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="6796" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">-⟦</a> <a id="6799" href="/agda_html/Leios.Protocol.html#814" class="InductiveConstructor">SLOT</a> <a id="6804" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">/</a> <a id="6806" href="/agda_html/Leios.Protocol.html#928" class="InductiveConstructor">EMPTY</a> <a id="6812" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">⟧⇀</a> <a id="6815" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="6825" class="Keyword">record</a> <a id="6832" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="6834" class="Symbol">{</a> <a id="6836" href="/agda_html/Leios.Protocol.html#1389" class="Field">BaseState</a> <a id="6846" class="Symbol">=</a> <a id="6848" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a> <a id="6852" class="Symbol">}</a> <a id="6854" href="/agda_html/Leios.Simplified.html#330" class="InductiveConstructor">Base</a></div>
<div class="line"></div>
<div class="line">  <a id="_-⟦_/_⟧⇀_.Base₂b"></a><a id="6862" href="/agda_html/Leios.Simplified.html#6862" class="InductiveConstructor">Base₂b</a>  <a id="6870" class="Symbol">:</a> <a id="6872" class="Keyword">let</a> <a id="6876" class="Keyword">open</a> <a id="6881" href="/agda_html/Leios.Protocol.html#959" class="Module">LeiosState</a> <a id="6892" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="6894" class="Keyword">renaming</a> <a id="6903" class="Symbol">(</a><a id="6904" href="/agda_html/Leios.Protocol.html#1389" class="Field">BaseState</a> <a id="6914" class="Symbol">to</a> <a id="6917" class="Field">bs</a><a id="6919" class="Symbol">)</a> <a id="6921" class="Keyword">in</a></div>
<div class="line">          <a id="6934" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="6936" href="/agda_html/Leios.Protocol.html#2023" class="Function">needsUpkeep</a> <a id="6948" href="/agda_html/Leios.Simplified.html#330" class="InductiveConstructor">Base</a></div>
<div class="line">          <a id="6963" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="6965" href="/agda_html/Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6968" href="/agda_html/Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6970" href="/agda_html/Leios.Prelude.html#1171" class="Function">filter</a> <a id="6977" class="Symbol">(λ</a> <a id="6980" href="/agda_html/Leios.Simplified.html#6980" class="Bound">eb</a> <a id="6983" class="Symbol">→</a> <a id="6985" href="/agda_html/Leios.Simplified.html#853" class="Function">isVote2Certified</a> <a id="7002" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="7004" href="/agda_html/Leios.Simplified.html#6980" class="Bound">eb</a> <a id="7007" href="/agda_html/Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7009" href="/agda_html/Leios.Simplified.html#6980" class="Bound">eb</a> <a id="7012" href="/agda_html/Leios.Blocks.html#527" class="Function Operator">∈ᴮ</a> <a id="7015" href="/agda_html/Leios.Prelude.html#1001" class="Function">slice</a> <a id="7021" href="/agda_html/Leios.Abstract.html#628" class="Function">L</a> <a id="7023" href="/agda_html/Leios.Protocol.html#1260" class="Function">slot</a> <a id="7028" class="Number">2</a><a id="7029" class="Symbol">)</a> <a id="7031" href="/agda_html/Leios.Protocol.html#1180" class="Function">EBs</a></div>
<div class="line">          <a id="7045" href="/agda_html/Prelude.InferenceRules.html#56005" class="Function Operator">∙</a> <a id="7047" href="/agda_html/Leios.Simplified.html#6917" class="Function">bs</a> <a id="7050" href="/agda_html/Leios.Base.html#870" class="Function Operator">B.-⟦</a> <a id="7055" href="/agda_html/Leios.Base.html#627" class="InductiveConstructor">B.SUBMIT</a> <a id="7064" class="Symbol">(</a><a id="7065" href="/agda_html/Data.These.Base.html#623" class="InductiveConstructor">that</a> <a id="7070" href="/agda_html/Leios.Protocol.html#1112" class="Function">ToPropose</a><a id="7079" class="Symbol">)</a> <a id="7081" href="/agda_html/Leios.Base.html#870" class="Function Operator">/</a> <a id="7083" href="/agda_html/Leios.Base.html#742" class="InductiveConstructor">B.EMPTY</a> <a id="7091" href="/agda_html/Leios.Base.html#870" class="Function Operator">⟧⇀</a> <a id="7094" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a></div>
<div class="line">          <a id="7108" href="/agda_html/Prelude.InferenceRules.html#11470" class="Function Operator">───────────────────────────────────────────────────────────────────────</a></div>
<div class="line">          <a id="7190" href="/agda_html/Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7195" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="7197" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">-⟦</a> <a id="7200" href="/agda_html/Leios.Protocol.html#814" class="InductiveConstructor">SLOT</a> <a id="7205" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">/</a> <a id="7207" href="/agda_html/Leios.Protocol.html#928" class="InductiveConstructor">EMPTY</a> <a id="7213" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">⟧⇀</a> <a id="7216" href="/agda_html/Leios.Protocol.html#2208" class="Function">addUpkeep</a> <a id="7226" class="Keyword">record</a> <a id="7233" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="7235" class="Symbol">{</a> <a id="7237" href="/agda_html/Leios.Protocol.html#1389" class="Field">BaseState</a> <a id="7247" class="Symbol">=</a> <a id="7249" href="/agda_html/Leios.Simplified.html#1510" class="Generalizable">bs&#39;</a> <a id="7253" class="Symbol">}</a> <a id="7255" href="/agda_html/Leios.Simplified.html#330" class="InductiveConstructor">Base</a></div>
<div class="line"></div>
<div class="line">  <a id="7263" class="Comment">-- Protocol rules</a></div>
<div class="line"></div>
<div class="line">  <a id="_-⟦_/_⟧⇀_.Roles"></a><a id="7284" href="/agda_html/Leios.Simplified.html#7284" class="InductiveConstructor">Roles</a> <a id="7290" class="Symbol">:</a> <a id="7292" href="/agda_html/Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="7294" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="7296" href="/agda_html/Leios.Simplified.html#1885" class="Datatype Operator">↝</a> <a id="7298" href="/agda_html/Leios.Simplified.html#1407" class="Generalizable">s&#39;</a></div>
<div class="line">          <a id="7311" href="/agda_html/Prelude.InferenceRules.html#13801" class="Function Operator">─────────────────────────────</a></div>
<div class="line">          <a id="7351" href="/agda_html/Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7356" href="/agda_html/Leios.Simplified.html#1405" class="Generalizable">s</a> <a id="7358" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">-⟦</a> <a id="7361" href="/agda_html/Leios.Protocol.html#814" class="InductiveConstructor">SLOT</a> <a id="7366" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">/</a> <a id="7368" href="/agda_html/Leios.Protocol.html#928" class="InductiveConstructor">EMPTY</a> <a id="7374" href="/agda_html/Leios.Simplified.html#5007" class="Datatype Operator">⟧⇀</a> <a id="7377" href="/agda_html/Leios.Simplified.html#1407" class="Generalizable">s&#39;</a></div>
<div class="line"></div></pre></main></div></body></html>
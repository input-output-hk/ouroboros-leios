# Benchmarks and CLI for BLS cryptography used by Leios

See [Specification.md](Specification.md) for a description of the algorithms implemented by these benchmarks.


## Command-line interface

A command-line interface is provided for testing and exploration. Note that all input and output files are CBOR.


```console
$ leios_crypto_benchmarks --help

Usage: leios_crypto_benchmarks [OPTIONS] [NAME] [COMMAND]

Commands:
  cast-vote           Cast a single vote
  cast-votes          Cast votes by many stakepools
  fait-accompli       Run the 'fait accompli' algorithm to select the persistent voters
  gen-eb-hash         Generate a random hash of an endorser block (EB)
  gen-eid             Generate a random election identifier
  gen-key             Generate a BLS key and its proof a possession
  gen-pool-key-hash   Generate a random stakepool identifier
  gen-pools           Generate keys for many stakepools
  gen-stake           Generate a random set of pools and their stake
  has-votes           Determine how many votes a stakepool has in an election
  make-certificate    Build a certificate
  make-registry       Assemble a local registry of public information about stakepools
  register-key        Bundle the information for registering a BLS key with other stakepools
  sign-message        Sign a message
  verify-certificate  Verify the cryptographic validity of a certificate
  verify-pop          Verify the cryptographic validity a proof of possession
  verify-quorum       Verify that a certificate attests to a particular quorum
  verify-signature    Verify the signature of a message
  verify-vote         Verify the cryptographic validity of a vote
  help                Print this message or the help of the given subcommand(s)

Arguments:
  [NAME]  

Options:
      --verbose  
  -h, --help     Print help
  -V, --version  Print version
```


### Generate a BLS key and its proof of possession

```console
$ leios_crypto_benchmarks gen-key \
  --seckey-file seckey.cbor \
  --pubkey-file pubkey.cbor \
  --pop-file pop.cbor

$ cbordump seckey.cbor

h'0153919f450abb1468545a0248810739a92cd95bc1b54db4645b64cc594f9ee4'

$ cbordump pubkey.cbor

h'97631a657144b3da38bb963383fbe77b005bf98ca3bd02f47dcda19f29c774bc41050118fafe1790dbf70e7419886d5905b613e1bca722555d823efd61a4ba436e75688ab02ae68bc5a667c413f68bfc44a2c66648f3dbc1d4a2bde922ba418d'

$ cbordump pop.cbor

{"mu1": h'a88c52e6a68fd1433354d0836f6293277e19295d193efdab8ab950dd8097b62f41740e2f6f39d23192646e2590021f3c', "mu2": h'aa2cb3dddb6396bc734914c2f6da2c7e5b963ee34c7c780394f0453ad30bf2d470f2a0048a4ec5674783f797cd3d4527'}


### Generate a random stakepool identifier

```console
$ leios_crypto_benchmarks gen-pool-key-hash > poolkeyhash.txt

cat poolkeyhash.txt

1542640195f72b4703ea4ca0f03765ff6fde8a2157e5dbe27c9fa2df
```


### Bundle the information for registering a BLS key with other stakepools

```console
$ leios_crypto_benchmarks register-key \
  --pool $(cat poolkeyhash.txt) \
  --pubkey-file pubkey.cbor \
  --pop-file pop.cbor \
  --registration-file registration.cbor

$cbordump registration.cbor

{"pool": "1542640195f72b4703ea4ca0f03765ff6fde8a2157e5dbe27c9fa2df", "mvk": h'97631a657144b3da38bb963383fbe77b005bf98ca3bd02f47dcda19f29c774bc41050118fafe1790dbf70e7419886d5905b613e1bca722555d823efd61a4ba436e75688ab02ae68bc5a667c413f68bfc44a2c66648f3dbc1d4a2bde922ba418d', "mu": {"mu1": h'a88c52e6a68fd1433354d0836f6293277e19295d193efdab8ab950dd8097b62f41740e2f6f39d23192646e2590021f3c', "mu2": h'aa2cb3dddb6396bc734914c2f6da2c7e5b963ee34c7c780394f0453ad30bf2d470f2a0048a4ec5674783f797cd3d4527'}, "kes_sig": h'00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'}
```


### Verify the cryptographic validity of a proof of possession

```console
$ leios_crypto_benchmarks --verbose verify-pop \
  --pubkey-file pubkey.cbor \
  --pop-file pop.cbor
Proof of possesion verified.
```


### Sign a message

```console
$ cat << EOI > message.txt
Hello, Leios!
EOI

$ leios_crypto_benchmarks sign-message \
  --seckey-file seckey.cbor \
  --domain-separator Leios \
  --message-file message.txt \
  --signature-file signature.cbor

$ cbordump signature.cbor

h'8f8615d7e6c9bd24fe7035d523a680b50b43c27c841596045ca25ae3428ac07e28f1e31d3d9896a81e6e420b6664521d'
```


### Verify the signature of a message

```console
$ leios_crypto_benchmarks --verbose verify-signature \
  --pubkey-file pubkey.cbor \
  --domain-separator Leios \
  --message-file message.txt \
  --signature-file signature.cbor

Signature verified.
```


### Generate a random election identifier


```console
$ leios_crypto_benchmarks gen-eid > eid.txt

cat eid.txt
0
```


### Determine how many votes a stakepool has in an election

```console
$ leios_crypto_benchmarks --verbose has-votes \
  --seckey-file seckey.cbor \
  --eid $(cat eid.txt) \
  --pool-stake 7000 \
  --total-stake 30000 \
  --voter-count 15

Stake fraction: 7/30
Probability: 87/125
Vote fraction: 4/15
4
```


### Generate a random set of pools and their stake

```console
$ leios_crypto_benchmarks gen-stake \
  --pool-count 10 \
  --total-stake 10000 \
  --shape-alpha 5 \
  --shape-beta 1 \
  --stake-file stake.cbor

$ cbordump stake.cbor

{"00eba1ccffec153c01001c67e7777b5e6291082aa3e2ff011815909f": 3860, "0916d5507eee9400d60120a2805edde8d86933b518d36a9086ff2da3": 6, "20920aa12cf7090009ceff7722b5e716d87e013ed6b6e822f2c14a0b": 375, "2147d78cd4a4bbfcbb49668fc7754af7860c29da79019be971ae3ef7": 1709, "5601ffd92ce31d7300bc3240676852ee60bb6f260adc390f018ccfc3": 1029, "ca0942c844727c2ae61b0c2174880f76485d01ff006fac97ebe841f1": 2817, "d73a4c34701739acfeedd592a2a70ab9cc7932a1ae0c5d00147270c6": 0, "d74f85ff77ff10000e318dc364535b2e6b20696d7890ebc4878c5300": 35, "dfdc004f3500d1011f2b74ffbc3e3bffa2b5ccff9dff58f85e8fffd1": 169}
```


### Run the 'fait accompli' algorithm to select the persistent voters

```console
$ leios_crypto_benchmarks fait-accompli \
  --voter-count 6 \
  --stake-file stake.cbor \
  --fa-file fa.cbor

$ cbordump fa.cbor

{"n_persistent": 5, "n_nonpersistent": 1, "persistent": [["00eba1ccffec153c01001c67e7777b5e6291082aa3e2ff011815909f", [[1, [3860]], [1, [1]]]], ["ca0942c844727c2ae61b0c2174880f76485d01ff006fac97ebe841f1", [[1, [2817]], [1, [1]]]], ["2147d78cd4a4bbfcbb49668fc7754af7860c29da79019be971ae3ef7", [[1, [1709]], [1, [1]]]], ["5601ffd92ce31d7300bc3240676852ee60bb6f260adc390f018ccfc3", [[1, [1029]], [1, [1]]]], ["20920aa12cf7090009ceff7722b5e716d87e013ed6b6e822f2c14a0b", [[1, [375]], [1, [1]]]]], "nonpersistent": {"0916d5507eee9400d60120a2805edde8d86933b518d36a9086ff2da3": [[1, [1]], [1, [35]]], "d73a4c34701739acfeedd592a2a70ab9cc7932a1ae0c5d00147270c6": [[0, []], [1, [1]]], "d74f85ff77ff10000e318dc364535b2e6b20696d7890ebc4878c5300": [[1, [1]], [1, [6]]], "dfdc004f3500d1011f2b74ffbc3e3bffa2b5ccff9dff58f85e8fffd1": [[1, [169]], [1, [210]]]}, "rho": [[1, [210]], [1, [1]]]}
```


### Generate a random hash for an endorser block (EB)

```console
$ leios_crypto_benchmarks gen-eb-hash > ebhash.txt

$ cat ebhash.txt

9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400
```


### Cast a single vote

```console
$ leios_crypto_benchmarks cast-vote \
  --seckey-file seckey.cbor \
  --pool $(cat poolkeyhash.txt) \
  --eid $(cat eid.txt) \
  --eb-hash $(cat ebhash.txt) \
  --vote-file vote.cbor

$ cbordump vote.cbor

{"Nonpersistent": {"pool": "e278072d809121ff9beafb54c36f4dd34c6c9a73b797ead825ebab94", "eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "sigma_eid": h'85be58c11cb6f8a3bdb671ce27e850b667670abcdd573362dc3d679a0c92ae57b09b88573396bcd5a2bd68e7004f8a39', "sigma_m": h'83b79de2820b111e891fc366cf9b90894f44dce1ff59bfed2b32a53fdb83742c6ed83c0b04ada09ade7d41a74131bcad'}}
```


### Verify the cryptographic validity of a vote

```console
$ leios_crypto_benchmarks --verbose verify-vote \
  --pubkey-file pubkey.cbor \
  --vote-file vote.cbor

Vote verified.
```


### Generate keys for many stakepools


```console
$ leios_crypto_benchmarks gen-pools \
  --stake-file stake.cbor \
  --pools-file pools.cbor

$ cbordump pools.cbor

[{"secret": h'1d6fc39fdb56fe6ca0b2ac285bf5d15f76269dca3788cff67b2597f9e89002b2', "reg": {"pool": "00eba1ccffec153c01001c67e7777b5e6291082aa3e2ff011815909f", "mvk": h'acc4cb1b30f1368d129b787f9df9f667cf5683ce7cea279a5f797249a4d18857a3571b1cb6c026fd8bb8535a9236df67147975d7ef72ab1a5c93bd541c9a1907513c12f8f0b7432e9f52e85ed2217edb8547f367fed9252be8e2c4b7ef4d106d', "mu": {"mu1": h'b6d2dc21b4ce78e65efd252717a38cfccce161cf058d901970c071908be238d1220b630ff4c718b31e18802f193a2900', "mu2": h'8c425035ffd2f66a1729093bba03d79e42f00bdebe3e2d85fab75e2d59886688ae09328ddade66b69fcc02f780300298'}, "kes_sig": h'82000a120100dd08320915a9417ce7ed2b1f2867b2fc136818ec9490b99aeda97b6451edcfa801984f6a71d200eeff0d01baa7549907b31911bbecd2b4e0faa34377a8d1449da94aad75c88ad8e3c9ffd6350effd7f7ff863329f7e31b1928ff383871b908edea03c6d3012798428af320ff376bff31019e231510a09a3826b2744e582121200a80e1ff86d966d3ecd4bba5bb8f7f13317c0ca603e0a904a940c25173f798db6ec6bb0150c460015b00c9d289ff9c3c832f1bd1ce3f1c7abda0b56605b186198ce2c2b833e19b37da16bada2de496ebfc1bdd21c59e006c007c7e0569568e636d87016301fa84acd49d6f72f4be8cde8ec727df45003a1bed810d1558389ed560ff2f70ceaabae124289d6d116bd8046c3036ffa05f3c7a416c997756f5c4f6046c20db8a40900147ff2985676affd04bf4c9e7fd403c45e2662c2a50fae2a84d470002104851441c01e1d717d83cafbec0905c00b23a5be861559e37cadbb544928b9f179588c5040f37cf88c24fff246a3fb75869ba2514b036ff1d1a8281027a4e8ccaa684fe715a9ba64468019280c0f9007cbe90832fd8c7016b02e9ff01178ea401f46c00ae062609c4ff59b80fa041eeacd3ffae4e1d'}, "stake": 3860}, {"secret": h'20bcf58ddefad9f123303a5e1a880326eb731dc7253479caac054158a3955406', "reg": {"pool": "0916d5507eee9400d60120a2805edde8d86933b518d36a9086ff2da3", "mvk": h'87bfbca476fb2be4128c52d6e1c219f9b420114bc1f7c7b0b67ab528068a1583efa57ceb6550780d77aa7537beb71eec10633f6e108955ea64e2b765f1e2fd25ddea3e3afc43e4f06deedcafa61a77bb1f96d9f61aa00278634b804c086e354c', "mu": {"mu1": h'830561b8971f31587111d09faa9bf0732d3644a711066bb98ec7e448f1d3f23cc2fe665e44624f4591ed10928c8b4d20', "mu2": h'8b2f703c863a3eb4f33ccbe00b11b8a6819d2c6f8e6234ec26cb479e3b1cc3ff099f49f8b6e661b675cd035f082ccdd4'}, "kes_sig": h'96837aacf393c30e6b178c4e2528572ed9f7a8ff8f0fff9d3eec70ff0c9b32f20000ffff6a331b44943e3e2f10438e69e2b069d7cc96623e039e00fcbb01be42013a38076134088f019c5460ec0e312148726c82944000870071006e8974ff3eccef610c73b4209100c9c210795a12ffe32f4423eefb73816600327a0cf4b4fe6463b5b2f586bb24d5ca2d3e5db1546701261501ff01809d23cd32a7064880322bc93f01eaceff3c3af876aacc350d8f9c000301f900bbf63a449fa35607720149d37bd5f1dee768a581314f11a102ff36e663f21604d37fa930be010c183eb389af7026990bed00e81ffa445e6b3b009758090a32a3739f01ca916893a1ffb920e100ed42aacafcedd40d7409bd0100ef9cb736489391b6f3fd57723c0901b35d2401e2b797615481728e1d17ec0db854ff994fffffbdaff74db970169b001eaa1eb3723e51fd001948b86a8dc0006086013a1ce400f8d567d7a51900bece0b1e9e55441e8ea612574cbaa6e5d1d83cfcbe24ac2628ebc67b5c2755456548ff84bc9c33bac033d39cb1eb11b82753e0e110848525918f56d7aa8f3d2c002acd7e30969b54b7844373eefb202feade00298500ff8f436bff8b0101cdeec93c0f'}, "stake": 6}, {"secret": h'3c84de44c3b04ef9606c70ab1dbc4f6f303d760e190e0f48eea774f255233e94', "reg": {"pool": "20920aa12cf7090009ceff7722b5e716d87e013ed6b6e822f2c14a0b", "mvk": h'b92bb6aea2c286a048697d84926bf3619319683df96af6208a25730036b9efff961983bf2f632ee8dc58dc57cd6993220afd0fb644621e905778da25bd614841dc98293b8e1f121c5a2279e0affd0f52f8a50adeb514bc2cd36f3230aef1f9af', "mu": {"mu1": h'8fa20350b5495bc6f5e4313ac2ef4cb47d086c9aa95087a8297619df164817506862ff4d11666a73f553df3872a9fe5b', "mu2": h'8885e7d99e497c12f234c50339c8044b0d236474a153c2594e537450f3bfc344efbf599c4640432c6725755fbefcf48d'}, "kes_sig": h'2ab9e85260b54291d7fa014abe0b5ceeee1d38bb00e14bffc592ffc0b73c706923c39597ec8fffff712dc4a040d10122a54f000e60baa0dcaa355302867e94da2ff15a2afc00de014aea613458b80b54be91b0be9b83ff23b953449d0fdb7b945639f6ff067eed37dc71dc2986bc17799271465468ce283721e6fe37014e999371005e96dd98cf60cea1bdcc39370a51785000f5bc07bf510100790ef9ec2431289e4a33a444c54428ff4b8401227e0e6538e22de159af8a00fbaeb8ae512ac9e95fffad03267c0d6eac65b1c8ffc8d5c46b29340167241b585d4ccf8c530003a332364af000d17fb3a6ffc9010b011098afa96b21aa9caf99f49ad0761f02b6076646953a144f73c6b200ff4210b42b25b680eddcffe80401ff3dce50dc6e2772b3d126290f19e76cec01dab24a5eff06016d263135d8316f58add07cbb0057aa7a72003fffe77d7f7d4b0508716abbfa968a01aa0ac861d43bbfa67395366bf00101ff627fdcaee0ff14a91441c8ab9201e100fe3ff24fc26620e79265eaa81fd301a863dc2dc78aff8500cdc05dfba7899b0369ab4306c7df0dcd160082b8010bc1b1b3da7147515aa001f1aba5ac00eaf6304a71b1ab3225e52b4baa9949'}, "stake": 375}, {"secret": h'25825d59648fe588811e68dc28ce5b0d2606650bb76d39805592f55fb7d1c52e', "reg": {"pool": "2147d78cd4a4bbfcbb49668fc7754af7860c29da79019be971ae3ef7", "mvk": h'ac9f653ea31b94745f647950d9a334134d503d37623d70ce77fc267285b660dbf7fc45af2b50586079494f11c424f3ce1073e0dfb90329254d6da07acdc4e2448b62abaf8269dc5c4535807da49bd3edf6add5025c351c55f27717b948cbe9c6', "mu": {"mu1": h'b275474208cc36acbbd869c2a44c591724e3334a8e3742ec47257afa912f6b92c8fac1db4ee4b51d68f94570bda86d52', "mu2": h'976b19fc316fc6b8ce371529eba8f6a2437245d8316a163c857ee9768d185641879e09fa84f50fc4382eaa88c34f56f5'}, "kes_sig": h'be45257c3a01a8ebd8dd49c32fbdffc17c3190d21f01e6ee069f63e2d020e90020979110619bc9016d9bd94ff335d6750127768a3f705401bcd0b1ff080f59826b4a3fa48e53451a9a03004aa9ca0001466cb29fc0aa1bc690851a5a7b2742ff95ccf2fe29df23f10aa3053455fe6bbd30c6620ba9001b38a4014dbd0fffa101c06660f6b5631b935399db280057f3020bf6ecd80b2f2fe73b420d3de6fff7ab4bde6cd6a6745dff81ffa96b05ce2b8808949a5b006fa9fffffd169145daacaac1ff0e387bc191773e302e73812d69a04435699b7f33a00d00fd78a7452bff6abe1cab1cdae89bc140ff4e83f20bdce9b6cd37f66bcc79c1ffc594ff65b2b45f540112012c696f2f23d2ca077da4990120080cc8c90006f991ca5eb6af96a500ab76df0ff500a707c96c193bff47cfff5c7800e89e7443fe09608d0b99c16ca4ccd44b11a00cf1f4dd6fe49ad2f76b41c59cd67685bf7445b187e303323eff011a7f6deb185fe7c126cf98cd7379e1c09d0ea3d9a48d0a01a8b35239d944d2dd2e40570138af0f0000fdff1ee2f41f1012ffd71c31ffc69f60d80295184cccc5f3accf0118356a68b682214a34009970da29fa6ec1cf1f9c01f7d20ff3a96844'}, "stake": 1709}, {"secret": h'6c080750ddbbfd2ebaebeb548051bdcafc64e04801eda024e5729196996aa6fc', "reg": {"pool": "5601ffd92ce31d7300bc3240676852ee60bb6f260adc390f018ccfc3", "mvk": h'87f285c7fed9e175964f8be6b9e05db07e4f53790664db8e1658bbed217584d130c2cbda32394e979b530e3160ebfa640afa09bda014c2cc5ff948a4a2561f710947b861b61ccbf2f5c5ee46f26d150f788f0cd797f5f0cbad6776ccdbc4da6a', "mu": {"mu1": h'924bbc3e179abec9ae5fe183f4802b862b88e3bed8b31da7ef7dd8f57a182c37bc9d2277699b70e157233efd31dd7ff0', "mu2": h'ab186901b1f5e7eaca1c369211bb06a9ae43a9c5f260361c6cea224820d54e5f9b46c69647e7a1f8889f721210cd3762'}, "kes_sig": h'dd2637dbb9d3e4c701c29c013a700000d76c8f4631a2da71004d660baa7c6358f31a7254fc54bf5a3024eca3660060ebed14e8f5e96001f4cb3bfe77315375ff435993d04ceb6e68aff6d16ed021576fa9dff2e75c0d8ba9eac42f68943ff1b57e3f019e00421db99f8169e84d71ed3da361570936751d49c690a4416d01175216723a9f9395f4dcf26091d157b1d0df8561d890c03d2f030108bb3cffd900e401793ffdca38d9f947015566535594ef01bd8940ab2bf701ff9d97b1016cff70bfbfe2558001cb36c49ac113997e5c09dd0e8b1fff85cea35a520124faf77492cc2b818b3ad54a0055db5f3f86edff16cc47abc5794bedbfc40ce18f98610002504a5132d97ccb160116e7b2df6ff527ffff4832040f6ae2180473ff85edac7f8cfa4c3ef04900f36b1e1085789874a705530ce5880f0124cbc001d0b7c5942cc817b8647b0d9bd46000016c47eac372066aa5e72bc7bf10fcd986f7b3074bdaf57aaff6ddb5f93059d3b3a1a9b9806e1ff99d8eed7d98d2e326d97910a744a3f09e19ac46605356453814ffcf166dae73aa126c3e310c607bfbe80121ff9af55462ff00731141f12e99454f785cb1e548f509cf0b3d11ff98d3516fcd821d4c'}, "stake": 1029}, {"secret": h'7033be2d23c494365cbc27f8320d7a6820e14de70d10fe94e9116182c2b19d48', "reg": {"pool": "ca0942c844727c2ae61b0c2174880f76485d01ff006fac97ebe841f1", "mvk": h'8324bbc8bb344b20855acb6c7496c043156af674543c586215cd8afd5b3f5a2a071d6a3ba1a2af37eb60097a015da7aa00cba2fa866eb0e63486fab867f7944c987321bafb63530ca9d19c53d28378ae7aab7dea692ed16b6d85903c0b69300b', "mu": {"mu1": h'a7a40e2086c88fa77181e005ab9e62685ed6e832e60a439f162080d2b0fb2a6c8cd7c4c8895ba97f94a52bf06e8eff9c', "mu2": h'9918ac89fa5cc3568915c5de89a019ae44b598ad4c75c8187e5b195deca712ea02f4416b20165909943d1a89f7e6ef79'}, "kes_sig": h'23055af019dea4ed4c46eec6a545350653626952e4b8292c2590dc4785cafcff23d375c13f1c587a2549fc6809fad90683d01ca8dc3c7a646b01904bc1321cc100beda6c8bff73ffd7ff58bfbc4eb490c6c7d3454301016ac2bf88ee03b297dfe1d1527cb94303a23c099e40813b519d34212fd4454731959b25ff3b0b6f72adfd2244757221c6c5ab01570913c99c01265e6323e4006e895b00d2c88613d032a4948611a34431eb0a1900603601d3364b01f5a6ef4823f2b121ccb04a80018d57d79beacf9382ea213d2b201615b232462e6c66eb762d4b64a401bf015638a8e9ab70955dff0b018349df58c2f14f04dde9b6b1002ae2d44ced960163d4eb3100e98f19c7505d2fff70a06bd633a2da8ad21c01a8012c9ee910ff660144cdf41b713b5e504c00bae6018e51c4ffa6a022801f5b82c96301e74b9df6f5380847b87e27f5bea7a4cb0ce3dfe1e1620198008625007eaa159991f72e0aa6cb1b0d329601270c8b8aee628efbc6d896ff69ff13901c18bce1e1b88f00ffdf07ff1968b4c7c2b5ff1238a9ffff84368ecc49ca0ed271d793892314320c5676c3bdc4ba61004ba7c767b8ffff07bd03f464c935a320ffc8d60ac25f0082ff80f5b297'}, "stake": 2817}, {"secret": h'42259a74309afd3473cfe58b02ba150575f605af73f046a929652bdec72c7131', "reg": {"pool": "d73a4c34701739acfeedd592a2a70ab9cc7932a1ae0c5d00147270c6", "mvk": h'89279a010a08a2c5224909a5d68f3b60d0ac785101b26518d8178443096ab4d9f6792e83b826457651ff7b64d39420b501e43f6459d31b73019175f00e5064527098cf6b04e6cee70c428a2466e68e5af0dccc48ec1cb485f2a207a6bf903629', "mu": {"mu1": h'a1c4b658f5126300c6e0601e87ca9584e7d7feb1883a55055bf1a4eedf20118469b4fc1882fa84b402bee79e476cdb59', "mu2": h'b959412e33aa3d84d313d9c7394f7c3bf8f0a0ac513b7b92a5c6dd1be0c1d094223a7fe5e771af52451fb6bef7551417'}, "kes_sig": h'f96d5fffb6b71473b3233052a3ecd400223d308d878f293415bdbc2ccc6a30002be11fba738cf1f0fe89304e926d1b3bd686d3ae8e3b01aa07a631009cf600616f69e00071f4d0517b0177a0d0eecc12545cb8c1d3f320bd7423435835703f1e4f7f00123d494c6e99ca89064f90b1f4bc5bc48d762d2acc01f56da6002081aca3011d38b80c57c5c434b2097c64cd013ecc31fa0929bf38497bc203e31bff80682fc50141d1013b1e25d2f7ff4300662aa1623f5266a312ff00379b4741919b97b8ffff4991ff8e3f473bff4015c3ff55ffe555545005754f016da0cc88f46d2f717e6ece366a9a01217eb925749c0761bd7dca6f0196e5c1032519ba44b195f22553a012e5e2bc018ef1db4d0b821b3a45f8670fae5700db4901d4ac30a0c377eafd35ce98fc0b75eff4dc274e42b36205ae136d1bd26102529da40ad9ed35ffdbffa3be89012ecf01c05b2c58afd8d6a42258553da7e1013bbfb2d674818110c759b600127aefa3f8d0451a9e65aca468c400d69db2a5da47daab21ffc18644ad3ec66fd3d90119c34f405ba01384be003415007c00fbce6e58470a4b0b8894ff0895c325dbe30105207397c5b0a1aba94c4701745d21920e2466014bb2a2'}, "stake": 0}, {"secret": h'216e2081937a801fe14140760f0a4d8ec0d50f18ea95a0e5d27178e53ac02b99', "reg": {"pool": "d74f85ff77ff10000e318dc364535b2e6b20696d7890ebc4878c5300", "mvk": h'a39495c2ef6d858fb758e7facc20b3cf2c0a0b9d166308005b10c2566090458280b4d02a33a7c5f100cf6a333242a48f172d914c7a9f4585d65f2182753dd09390c3a245bba363c74bd4bea895a3f6335a13eea180a577df117b9f3bf0cfe7be', "mu": {"mu1": h'8a5eed40c21ae01f72df3170880e3455f709655ceaaa385a56937b502f399d5be5ca1aedc3fa3b49dc3e56c2ab6ddee1', "mu2": h'833296249125b21f3dbee88acccfbefb5e6293c74d66edd793ae0d802274e91634d5f104bb58406d4b8e68b6e82c13c5'}, "kes_sig": h'0061e0094799e10115a6ae65e91627e484970d00f0ae061ce876cb5a1d0133c30a5d58ea0d6a0a50d8ce4aff2efb7288e84f08e87b7963ffe0b86a0109497ce900dcebce270172e4390251d1d676f728a8432d14119fffa24f5f087c0c9bb98e704febf6b6e71991155a8aa7008bb9ffacbc992c0796a49e301da7ff7ab31200d290aa07f786cb2d0db09b4b6a268bcf1064333aa3277389124583388cc577ad3c9b6c96b500ff2dfaf953e9573288f3e1b5800a03244655ce7aba70e7e4eabef02c0d064b3ec060dc00c1b14600280b1401f82208b75d93bb4e01f6060a1d32f9c4c133011ae0ff29bd01f91d3c2370b839380c5700564b011aa1f8736307ffc78dba0029bec14bcf37a23aef001a2a6a7d1f44ce1bb9fb4ea5f5813b001bccd2da499ca7a6e48a5f787b061b66cda20141866b9fb1f938d25901ae343cea4c4db150ccaa4f486869550a7729d3eaff7dbf41914b4901d6541eb14e0abfd817ba6e63cf0126002710eb296400b37a5797deb18c6bdeaaa1ba5e060067ad50b8fbf3b7f72e2b01616e01ca013ae076f74c648d3f0d1551352ef06d6c9d25d8ff94ff33687dfbb9bfe801feb47ed16faeeeffff008443a97e00fadcfbd0010bd8'}, "stake": 35}, {"secret": h'669821ec5cf2f5431e596efb78251eef9f73e53d25f06f1181bffc7ac40621d1', "reg": {"pool": "dfdc004f3500d1011f2b74ffbc3e3bffa2b5ccff9dff58f85e8fffd1", "mvk": h'82b2a4ff84e2ca9802ef152f8e07cc6c7bc62f5ea0683fa5be966a5bdd9d51e0e34c28529967ae466d8ee01a930a8daf05e836b722b4acda7fd2973d298bcb12b8d124fb0000989366cda5a90bc3a47b4b0edb83d44575e900153b83dc6861c5', "mu": {"mu1": h'a8451ed5e413afb8ff13d1be1d53c29ebef87d604c1bdd61916ef1bfcaf54d6a240617b20b424211a7b0c3d1aa9920b8', "mu2": h'b79a801673b89424bcc54f302bcbb321a1c570ee1a7886c282110610492050b0dcf00c8f98c9d9bdbeb7e3e9155b308d'}, "kes_sig": h'e80f4ae31758c42314114cf98055c71ecfa434f93001b5afe198f598ff85c8e4ee6be936c2b3a779560466d00f1d013666e113b4ab833ab7807737b6a56c2fd17227c3ae01b0090011ac00d4d000469966d6e080f9faea2fab26139bb4336c35fec69446f7ce9874af00fffeb492709765011fb5009b3800fe23179c81451b937218037dff0480018870051ded718b16ff00b6d73cb8015701f675875966fde94b1f74aeffa62c5f4ae7fb974efb0b960101720158ce8026c626ef2b7ee25d5a6aa3a0ffb06d059545bc9a8d4512c3e6b4256001bfab7137f9c394014e6a4925ee20952a41e938964d726d3f155ee436030d15f61d7dd80b99913b638f427d5b00dc3001b7d3f156ef06e97e3e632cd8e7d6a0da29f4617c9ecee13922dbe305b9c22e41f7b2a2a7604e9ef3fb7ae6cf34b7ffaf5f5601379de686fe5c8f819ea4ff8ebabb0c53b1f9a1cbb39eafbd309ae95701298f99bccd49c8d715650600012a6b595e2f8300bb98e6aa53c398426d0f30cdc71106ee38be8e17e41901997e4dd8f944278189be4c0da188cf2d00b57d748d276b8c7fda00ff639937540077030124ba0ae130f2c301660100e03b1f3c58ef000101f5ce23d9d8a5bfc347'}, "stake": 169}]
```


### Assemble a local registry of public information about stakepools

```console
$ leios_crypto_benchmarks make-registry \
  --pools-file pools.cbor \
  --voter-count 6 \
  --registry-file registry.cbor

$ cbordump registry.cbor

{"info": {"00eba1ccffec153c01001c67e7777b5e6291082aa3e2ff011815909f": {"secret": h'1d6fc39fdb56fe6ca0b2ac285bf5d15f76269dca3788cff67b2597f9e89002b2', "reg": {"pool": "00eba1ccffec153c01001c67e7777b5e6291082aa3e2ff011815909f", "mvk": h'acc4cb1b30f1368d129b787f9df9f667cf5683ce7cea279a5f797249a4d18857a3571b1cb6c026fd8bb8535a9236df67147975d7ef72ab1a5c93bd541c9a1907513c12f8f0b7432e9f52e85ed2217edb8547f367fed9252be8e2c4b7ef4d106d', "mu": {"mu1": h'b6d2dc21b4ce78e65efd252717a38cfccce161cf058d901970c071908be238d1220b630ff4c718b31e18802f193a2900', "mu2": h'8c425035ffd2f66a1729093bba03d79e42f00bdebe3e2d85fab75e2d59886688ae09328ddade66b69fcc02f780300298'}, "kes_sig": h'82000a120100dd08320915a9417ce7ed2b1f2867b2fc136818ec9490b99aeda97b6451edcfa801984f6a71d200eeff0d01baa7549907b31911bbecd2b4e0faa34377a8d1449da94aad75c88ad8e3c9ffd6350effd7f7ff863329f7e31b1928ff383871b908edea03c6d3012798428af320ff376bff31019e231510a09a3826b2744e582121200a80e1ff86d966d3ecd4bba5bb8f7f13317c0ca603e0a904a940c25173f798db6ec6bb0150c460015b00c9d289ff9c3c832f1bd1ce3f1c7abda0b56605b186198ce2c2b833e19b37da16bada2de496ebfc1bdd21c59e006c007c7e0569568e636d87016301fa84acd49d6f72f4be8cde8ec727df45003a1bed810d1558389ed560ff2f70ceaabae124289d6d116bd8046c3036ffa05f3c7a416c997756f5c4f6046c20db8a40900147ff2985676affd04bf4c9e7fd403c45e2662c2a50fae2a84d470002104851441c01e1d717d83cafbec0905c00b23a5be861559e37cadbb544928b9f179588c5040f37cf88c24fff246a3fb75869ba2514b036ff1d1a8281027a4e8ccaa684fe715a9ba64468019280c0f9007cbe90832fd8c7016b02e9ff01178ea401f46c00ae062609c4ff59b80fa041eeacd3ffae4e1d'}, "stake": 3860}, "0916d5507eee9400d60120a2805edde8d86933b518d36a9086ff2da3": {"secret": h'20bcf58ddefad9f123303a5e1a880326eb731dc7253479caac054158a3955406', "reg": {"pool": "0916d5507eee9400d60120a2805edde8d86933b518d36a9086ff2da3", "mvk": h'87bfbca476fb2be4128c52d6e1c219f9b420114bc1f7c7b0b67ab528068a1583efa57ceb6550780d77aa7537beb71eec10633f6e108955ea64e2b765f1e2fd25ddea3e3afc43e4f06deedcafa61a77bb1f96d9f61aa00278634b804c086e354c', "mu": {"mu1": h'830561b8971f31587111d09faa9bf0732d3644a711066bb98ec7e448f1d3f23cc2fe665e44624f4591ed10928c8b4d20', "mu2": h'8b2f703c863a3eb4f33ccbe00b11b8a6819d2c6f8e6234ec26cb479e3b1cc3ff099f49f8b6e661b675cd035f082ccdd4'}, "kes_sig": h'96837aacf393c30e6b178c4e2528572ed9f7a8ff8f0fff9d3eec70ff0c9b32f20000ffff6a331b44943e3e2f10438e69e2b069d7cc96623e039e00fcbb01be42013a38076134088f019c5460ec0e312148726c82944000870071006e8974ff3eccef610c73b4209100c9c210795a12ffe32f4423eefb73816600327a0cf4b4fe6463b5b2f586bb24d5ca2d3e5db1546701261501ff01809d23cd32a7064880322bc93f01eaceff3c3af876aacc350d8f9c000301f900bbf63a449fa35607720149d37bd5f1dee768a581314f11a102ff36e663f21604d37fa930be010c183eb389af7026990bed00e81ffa445e6b3b009758090a32a3739f01ca916893a1ffb920e100ed42aacafcedd40d7409bd0100ef9cb736489391b6f3fd57723c0901b35d2401e2b797615481728e1d17ec0db854ff994fffffbdaff74db970169b001eaa1eb3723e51fd001948b86a8dc0006086013a1ce400f8d567d7a51900bece0b1e9e55441e8ea612574cbaa6e5d1d83cfcbe24ac2628ebc67b5c2755456548ff84bc9c33bac033d39cb1eb11b82753e0e110848525918f56d7aa8f3d2c002acd7e30969b54b7844373eefb202feade00298500ff8f436bff8b0101cdeec93c0f'}, "stake": 6}, "20920aa12cf7090009ceff7722b5e716d87e013ed6b6e822f2c14a0b": {"secret": h'3c84de44c3b04ef9606c70ab1dbc4f6f303d760e190e0f48eea774f255233e94', "reg": {"pool": "20920aa12cf7090009ceff7722b5e716d87e013ed6b6e822f2c14a0b", "mvk": h'b92bb6aea2c286a048697d84926bf3619319683df96af6208a25730036b9efff961983bf2f632ee8dc58dc57cd6993220afd0fb644621e905778da25bd614841dc98293b8e1f121c5a2279e0affd0f52f8a50adeb514bc2cd36f3230aef1f9af', "mu": {"mu1": h'8fa20350b5495bc6f5e4313ac2ef4cb47d086c9aa95087a8297619df164817506862ff4d11666a73f553df3872a9fe5b', "mu2": h'8885e7d99e497c12f234c50339c8044b0d236474a153c2594e537450f3bfc344efbf599c4640432c6725755fbefcf48d'}, "kes_sig": h'2ab9e85260b54291d7fa014abe0b5ceeee1d38bb00e14bffc592ffc0b73c706923c39597ec8fffff712dc4a040d10122a54f000e60baa0dcaa355302867e94da2ff15a2afc00de014aea613458b80b54be91b0be9b83ff23b953449d0fdb7b945639f6ff067eed37dc71dc2986bc17799271465468ce283721e6fe37014e999371005e96dd98cf60cea1bdcc39370a51785000f5bc07bf510100790ef9ec2431289e4a33a444c54428ff4b8401227e0e6538e22de159af8a00fbaeb8ae512ac9e95fffad03267c0d6eac65b1c8ffc8d5c46b29340167241b585d4ccf8c530003a332364af000d17fb3a6ffc9010b011098afa96b21aa9caf99f49ad0761f02b6076646953a144f73c6b200ff4210b42b25b680eddcffe80401ff3dce50dc6e2772b3d126290f19e76cec01dab24a5eff06016d263135d8316f58add07cbb0057aa7a72003fffe77d7f7d4b0508716abbfa968a01aa0ac861d43bbfa67395366bf00101ff627fdcaee0ff14a91441c8ab9201e100fe3ff24fc26620e79265eaa81fd301a863dc2dc78aff8500cdc05dfba7899b0369ab4306c7df0dcd160082b8010bc1b1b3da7147515aa001f1aba5ac00eaf6304a71b1ab3225e52b4baa9949'}, "stake": 375}, "2147d78cd4a4bbfcbb49668fc7754af7860c29da79019be971ae3ef7": {"secret": h'25825d59648fe588811e68dc28ce5b0d2606650bb76d39805592f55fb7d1c52e', "reg": {"pool": "2147d78cd4a4bbfcbb49668fc7754af7860c29da79019be971ae3ef7", "mvk": h'ac9f653ea31b94745f647950d9a334134d503d37623d70ce77fc267285b660dbf7fc45af2b50586079494f11c424f3ce1073e0dfb90329254d6da07acdc4e2448b62abaf8269dc5c4535807da49bd3edf6add5025c351c55f27717b948cbe9c6', "mu": {"mu1": h'b275474208cc36acbbd869c2a44c591724e3334a8e3742ec47257afa912f6b92c8fac1db4ee4b51d68f94570bda86d52', "mu2": h'976b19fc316fc6b8ce371529eba8f6a2437245d8316a163c857ee9768d185641879e09fa84f50fc4382eaa88c34f56f5'}, "kes_sig": h'be45257c3a01a8ebd8dd49c32fbdffc17c3190d21f01e6ee069f63e2d020e90020979110619bc9016d9bd94ff335d6750127768a3f705401bcd0b1ff080f59826b4a3fa48e53451a9a03004aa9ca0001466cb29fc0aa1bc690851a5a7b2742ff95ccf2fe29df23f10aa3053455fe6bbd30c6620ba9001b38a4014dbd0fffa101c06660f6b5631b935399db280057f3020bf6ecd80b2f2fe73b420d3de6fff7ab4bde6cd6a6745dff81ffa96b05ce2b8808949a5b006fa9fffffd169145daacaac1ff0e387bc191773e302e73812d69a04435699b7f33a00d00fd78a7452bff6abe1cab1cdae89bc140ff4e83f20bdce9b6cd37f66bcc79c1ffc594ff65b2b45f540112012c696f2f23d2ca077da4990120080cc8c90006f991ca5eb6af96a500ab76df0ff500a707c96c193bff47cfff5c7800e89e7443fe09608d0b99c16ca4ccd44b11a00cf1f4dd6fe49ad2f76b41c59cd67685bf7445b187e303323eff011a7f6deb185fe7c126cf98cd7379e1c09d0ea3d9a48d0a01a8b35239d944d2dd2e40570138af0f0000fdff1ee2f41f1012ffd71c31ffc69f60d80295184cccc5f3accf0118356a68b682214a34009970da29fa6ec1cf1f9c01f7d20ff3a96844'}, "stake": 1709}, "5601ffd92ce31d7300bc3240676852ee60bb6f260adc390f018ccfc3": {"secret": h'6c080750ddbbfd2ebaebeb548051bdcafc64e04801eda024e5729196996aa6fc', "reg": {"pool": "5601ffd92ce31d7300bc3240676852ee60bb6f260adc390f018ccfc3", "mvk": h'87f285c7fed9e175964f8be6b9e05db07e4f53790664db8e1658bbed217584d130c2cbda32394e979b530e3160ebfa640afa09bda014c2cc5ff948a4a2561f710947b861b61ccbf2f5c5ee46f26d150f788f0cd797f5f0cbad6776ccdbc4da6a', "mu": {"mu1": h'924bbc3e179abec9ae5fe183f4802b862b88e3bed8b31da7ef7dd8f57a182c37bc9d2277699b70e157233efd31dd7ff0', "mu2": h'ab186901b1f5e7eaca1c369211bb06a9ae43a9c5f260361c6cea224820d54e5f9b46c69647e7a1f8889f721210cd3762'}, "kes_sig": h'dd2637dbb9d3e4c701c29c013a700000d76c8f4631a2da71004d660baa7c6358f31a7254fc54bf5a3024eca3660060ebed14e8f5e96001f4cb3bfe77315375ff435993d04ceb6e68aff6d16ed021576fa9dff2e75c0d8ba9eac42f68943ff1b57e3f019e00421db99f8169e84d71ed3da361570936751d49c690a4416d01175216723a9f9395f4dcf26091d157b1d0df8561d890c03d2f030108bb3cffd900e401793ffdca38d9f947015566535594ef01bd8940ab2bf701ff9d97b1016cff70bfbfe2558001cb36c49ac113997e5c09dd0e8b1fff85cea35a520124faf77492cc2b818b3ad54a0055db5f3f86edff16cc47abc5794bedbfc40ce18f98610002504a5132d97ccb160116e7b2df6ff527ffff4832040f6ae2180473ff85edac7f8cfa4c3ef04900f36b1e1085789874a705530ce5880f0124cbc001d0b7c5942cc817b8647b0d9bd46000016c47eac372066aa5e72bc7bf10fcd986f7b3074bdaf57aaff6ddb5f93059d3b3a1a9b9806e1ff99d8eed7d98d2e326d97910a744a3f09e19ac46605356453814ffcf166dae73aa126c3e310c607bfbe80121ff9af55462ff00731141f12e99454f785cb1e548f509cf0b3d11ff98d3516fcd821d4c'}, "stake": 1029}, "ca0942c844727c2ae61b0c2174880f76485d01ff006fac97ebe841f1": {"secret": h'7033be2d23c494365cbc27f8320d7a6820e14de70d10fe94e9116182c2b19d48', "reg": {"pool": "ca0942c844727c2ae61b0c2174880f76485d01ff006fac97ebe841f1", "mvk": h'8324bbc8bb344b20855acb6c7496c043156af674543c586215cd8afd5b3f5a2a071d6a3ba1a2af37eb60097a015da7aa00cba2fa866eb0e63486fab867f7944c987321bafb63530ca9d19c53d28378ae7aab7dea692ed16b6d85903c0b69300b', "mu": {"mu1": h'a7a40e2086c88fa77181e005ab9e62685ed6e832e60a439f162080d2b0fb2a6c8cd7c4c8895ba97f94a52bf06e8eff9c', "mu2": h'9918ac89fa5cc3568915c5de89a019ae44b598ad4c75c8187e5b195deca712ea02f4416b20165909943d1a89f7e6ef79'}, "kes_sig": h'23055af019dea4ed4c46eec6a545350653626952e4b8292c2590dc4785cafcff23d375c13f1c587a2549fc6809fad90683d01ca8dc3c7a646b01904bc1321cc100beda6c8bff73ffd7ff58bfbc4eb490c6c7d3454301016ac2bf88ee03b297dfe1d1527cb94303a23c099e40813b519d34212fd4454731959b25ff3b0b6f72adfd2244757221c6c5ab01570913c99c01265e6323e4006e895b00d2c88613d032a4948611a34431eb0a1900603601d3364b01f5a6ef4823f2b121ccb04a80018d57d79beacf9382ea213d2b201615b232462e6c66eb762d4b64a401bf015638a8e9ab70955dff0b018349df58c2f14f04dde9b6b1002ae2d44ced960163d4eb3100e98f19c7505d2fff70a06bd633a2da8ad21c01a8012c9ee910ff660144cdf41b713b5e504c00bae6018e51c4ffa6a022801f5b82c96301e74b9df6f5380847b87e27f5bea7a4cb0ce3dfe1e1620198008625007eaa159991f72e0aa6cb1b0d329601270c8b8aee628efbc6d896ff69ff13901c18bce1e1b88f00ffdf07ff1968b4c7c2b5ff1238a9ffff84368ecc49ca0ed271d793892314320c5676c3bdc4ba61004ba7c767b8ffff07bd03f464c935a320ffc8d60ac25f0082ff80f5b297'}, "stake": 2817}, "d73a4c34701739acfeedd592a2a70ab9cc7932a1ae0c5d00147270c6": {"secret": h'42259a74309afd3473cfe58b02ba150575f605af73f046a929652bdec72c7131', "reg": {"pool": "d73a4c34701739acfeedd592a2a70ab9cc7932a1ae0c5d00147270c6", "mvk": h'89279a010a08a2c5224909a5d68f3b60d0ac785101b26518d8178443096ab4d9f6792e83b826457651ff7b64d39420b501e43f6459d31b73019175f00e5064527098cf6b04e6cee70c428a2466e68e5af0dccc48ec1cb485f2a207a6bf903629', "mu": {"mu1": h'a1c4b658f5126300c6e0601e87ca9584e7d7feb1883a55055bf1a4eedf20118469b4fc1882fa84b402bee79e476cdb59', "mu2": h'b959412e33aa3d84d313d9c7394f7c3bf8f0a0ac513b7b92a5c6dd1be0c1d094223a7fe5e771af52451fb6bef7551417'}, "kes_sig": h'f96d5fffb6b71473b3233052a3ecd400223d308d878f293415bdbc2ccc6a30002be11fba738cf1f0fe89304e926d1b3bd686d3ae8e3b01aa07a631009cf600616f69e00071f4d0517b0177a0d0eecc12545cb8c1d3f320bd7423435835703f1e4f7f00123d494c6e99ca89064f90b1f4bc5bc48d762d2acc01f56da6002081aca3011d38b80c57c5c434b2097c64cd013ecc31fa0929bf38497bc203e31bff80682fc50141d1013b1e25d2f7ff4300662aa1623f5266a312ff00379b4741919b97b8ffff4991ff8e3f473bff4015c3ff55ffe555545005754f016da0cc88f46d2f717e6ece366a9a01217eb925749c0761bd7dca6f0196e5c1032519ba44b195f22553a012e5e2bc018ef1db4d0b821b3a45f8670fae5700db4901d4ac30a0c377eafd35ce98fc0b75eff4dc274e42b36205ae136d1bd26102529da40ad9ed35ffdbffa3be89012ecf01c05b2c58afd8d6a42258553da7e1013bbfb2d674818110c759b600127aefa3f8d0451a9e65aca468c400d69db2a5da47daab21ffc18644ad3ec66fd3d90119c34f405ba01384be003415007c00fbce6e58470a4b0b8894ff0895c325dbe30105207397c5b0a1aba94c4701745d21920e2466014bb2a2'}, "stake": 0}, "d74f85ff77ff10000e318dc364535b2e6b20696d7890ebc4878c5300": {"secret": h'216e2081937a801fe14140760f0a4d8ec0d50f18ea95a0e5d27178e53ac02b99', "reg": {"pool": "d74f85ff77ff10000e318dc364535b2e6b20696d7890ebc4878c5300", "mvk": h'a39495c2ef6d858fb758e7facc20b3cf2c0a0b9d166308005b10c2566090458280b4d02a33a7c5f100cf6a333242a48f172d914c7a9f4585d65f2182753dd09390c3a245bba363c74bd4bea895a3f6335a13eea180a577df117b9f3bf0cfe7be', "mu": {"mu1": h'8a5eed40c21ae01f72df3170880e3455f709655ceaaa385a56937b502f399d5be5ca1aedc3fa3b49dc3e56c2ab6ddee1', "mu2": h'833296249125b21f3dbee88acccfbefb5e6293c74d66edd793ae0d802274e91634d5f104bb58406d4b8e68b6e82c13c5'}, "kes_sig": h'0061e0094799e10115a6ae65e91627e484970d00f0ae061ce876cb5a1d0133c30a5d58ea0d6a0a50d8ce4aff2efb7288e84f08e87b7963ffe0b86a0109497ce900dcebce270172e4390251d1d676f728a8432d14119fffa24f5f087c0c9bb98e704febf6b6e71991155a8aa7008bb9ffacbc992c0796a49e301da7ff7ab31200d290aa07f786cb2d0db09b4b6a268bcf1064333aa3277389124583388cc577ad3c9b6c96b500ff2dfaf953e9573288f3e1b5800a03244655ce7aba70e7e4eabef02c0d064b3ec060dc00c1b14600280b1401f82208b75d93bb4e01f6060a1d32f9c4c133011ae0ff29bd01f91d3c2370b839380c5700564b011aa1f8736307ffc78dba0029bec14bcf37a23aef001a2a6a7d1f44ce1bb9fb4ea5f5813b001bccd2da499ca7a6e48a5f787b061b66cda20141866b9fb1f938d25901ae343cea4c4db150ccaa4f486869550a7729d3eaff7dbf41914b4901d6541eb14e0abfd817ba6e63cf0126002710eb296400b37a5797deb18c6bdeaaa1ba5e060067ad50b8fbf3b7f72e2b01616e01ca013ae076f74c648d3f0d1551352ef06d6c9d25d8ff94ff33687dfbb9bfe801feb47ed16faeeeffff008443a97e00fadcfbd0010bd8'}, "stake": 35}, "dfdc004f3500d1011f2b74ffbc3e3bffa2b5ccff9dff58f85e8fffd1": {"secret": h'669821ec5cf2f5431e596efb78251eef9f73e53d25f06f1181bffc7ac40621d1', "reg": {"pool": "dfdc004f3500d1011f2b74ffbc3e3bffa2b5ccff9dff58f85e8fffd1", "mvk": h'82b2a4ff84e2ca9802ef152f8e07cc6c7bc62f5ea0683fa5be966a5bdd9d51e0e34c28529967ae466d8ee01a930a8daf05e836b722b4acda7fd2973d298bcb12b8d124fb0000989366cda5a90bc3a47b4b0edb83d44575e900153b83dc6861c5', "mu": {"mu1": h'a8451ed5e413afb8ff13d1be1d53c29ebef87d604c1bdd61916ef1bfcaf54d6a240617b20b424211a7b0c3d1aa9920b8', "mu2": h'b79a801673b89424bcc54f302bcbb321a1c570ee1a7886c282110610492050b0dcf00c8f98c9d9bdbeb7e3e9155b308d'}, "kes_sig": h'e80f4ae31758c42314114cf98055c71ecfa434f93001b5afe198f598ff85c8e4ee6be936c2b3a779560466d00f1d013666e113b4ab833ab7807737b6a56c2fd17227c3ae01b0090011ac00d4d000469966d6e080f9faea2fab26139bb4336c35fec69446f7ce9874af00fffeb492709765011fb5009b3800fe23179c81451b937218037dff0480018870051ded718b16ff00b6d73cb8015701f675875966fde94b1f74aeffa62c5f4ae7fb974efb0b960101720158ce8026c626ef2b7ee25d5a6aa3a0ffb06d059545bc9a8d4512c3e6b4256001bfab7137f9c394014e6a4925ee20952a41e938964d726d3f155ee436030d15f61d7dd80b99913b638f427d5b00dc3001b7d3f156ef06e97e3e632cd8e7d6a0da29f4617c9ecee13922dbe305b9c22e41f7b2a2a7604e9ef3fb7ae6cf34b7ffaf5f5601379de686fe5c8f819ea4ff8ebabb0c53b1f9a1cbb39eafbd309ae95701298f99bccd49c8d715650600012a6b595e2f8300bb98e6aa53c398426d0f30cdc71106ee38be8e17e41901997e4dd8f944278189be4c0da188cf2d00b57d748d276b8c7fda00ff639937540077030124ba0ae130f2c301660100e03b1f3c58ef000101f5ce23d9d8a5bfc347'}, "stake": 169}}, "persistent_pool": {0: "00eba1ccffec153c01001c67e7777b5e6291082aa3e2ff011815909f", 1: "ca0942c844727c2ae61b0c2174880f76485d01ff006fac97ebe841f1", 2: "2147d78cd4a4bbfcbb49668fc7754af7860c29da79019be971ae3ef7", 3: "5601ffd92ce31d7300bc3240676852ee60bb6f260adc390f018ccfc3", 4: "20920aa12cf7090009ceff7722b5e716d87e013ed6b6e822f2c14a0b"}, "persistent_id": {"00eba1ccffec153c01001c67e7777b5e6291082aa3e2ff011815909f": 0, "20920aa12cf7090009ceff7722b5e716d87e013ed6b6e822f2c14a0b": 4, "2147d78cd4a4bbfcbb49668fc7754af7860c29da79019be971ae3ef7": 2, "5601ffd92ce31d7300bc3240676852ee60bb6f260adc390f018ccfc3": 3, "ca0942c844727c2ae61b0c2174880f76485d01ff006fac97ebe841f1": 1}, "total_stake": 10000, "nonpersistent_stake": [[1, [210]], [1, [1]]], "voters": 6}
```

### Cast votes by many stakepools

```console
$ leios_crypto_benchmarks --verbose cast-votes \
  --registry-file registry.cbor \
  --eid $(cat eid.txt) \
  --eb-hash $(cat ebhash.txt) \
  --fraction-voting 0.85 \
  --votes-file votes.cbor

Voters: 7

$ cbordump votes.cbor

[{"Persistent": {"persistent": 0, "eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "sigma_m": h'9087f7b129fe716b0cd2944e51871323a0d10bb27535d2f7a4957b74939f67be6769a64404f320cfeddc28359f108a70'}}, {"Persistent": {"persistent": 4, "eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "sigma_m": h'a263cc23b9440fafbbb3a04245d32e474557dd836534c6ff2729446b1db378022ff0f72280175bbc8b57ab305d1929e6'}}, {"Persistent": {"persistent": 2, "eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "sigma_m": h'8d0aa10e31c2dc13f588fdabc4872de81c94d01aef48dc7a69224d585a72647d7c758eabf1f90acdfaffdb7289174f29'}}, {"Persistent": {"persistent": 3, "eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "sigma_m": h'8ad62ee70104d6cb29def3525b76cfd8be54d7e2d7ee4e3c300c9d64ffa2ed5c40aa5f4d8fdfd97f2306c814f804cc77'}}, {"Persistent": {"persistent": 1, "eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "sigma_m": h'ada6571102600b9a3f7dca6a7deeeb739ac20f72aeebdbe472ee3e15209c388a0545ba6272943193d013067bdb48bd12'}}, {"Nonpersistent": {"pool": "d74f85ff77ff10000e318dc364535b2e6b20696d7890ebc4878c5300", "eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "sigma_eid": h'a9f41d29a60e753f4b549bc11932dab3ecdceea808d9c7ee757ce0290d1cf8aefef5d987bc15f0fbab5a38827290025f', "sigma_m": h'ae40bec7f422e3d47d7c17781cfae7b15567630526b74580d4b6c4fa5bb4c6677359980025c1c2a7babf2c2e0c526073'}}, {"Nonpersistent": {"pool": "dfdc004f3500d1011f2b74ffbc3e3bffa2b5ccff9dff58f85e8fffd1", "eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "sigma_eid": h'90b5ffb97e4f363ebd97954b91305ea86061432e497d5e77243cd5187fa7560824d13ef6d7987692a810b2f1e368bb0b', "sigma_m": h'b108eabb2ce34f46eb53c474d6f0b42286bc567b532e08ce5b1d6852854e9e2feaa998c31780ed4559f5aafa377b2f4c'}}]
```

### Build a certificate

```console
$ leios_crypto_benchmarks make-certificate \
  --registry-file registry.cbor \
  --votes-file votes.cbor \
  --certificate-file certificate.cbor

$ cbordump certificate.cbor

{"eid": h'0000000000000000', "eb": h'9600ba010024e100e9bfbb3701e9052b72a390ff75ac5da18ab5e3a3d2c69400', "persistent_voters": [3, 0, 1, 4, 2], "nonpersistent_voters": {"d74f85ff77ff10000e318dc364535b2e6b20696d7890ebc4878c5300": h'a9f41d29a60e753f4b549bc11932dab3ecdceea808d9c7ee757ce0290d1cf8aefef5d987bc15f0fbab5a38827290025f', "dfdc004f3500d1011f2b74ffbc3e3bffa2b5ccff9dff58f85e8fffd1": h'90b5ffb97e4f363ebd97954b91305ea86061432e497d5e77243cd5187fa7560824d13ef6d7987692a810b2f1e368bb0b'}, "sigma_tilde_eid": h'8ef50fd9f2da481a07a639a0d8a185024b308b0062d62ec7f1496b5be4920f87ed147feb7fb3371b1bf8f80cbc241490', "sigma_tilde_m": h'ae7699738182d69be0bc105e004c6a3c4f501f21d9a80dd08e67f69d6d3d3dae637b76ef771d66be331785679101bcd6'}
```

### Verify the cryptographic validity of a certificate

```console
$leios_crypto_benchmarks --verbose verify-certificate \
  --registry-file registry.cbor \
  --certificate-file certificate.cbor

Certificate verified.
```

### Verify that a certificate attests to a particular quorum

```console
$ leios_crypto_benchmarks --verbose verify-quorum \
  --registry-file registry.cbor \
  --certificate-file certificate.cbor \
  --quorum-fraction 0.55

Seats in election: 6
Persistent voters: 5
Nonpersistent voters: 2
Fraction of stake: 979/1000 = 97.89999999999999 %
Quorum? true
```


## Tests

```console
$ cargo test

     Running tests/cert_tests.rs (target/debug/deps/cert_tests-427b57494bb3ce72)

running 3 tests
test prop_verify_cert ... ok
test prop_gen_cert ... ok
test prop_weigh_cert ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 16.35s

     Running tests/fait_accompli_tests.rs (target/debug/deps/fait_accompli_tests-852e01bc71c8699a)

running 1 test
test fa_test ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/serialization_tests.rs (target/debug/deps/serialization_tests-9cf247319935e6eb)

running 10 tests
test prop_eid_serialization ... ok
test prop_ebhash_serialization ... ok
test prop_seckey_serialization ... ok
test prop_kessig_serialization ... ok
test prop_sig_serialization ... ok
test prop_pubkey_serialization ... ok
test prop_vote_serialization ... ok
test prop_pop_serialization ... ok
test prop_reg_serialization ... ok
test prop_cert_serialization ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 14.60s

     Running tests/sortition_tests.rs (target/debug/deps/sortition_tests-854d7ba6eef66f81)

running 2 tests
test leader ... ok
test uniform_sig_to_rational ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running tests/vote_tests.rs (target/debug/deps/vote_tests-ffa4163887ca062d)

running 3 tests
test prop_verify_vote_persistent ... ok
test prop_check_pop ... ok
test prop_verify_vote_nonpersistent ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.32s
```


### Benchmarks

```console
$ cargo bench

fait_accompli                       time:   [5.4554 ms 5.4918 ms 5.5294 ms]

Reg::serialize                      time:   [1.0979 µs 1.1121 µs 1.1280 µs]
Reg::deserialize                    time:   [51.618 µs 51.792 µs 51.982 µs]

Vote::serialize                     time:   [625.65 ns 632.65 ns 640.23 ns]
Vote::deserialize                   time:   [18.967 µs 19.068 µs 19.170 µs]

Cert::serialize                     time:   [60.057 µs 64.610 µs 69.232 µs]
Cert::deserialize                   time:   [2.4180 ms 2.6489 ms 2.8735 ms]

log (1 - f)                         time:   [111.74 µs 112.39 µs 113.05 µs]
vrf::leader_check                   time:   [2.3944 µs 2.4051 µs 2.4173 µs]
vrf::voter_check                    time:   [229.46 µs 230.56 µs 231.84 µs]

key::check_pop                      time:   [1.4446 ms 1.4524 ms 1.4611 ms]

vote::gen_vote_persistent           time:   [134.64 µs 135.15 µs 135.72 µs]
vote::gen_vote_nonpersistent        time:   [271.98 µs 273.95 µs 276.13 µs]
vote::verify_vote_persistent        time:   [663.12 µs 667.14 µs 671.42 µs]
vote::verify_vote_nonpersistent     time:   [1.3957 ms 1.4078 ms 1.4231 ms]

cert::gen_cert                      time:   [86.915 ms 90.970 ms 95.058 ms]
cert::verify_cert                   time:   [127.40 ms 133.74 ms 140.16 ms]
cert::weigh_cert                    time:   [5.2765 ms 5.9435 ms 6.6173 ms]

vrf::vrf_prove                      time:   [242.23 µs 243.96 µs 246.35 µs]
vrf::vrf_verify                     time:   [408.17 µs 412.04 µs 416.31 µs]
```
